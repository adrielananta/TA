/*! For license information please see main.de99dd49.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var B,j=Object.assign;function N(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function H(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case S:return"Portal";case E:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){q(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ce=null;function _e(e){if(e=vi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=mi(t),ke(e.stateNode,e.type,t))}}function Ee(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function xe(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Me=!1;function Te(e,t,n){if(Me)return e(t,n);Me=!0;try{return Ie(e,t,n)}finally{Me=!1,(null!==Se||null!==Ce)&&(Pe(),xe())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=mi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(tc){Re=!1}function Ae(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Be=null,je=!1,Ne=null,Fe={onError:function(e){Le=!0,Be=e}};function ze(e,t,n,r,i,o,a,s,u){Le=!1,Be=null,Ae.apply(Fe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ge=i.unstable_now,qe=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,Je=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/st|0)|0},at=Math.log,st=Math.LN2;var ut=64,lt=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ct(s):0!==(o&=a)&&(r=ct(o))}else 0!==(a=n&~i)?r=ct(a):0!==o&&(r=ct(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Ct,_t,Et=!1,xt=[],It=null,Pt=null,Mt=null,Tt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=pi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void _t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Nt(e,t,n){jt(e)&&n.delete(t)}function Ft(){Et=!1,null!==It&&jt(It)&&(It=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==Mt&&jt(Mt)&&(Mt=null),Tt.forEach(Nt),Ot.forEach(Nt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Ht(e){function t(t){return zt(t,e)}if(0<xt.length){zt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Pt&&zt(Pt,e),null!==Mt&&zt(Mt,e),Tt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Rt.shift()}var Ut=w.ReactCurrentBatchConfig,Vt=!0;function Kt(e,t,n,r){var i=yt,o=Ut.transition;Ut.transition=null;try{yt=1,Wt(e,t,n,r)}finally{yt=i,Ut.transition=o}}function Zt(e,t,n,r){var i=yt,o=Ut.transition;Ut.transition=null;try{yt=4,Wt(e,t,n,r)}finally{yt=i,Ut.transition=o}}function Wt(e,t,n,r){if(Vt){var i=Xt(e,t,n,r);if(null===i)zr(e,t,r,Yt,n),At(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Mt=Lt(Mt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,Lt(Tt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Lt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=vi(i);if(null!==o&&wt(o),null===(o=Xt(e,t,n,r))&&zr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=pi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case Qe:return 1;case Je:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Gt=null,qt=null,Qt=null;function Jt(){if(Qt)return Qt;var e,t,n=qt,r=n.length,i="value"in Gt?Gt.value:Gt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var on,an,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=rn(un),cn=j({},un,{view:0,detail:0}),dn=rn(cn),fn=j({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=rn(fn),pn=rn(j({},fn,{dataTransfer:0})),vn=rn(j({},cn,{relatedTarget:0})),gn=rn(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=rn(j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=rn(j({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var _n=rn(j({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=rn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=rn(j({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=rn(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=rn(j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Mn=[9,13,27,32],Tn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Rn=c&&"TextEvent"in window&&!On,Dn=c&&(!Tn||On&&8<On&&11>=On),An=String.fromCharCode(32),Ln=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Ur(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Vn=null;function Kn(e){Ar(e,0)}function Zn(e){if(Y(gi(e)))return e}function Wn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var $n="oninput"in document;if(!$n){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),$n="function"===typeof Gn.oninput}Xn=$n}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function qn(){Un&&(Un.detachEvent("onpropertychange",Qn),Vn=Un=null)}function Qn(e){if("value"===e.propertyName&&Zn(Vn)){var t=[];Hn(t,Vn,e,we(e)),Te(Kn,t)}}function Jn(e,t,n){"focusin"===e?(qn(),Vn=n,(Un=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&qn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Vn)}function tr(e,t){if("click"===e)return Zn(t)}function nr(e,t){if("input"===e||"change"===e)return Zn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ar(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&lr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ar(n,o);var a=ar(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=c&&"documentMode"in document&&11>=document.documentMode,fr=null,hr=null,pr=null,vr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==fr||fr!==X(r)||("selectionStart"in(r=fr)&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Ur(hr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionend:mr("Transition","TransitionEnd")},br={},wr={};function kr(e){if(br[e])return br[e];if(!yr[e])return e;var t,n=yr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return br[e]=n[t];return e}c&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);var Sr=kr("animationend"),Cr=kr("animationiteration"),_r=kr("animationstart"),Er=kr("transitionend"),xr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){xr.set(e,t),u(t,[e])}for(var Mr=0;Mr<Ir.length;Mr++){var Tr=Ir[Mr];Pr(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(_r,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Er,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(ze.apply(this,arguments),Le){if(!Le)throw Error(o(198));var c=Be;Le=!1,Be=null,je||(je=!0,Ne=c)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,s,l),o=u}}}if(je)throw e=Ne,je=!1,Ne=null,e}function Lr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[jr]){e[jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Br("selectionchange",!1,t))}}function Fr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Zt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=pi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=o,i=we(n),a=[];e:{var s=xr.get(e);if(void 0!==s){var u=ln,l=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":u=_n;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=xn;break;case Sr:case Cr:case _r:u=gn;break;case Er:u=In;break;case"scroll":u=dn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=En}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Oe(p,f))&&c.push(Hr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!pi(l)&&!l[ci])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?pi(l):null)&&(l!==(d=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:gi(u),h=null==l?s:gi(l),(s=new c(v,p+"leave",u,n,i)).target=d,s.relatedTarget=h,v=null,pi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(f=l,p=0,h=c=u;h;h=Vr(h))p++;for(h=0,v=f;v;v=Vr(v))h++;for(;0<p-h;)c=Vr(c),p--;for(;0<h-p;)f=Vr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==u&&Kr(a,s,u,c,!1),null!==l&&null!==d&&Kr(a,d,l,c,!0)}if("select"===(u=(s=r?gi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Wn;else if(zn(s))if(Yn)g=nr;else{g=er;var m=Jn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?gi(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(fr=m,hr=r,pr=null);break;case"focusout":pr=hr=fr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,gr(a,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(a,n,i)}var y;if(Tn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Nn&&(y=Jt()):(qt="value"in(Gt=i)?Gt.value:Gt.textContent,Nn=!0)),0<(m=Ur(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Ln=!0,An);case"textInput":return(e=t.data)===An&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!Tn&&Bn(e,t)?(e=Jt(),Qt=qt=Gt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ar(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Oe(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=Oe(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zr=/\r\n?/g,Wr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Wr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function $r(){}var Gr=null,qr=null;function Qr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Jr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ai(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ui="__reactFiber$"+si,li="__reactProps$"+si,ci="__reactContainer$"+si,di="__reactEvents$"+si,fi="__reactListeners$"+si,hi="__reactHandles$"+si;function pi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ai(e);null!==e;){if(n=e[ui])return n;e=ai(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[ui]||e[ci])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function mi(e){return e[li]||null}var yi=[],bi=-1;function wi(e){return{current:e}}function ki(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function Si(e,t){bi++,yi[bi]=e.current,e.current=t}var Ci={},_i=wi(Ci),Ei=wi(!1),xi=Ci;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){ki(Ei),ki(_i)}function Ti(e,t,n){if(_i.current!==Ci)throw Error(o(168));Si(_i,t),Si(Ei,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return j({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,xi=_i.current,Si(_i,e),Si(Ei,Ei.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,xi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ei),ki(_i),Si(_i,e)):ki(Ei),Si(Ei,n)}var Ai=null,Li=!1,Bi=!1;function ji(e){null===Ai?Ai=[e]:Ai.push(e)}function Ni(){if(!Bi&&null!==Ai){Bi=!0;var e=0,t=yt;try{var n=Ai;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ai=null,Li=!1}catch(i){throw null!==Ai&&(Ai=Ai.slice(e+1)),We(Qe,Ni),i}finally{yt=t,Bi=!1}}return null}var Fi=[],zi=0,Hi=null,Ui=0,Vi=[],Ki=0,Zi=null,Wi=1,Yi="";function Xi(e,t){Fi[zi++]=Ui,Fi[zi++]=Hi,Hi=e,Ui=t}function $i(e,t,n){Vi[Ki++]=Wi,Vi[Ki++]=Yi,Vi[Ki++]=Zi,Zi=e;var r=Wi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var o=32-ot(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wi=1<<32-ot(t)+i|n<<i|r,Yi=o+e}else Wi=1<<o|n<<i|r,Yi=e}function Gi(e){null!==e.return&&(Xi(e,1),$i(e,1,0))}function qi(e){for(;e===Hi;)Hi=Fi[--zi],Fi[zi]=null,Ui=Fi[--zi],Fi[zi]=null;for(;e===Zi;)Zi=Vi[--Ki],Vi[Ki]=null,Yi=Vi[--Ki],Vi[Ki]=null,Wi=Vi[--Ki],Vi[Ki]=null}var Qi=null,Ji=null,eo=!1,to=null;function no(e,t){var n=Il(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ro(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Qi=e,Ji=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Qi=e,Ji=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Wi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Il(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Qi=e,Ji=null,!0);default:return!1}}function io(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function oo(e){if(eo){var t=Ji;if(t){var n=t;if(!ro(e,t)){if(io(e))throw Error(o(418));t=oi(n.nextSibling);var r=Qi;t&&ro(e,t)?no(r,n):(e.flags=-4097&e.flags|2,eo=!1,Qi=e)}}else{if(io(e))throw Error(o(418));e.flags=-4097&e.flags|2,eo=!1,Qi=e}}}function ao(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Qi=e}function so(e){if(e!==Qi)return!1;if(!eo)return ao(e),eo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Qr(e.type,e.memoizedProps)),t&&(t=Ji)){if(io(e))throw uo(),Error(o(418));for(;t;)no(e,t),t=oi(t.nextSibling)}if(ao(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ji=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ji=null}}else Ji=Qi?oi(e.stateNode.nextSibling):null;return!0}function uo(){for(var e=Ji;e;)e=oi(e.nextSibling)}function lo(){Ji=Qi=null,eo=!1}function co(e){null===to?to=[e]:to.push(e)}var fo=w.ReactCurrentBatchConfig;function ho(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var po=wi(null),vo=null,go=null,mo=null;function yo(){mo=go=vo=null}function bo(e){var t=po.current;ki(po),e._currentValue=t}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){vo=e,mo=go=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gs=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(mo!==e)if(e={context:e,memoizedValue:t,next:null},null===go){if(null===vo)throw Error(o(308));go=e,vo.dependencies={lanes:0,firstContext:e}}else go=go.next=e;return t}var Co=null;function _o(e){null===Co?Co=[e]:Co.push(e)}function Eo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_o(t)):(n.next=i.next,i.next=n),t.interleaved=n,xo(e,r)}function xo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function To(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_u)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xo(e,n)}return null===(i=r.interleaved)?(t.next=t,_o(r)):(t.next=i.next,i.next=t),r.interleaved=t,xo(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ao(e,t,n,r){var i=e.updateQueue;Io=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var d=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=j({},d,f);break e;case 2:Io=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=d):c=c.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ru|=a,e.lanes=a,e.memoizedState=d}}function Lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function jo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var No={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=qu(e),o=To(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(Qu(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=qu(e),o=To(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(Qu(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gu(),r=qu(e),i=To(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(Qu(t,e,r,n),Ro(t,e,r))}};function Fo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,o))}function zo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(i=Pi(t)?xi:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=No,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function Uo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=So(o):(o=Pi(t)?xi:_i.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&No.enqueueReplaceState(i,i.state,null),Ao(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){return(0,e._init)(e._payload)}function Wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Dl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Zo(o)===t.type)?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=Tl(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Al(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Tl(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case S:return(t=Al(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ol(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,d=o,v=o=0,g=null;null!==d&&v<s.length;v++){d.index>v?(g=d,d=null):g=d.sibling;var m=h(i,d,s[v],u);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m,d=g}if(v===s.length)return n(i,d),eo&&Xi(i,v),l;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(o=a(d,o,v),null===c?l=d:c.sibling=d,c=d);return eo&&Xi(i,v),l}for(d=r(i,d);v<s.length;v++)null!==(g=p(d,i,v,s[v],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),eo&&Xi(i,v),l}function g(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var d=c=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===d?c=b:d.sibling=b,d=b,v=m}if(y.done)return n(i,v),eo&&Xi(i,g),c;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return eo&&Xi(i,g),c}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),eo&&Xi(i,g),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===C){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Zo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Vo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===C?((o=Ol(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Tl(a.type,a.key,a.props,null,r.mode,u)).ref=Vo(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Al(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return g(r,o,a,u);Ko(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Dl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Yo=Wo(!0),Xo=Wo(!1),$o={},Go=wi($o),qo=wi($o),Qo=wi($o);function Jo(e){if(e===$o)throw Error(o(174));return e}function ea(e,t){switch(Si(Qo,t),Si(qo,e),Si(Go,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Go),Si(Go,t)}function ta(){ki(Go),ki(qo),ki(Qo)}function na(e){Jo(Qo.current);var t=Jo(Go.current),n=ue(t,e.type);t!==n&&(Si(qo,e),Si(Go,n))}function ra(e){qo.current===e&&(ki(Go),ki(qo))}var ia=wi(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var ua=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ca=0,da=null,fa=null,ha=null,pa=!1,va=!1,ga=0,ma=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,i,a){if(ca=a,da=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ua.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),va){a=0;do{if(va=!1,ga=0,25<=a)throw Error(o(301));a+=1,ha=fa=null,t.updateQueue=null,ua.current=os,e=n(r,i)}while(va)}if(ua.current=ns,t=null!==fa&&null!==fa.next,ca=0,ha=fa=da=null,pa=!1,t)throw Error(o(300));return e}function ka(){var e=0!==ga;return ga=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ha?da.memoizedState=ha=e:ha=ha.next=e,ha}function Ca(){if(null===fa){var e=da.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===ha?da.memoizedState:ha.next;if(null!==t)ha=t,fa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===ha?da.memoizedState=ha=e:ha=ha.next=e}return ha}function _a(e,t){return"function"===typeof t?t(e):t}function Ea(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=fa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var d=c.lane;if((ca&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,da.lanes|=d,Ru|=d}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,rr(r,t.memoizedState)||(gs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,da.lanes|=a,Ru|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);rr(a,t.memoizedState)||(gs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Pa(e,t){var n=da,r=Ca(),i=t(),a=!rr(r.memoizedState,i);if(a&&(r.memoizedState=i,gs=!0),r=r.queue,za(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ha&&1&ha.memoizedState.tag){if(n.flags|=2048,La(9,Ta.bind(null,n,r,i,t),void 0,null),null===Eu)throw Error(o(349));0!==(30&ca)||Ma(n,t,i)}return i}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&Da(e)}function Oa(e,t,n){return n((function(){Ra(t)&&Da(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Da(e){var t=xo(e,1);null!==t&&Qu(t,e,1,-1)}function Aa(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,da,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=da.updateQueue)?(t={lastEffect:null,stores:null},da.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Ca().memoizedState}function ja(e,t,n,r){var i=Sa();da.flags|=e,i.memoizedState=La(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==r&&ba(r,a.deps))return void(i.memoizedState=La(t,n,o,r))}da.flags|=e,i.memoizedState=La(1|t,n,o,r)}function Fa(e,t){return ja(8390656,8,e,t)}function za(e,t){return Na(2048,8,e,t)}function Ha(e,t){return Na(4,2,e,t)}function Ua(e,t){return Na(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Va.bind(null,t,e),n)}function Za(){}function Wa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ba(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,gs=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),da.lanes|=n,Ru|=n,e.baseState=!0),t)}function $a(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{yt=n,la.transition=r}}function Ga(){return Ca().memoizedState}function qa(e,t,n){var r=qu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))es(t,n);else if(null!==(n=Eo(e,t,n,r))){Qu(n,e,r,Gu()),ts(n,t,r)}}function Qa(e,t,n){var r=qu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))es(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,a)){var u=t.interleaved;return null===u?(i.next=i,_o(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Eo(e,t,i,r))&&(Qu(n,e,r,i=Gu()),ts(n,t,r))}}function Ja(e){var t=e.alternate;return e===da||null!==t&&t===da}function es(e,t){va=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var ns={readContext:So,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},rs={readContext:So,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,da,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Aa,useDebugValue:Za,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=$a.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=da,i=Sa();if(eo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Eu)throw Error(o(349));0!==(30&ca)||Ma(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Fa(Oa.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Eu.identifierPrefix;if(eo){var n=Yi;t=":"+t+"R"+(n=(Wi&~(1<<32-ot(Wi)-1)).toString(32)+n),0<(n=ga++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ma++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:So,useCallback:Wa,useContext:So,useEffect:za,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ua,useMemo:Ya,useReducer:Ea,useRef:Ba,useState:function(){return Ea(_a)},useDebugValue:Za,useDeferredValue:function(e){return Xa(Ca(),fa.memoizedState,e)},useTransition:function(){return[Ea(_a)[0],Ca().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Pa,useId:Ga,unstable_isNewReconciler:!1},os={readContext:So,useCallback:Wa,useContext:So,useEffect:za,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ua,useMemo:Ya,useReducer:xa,useRef:Ba,useState:function(){return xa(_a)},useDebugValue:Za,useDeferredValue:function(e){var t=Ca();return null===fa?t.memoizedState=e:Xa(t,fa.memoizedState,e)},useTransition:function(){return[xa(_a)[0],Ca().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Pa,useId:Ga,unstable_isNewReconciler:!1};function as(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ls="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=To(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Hu=r),us(0,t)},n}function ds(e,t,n){(n=To(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){us(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===Uu?Uu=new Set([this]):Uu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=To(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,gs=!1;function ms(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function ys(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=wa(e,t,n,r,o,i),n=ka(),null===e||gs?(eo&&n&&Gi(t),t.flags|=1,ms(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ws(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(a,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Ml(o,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ir(o,r)&&e.ref===t.ref){if(gs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(gs=!0)}}return Cs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Mu,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Mu,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Mu,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Mu,Pu),Pu|=r;return ms(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Pi(n)?xi:_i.current;return o=Ii(t,o),ko(t,i),n=wa(e,t,n,r,o,i),r=ka(),null===e||gs?(eo&&r&&Gi(t),t.flags|=1,ms(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function _s(e,t,n,r,i){if(Pi(n)){var o=!0;Ri(t)}else o=!1;if(ko(t,i),null===t.stateNode)Fs(e,t),zo(t,n,r),Uo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=So(l):l=Ii(t,l=Pi(n)?xi:_i.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Ho(t,a,r,l),Io=!1;var f=t.memoizedState;a.state=f,Ao(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ei.current||Io?("function"===typeof c&&(jo(t,n,c,r),u=t.memoizedState),(s=Io||Fo(t,n,s,r,f,u,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ho(t.type,s),a.props=l,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=So(u):u=Ii(t,u=Pi(n)?xi:_i.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&Ho(t,a,r,u),Io=!1,f=t.memoizedState,a.state=f,Ao(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Ei.current||Io?("function"===typeof h&&(jo(t,n,h,r),p=t.memoizedState),(l=Io||Fo(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,o,i)}function Es(e,t,n,r,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Di(t,n,!1),zs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):ms(e,t,s,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function xs(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),ea(e,t.containerInfo)}function Is(e,t,n,r,i){return lo(),co(i),t.flags|=256,ms(e,t,n,r),t.child}var Ps,Ms,Ts,Os={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,i=t.pendingProps,a=ia.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ia,1&a),null===e)return oo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Rl(u,i,0,null),e=Ol(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Os,e):As(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=ss(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rl({mode:"visible",children:r.children},i,0,null),(a=Ol(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Os,a);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ls(e,t,s,r=ss(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),gs||u){if(null!==(r=Eu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,xo(e,i),Qu(r,e,i,-1))}return dl(),Ls(e,t,s,r=ss(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ji=oi(i.nextSibling),Qi=t,eo=!0,to=null,null!==e&&(Vi[Ki++]=Wi,Vi[Ki++]=Yi,Vi[Ki++]=Zi,Wi=e.id,Yi=e.overflow,Zi=t),(t=As(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ml(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ml(r,s):(s=Ol(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Os,i}return e=(s=e.child).sibling,i=Ml(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function As(e,t){return(t=Rl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&co(r),Yo(t,e.child,null,n),(e=As(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function js(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ms(e,t,r.children,n),0!==(2&(r=ia.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ia,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,o);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!eo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Us(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,n){var r=t.pendingProps;switch(qi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(t),null;case 1:case 17:return Pi(t.type)&&Mi(),Us(t),null;case 3:return r=t.stateNode,ta(),ki(Ei),ki(_i),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(so(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==to&&(nl(to),to=null))),Us(t),null;case 5:ra(t);var i=Jo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Us(t),null}if(e=Jo(Go.current),so(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ui]=t,r[li]=a,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Lr(Or[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":G(r,a),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",r);break;case"textarea":ie(r,a),Lr("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Lr("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ui]=t,e[li]=r,Ps(e,t),t.stateNode=e;e:{switch(u=ye(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Lr(Or[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":G(e,r),i=$(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(a in me(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Lr("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Us(t),null;case 6:if(e&&null!=t.stateNode)Ts(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Qo.current),Jo(Go.current),so(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(a=r.nodeValue!==n)&&null!==(e=Qi))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ui]=t,t.stateNode=r}return Us(t),null;case 13:if(ki(ia),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(eo&&null!==Ji&&0!==(1&t.mode)&&0===(128&t.flags))uo(),lo(),t.flags|=98560,a=!1;else if(a=so(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[ui]=t}else lo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Us(t),a=!1}else null!==to&&(nl(to),to=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ia.current)?0===Tu&&(Tu=3):dl())),null!==t.updateQueue&&(t.flags|=4),Us(t),null);case 4:return ta(),null===e&&Nr(t.stateNode.containerInfo),Us(t),null;case 10:return bo(t.type._context),Us(t),null;case 19:if(ki(ia),null===(a=t.memoizedState))return Us(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Tu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=oa(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ia,1&ia.current|2),t.child}e=e.sibling}null!==a.tail&&Ge()>Nu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oa(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!eo)return Us(t),null}else 2*Ge()-a.renderingStartTime>Nu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ge(),t.sibling=null,n=ia.current,Si(ia,r?1&n|2:1&n),t):(Us(t),null);case 22:case 23:return sl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Us(t),6&t.subtreeFlags&&(t.flags|=8192)):Us(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(qi(t),t.tag){case 1:return Pi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),ki(Ei),ki(_i),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ra(t),null;case 13:if(ki(ia),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));lo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ia),null;case 4:return ta(),null;case 10:return bo(t.type._context),null;case 22:case 23:return sl(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo(Go.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Lr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ts=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Ws=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wl(e,t,r)}else n.current=null}function Gs(e,t,n){try{n()}catch(r){wl(e,t,r)}}var qs=!1;function Qs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Gs(t,n,o)}i=i.next}while(i!==r)}}function Js(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function tu(e){var t=e.alternate;null!==t&&(e.alternate=null,tu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[li],delete t[di],delete t[fi],delete t[hi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nu(e){return 5===e.tag||3===e.tag||4===e.tag}function ru(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function iu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(iu(e,t,n),e=e.sibling;null!==e;)iu(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var au=null,su=!1;function uu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ws||$s(n,t);case 6:var r=au,i=su;au=null,uu(e,t,n),su=i,null!==(au=r)&&(su?(e=au,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):au.removeChild(n.stateNode));break;case 18:null!==au&&(su?(e=au,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),Ht(e)):ii(au,n.stateNode));break;case 4:r=au,i=su,au=n.stateNode.containerInfo,su=!0,uu(e,t,n),au=r,su=i;break;case 0:case 11:case 14:case 15:if(!Ws&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Gs(n,t,a),i=i.next}while(i!==r)}uu(e,t,n);break;case 1:if(!Ws&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wl(n,t,s)}uu(e,t,n);break;case 21:uu(e,t,n);break;case 22:1&n.mode?(Ws=(r=Ws)||null!==n.memoizedState,uu(e,t,n),Ws=r):uu(e,t,n);break;default:uu(e,t,n)}}function cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function du(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:au=u.stateNode,su=!1;break e;case 3:case 4:au=u.stateNode.containerInfo,su=!0;break e}u=u.return}if(null===au)throw Error(o(160));lu(a,s,i),au=null,su=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){wl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fu(t,e),t=t.sibling}function fu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(du(t,e),hu(e),4&r){try{Qs(3,e,e.return),Js(3,e)}catch(g){wl(e,e.return,g)}try{Qs(5,e,e.return)}catch(g){wl(e,e.return,g)}}break;case 1:du(t,e),hu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(du(t,e),hu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){wl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&q(i,a),ye(u,s);var c=ye(u,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?ce(i,f):"children"===d?de(i,f):b(i,d,f,c)}switch(u){case"input":Q(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[li]=a}catch(g){wl(e,e.return,g)}}break;case 6:if(du(t,e),hu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){wl(e,e.return,g)}}break;case 3:if(du(t,e),hu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){wl(e,e.return,g)}break;case 4:default:du(t,e),hu(e);break;case 13:du(t,e),hu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Ge())),4&r&&cu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ws=(c=Ws)||d,du(t,e),Ws=c):du(t,e),hu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(f=Xs=d;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:Qs(4,h,h.return);break;case 1:$s(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){wl(r,n,g)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){mu(f);continue}}null!==p?(p.return=h,Xs=p):mu(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=pe("display",s))}catch(g){wl(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){wl(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:du(t,e),hu(e),4&r&&cu(e);case 21:}}function hu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(nu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ou(e,ru(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;iu(e,ru(e),a);break;default:throw Error(o(161))}}catch(s){wl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pu(e,t,n){Xs=e,vu(e,t,n)}function vu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ws;s=Zs;var l=Ws;if(Zs=a,(Ws=u)&&!l)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?yu(i):null!==u?(u.return=a,Xs=u):yu(i);for(;null!==o;)Xs=o,vu(o,t,n),o=o.sibling;Xs=i,Zs=s,Ws=l}gu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):gu(e)}}function gu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ws||Js(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ws)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Lo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Lo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(o(163))}Ws||512&t.flags&&eu(t)}catch(h){wl(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function mu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function yu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Js(4,t)}catch(u){wl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){wl(t,i,u)}}var o=t.return;try{eu(t)}catch(u){wl(t,o,u)}break;case 5:var a=t.return;try{eu(t)}catch(u){wl(t,a,u)}}}catch(u){wl(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var bu,wu=Math.ceil,ku=w.ReactCurrentDispatcher,Su=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,_u=0,Eu=null,xu=null,Iu=0,Pu=0,Mu=wi(0),Tu=0,Ou=null,Ru=0,Du=0,Au=0,Lu=null,Bu=null,ju=0,Nu=1/0,Fu=null,zu=!1,Hu=null,Uu=null,Vu=!1,Ku=null,Zu=0,Wu=0,Yu=null,Xu=-1,$u=0;function Gu(){return 0!==(6&_u)?Ge():-1!==Xu?Xu:Xu=Ge()}function qu(e){return 0===(1&e.mode)?1:0!==(2&_u)&&0!==Iu?Iu&-Iu:null!==fo.transition?(0===$u&&($u=pt()),$u):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Qu(e,t,n,r){if(50<Wu)throw Wu=0,Yu=null,Error(o(185));gt(e,n,r),0!==(2&_u)&&e===Eu||(e===Eu&&(0===(2&_u)&&(Du|=n),4===Tu&&rl(e,Iu)),Ju(e,r),1===n&&0===_u&&0===(1&t.mode)&&(Nu=Ge()+500,Li&&Ni()))}function Ju(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ot(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Eu?Iu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Li=!0,ji(e)}(il.bind(null,e)):ji(il.bind(null,e)),ni((function(){0===(6&_u)&&Ni()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=Je;break;case 16:default:n=et;break;case 536870912:n=nt}n=El(n,el.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function el(e,t){if(Xu=-1,$u=0,0!==(6&_u))throw Error(o(327));var n=e.callbackNode;if(yl()&&e.callbackNode!==n)return null;var r=dt(e,e===Eu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fl(e,r);else{t=r;var i=_u;_u|=2;var a=cl();for(Eu===e&&Iu===t||(Fu=null,Nu=Ge()+500,ul(e,t));;)try{pl();break}catch(u){ll(e,u)}yo(),ku.current=a,_u=i,null!==xu?t=0:(Eu=null,Iu=0,t=Tu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=tl(e,i))),1===t)throw n=Ou,ul(e,0),rl(e,r),Ju(e,Ge()),n;if(6===t)rl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=fl(e,r))&&(0!==(a=ht(e))&&(r=a,t=tl(e,a))),1===t))throw n=Ou,ul(e,0),rl(e,r),Ju(e,Ge()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:ml(e,Bu,Fu);break;case 3:if(rl(e,r),(130023424&r)===r&&10<(t=ju+500-Ge())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Gu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jr(ml.bind(null,e,Bu,Fu),t);break}ml(e,Bu,Fu);break;case 4:if(rl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=Jr(ml.bind(null,e,Bu,Fu),r);break}ml(e,Bu,Fu);break;default:throw Error(o(329))}}}return Ju(e,Ge()),e.callbackNode===n?el.bind(null,e):null}function tl(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(ul(e,t).flags|=256),2!==(e=fl(e,t))&&(t=Bu,Bu=n,null!==t&&nl(t)),e}function nl(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function rl(e,t){for(t&=~Au,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function il(e){if(0!==(6&_u))throw Error(o(327));yl();var t=dt(e,0);if(0===(1&t))return Ju(e,Ge()),null;var n=fl(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=tl(e,r))}if(1===n)throw n=Ou,ul(e,0),rl(e,t),Ju(e,Ge()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ml(e,Bu,Fu),Ju(e,Ge()),null}function ol(e,t){var n=_u;_u|=1;try{return e(t)}finally{0===(_u=n)&&(Nu=Ge()+500,Li&&Ni())}}function al(e){null!==Ku&&0===Ku.tag&&0===(6&_u)&&yl();var t=_u;_u|=1;var n=Cu.transition,r=yt;try{if(Cu.transition=null,yt=1,e)return e()}finally{yt=r,Cu.transition=n,0===(6&(_u=t))&&Ni()}}function sl(){Pu=Mu.current,ki(Mu)}function ul(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==xu)for(n=xu.return;null!==n;){var r=n;switch(qi(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:ta(),ki(Ei),ki(_i),sa();break;case 5:ra(r);break;case 4:ta();break;case 13:case 19:ki(ia);break;case 10:bo(r.type._context);break;case 22:case 23:sl()}n=n.return}if(Eu=e,xu=e=Ml(e.current,null),Iu=Pu=t,Tu=0,Ou=null,Au=Du=Ru=0,Bu=Lu=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function ll(e,t){for(;;){var n=xu;try{if(yo(),ua.current=ns,pa){for(var r=da.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}pa=!1}if(ca=0,ha=fa=da=null,va=!1,ga=0,Su.current=null,null===n||null===n.return){Tu=1,Ou=t,xu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,ps(p,s,u,0,t),1&p.mode&&fs(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}if(0===(1&t)){fs(a,c,t),dl();break e}l=Error(o(426))}else if(eo&&1&u.mode){var m=hs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ps(m,s,u,0,t),co(as(l,u));break e}}a=l=as(l,u),4!==Tu&&(Tu=2),null===Lu?Lu=[a]:Lu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Do(a,cs(0,l,t));break e;case 1:u=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Uu||!Uu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Do(a,ds(a,u,t));break e}}a=a.return}while(null!==a)}gl(n)}catch(w){t=w,xu===n&&null!==n&&(xu=n=n.return);continue}break}}function cl(){var e=ku.current;return ku.current=ns,null===e?ns:e}function dl(){0!==Tu&&3!==Tu&&2!==Tu||(Tu=4),null===Eu||0===(268435455&Ru)&&0===(268435455&Du)||rl(Eu,Iu)}function fl(e,t){var n=_u;_u|=2;var r=cl();for(Eu===e&&Iu===t||(Fu=null,ul(e,t));;)try{hl();break}catch(i){ll(e,i)}if(yo(),_u=n,ku.current=r,null!==xu)throw Error(o(261));return Eu=null,Iu=0,Tu}function hl(){for(;null!==xu;)vl(xu)}function pl(){for(;null!==xu&&!Xe();)vl(xu)}function vl(e){var t=bu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?gl(e):xu=t,Su.current=null}function gl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vs(n,t,Pu)))return void(xu=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(xu=n);if(null===e)return Tu=6,void(xu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(xu=t);xu=t=e}while(null!==t);0===Tu&&(Tu=5)}function ml(e,t,n){var r=yt,i=Cu.transition;try{Cu.transition=null,yt=1,function(e,t,n,r){do{yl()}while(null!==Ku);if(0!==(6&_u))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Eu&&(xu=Eu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vu||(Vu=!0,El(et,(function(){return yl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=yt;yt=1;var u=_u;_u|=4,Su.current=null,function(e,t){if(Gr=Vt,lr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(u=s),h===a&&++d===r&&(l=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qr={focusedElem:e,selectionRange:n},Vt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ho(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){wl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=qs,qs=!1}(e,n),fu(n,e),cr(qr),Vt=!!Gr,qr=Gr=null,e.current=n,pu(n,e,i),$e(),_u=u,yt=s,Cu.transition=a}else e.current=n;if(Vu&&(Vu=!1,Ku=e,Zu=i),0===(a=e.pendingLanes)&&(Uu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ju(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,e=Hu,Hu=null,e;0!==(1&Zu)&&0!==e.tag&&yl(),0!==(1&(a=e.pendingLanes))?e===Yu?Wu++:(Wu=0,Yu=e):Wu=0,Ni()}(e,t,n,r)}finally{Cu.transition=i,yt=r}return null}function yl(){if(null!==Ku){var e=bt(Zu),t=Cu.transition,n=yt;try{if(Cu.transition=null,yt=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Zu=0,0!==(6&_u))throw Error(o(331));var i=_u;for(_u|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Xs=c;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:Qs(8,d,a)}var f=d.child;if(null!==f)f.return=d,Xs=f;else for(;null!==Xs;){var h=(d=Xs).sibling,p=d.return;if(tu(d),d===c){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:Qs(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:Js(9,u)}}catch(S){wl(u,u.return,S)}if(u===s){Xs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Xs=k;break e}Xs=u.return}}if(_u=i,Ni(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(S){}r=!0}return r}finally{yt=n,Cu.transition=t}}return!1}function bl(e,t,n){e=Oo(e,t=cs(0,t=as(n,t),1),1),t=Gu(),null!==e&&(gt(e,1,t),Ju(e,t))}function wl(e,t,n){if(3===e.tag)bl(e,e,n);else for(;null!==t;){if(3===t.tag){bl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Uu||!Uu.has(r))){t=Oo(t,e=ds(t,e=as(n,e),1),1),e=Gu(),null!==t&&(gt(t,1,e),Ju(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Gu(),e.pingedLanes|=e.suspendedLanes&n,Eu===e&&(Iu&n)===n&&(4===Tu||3===Tu&&(130023424&Iu)===Iu&&500>Ge()-ju?ul(e,0):Au|=n),Ju(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Gu();null!==(e=xo(e,t))&&(gt(e,t,n),Ju(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function _l(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Sl(e,n)}function El(e,t){return We(e,t)}function xl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(e,t,n,r){return new xl(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Il(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Ol(n.children,i,a,t);case _:s=8,i|=8;break;case E:return(e=Il(12,n,t,2|i)).elementType=E,e.lanes=a,e;case M:return(e=Il(13,n,t,i)).elementType=M,e.lanes=a,e;case T:return(e=Il(19,n,t,i)).elementType=T,e.lanes=a,e;case D:return Rl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case I:s=9;break e;case P:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Il(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ol(e,t,n,r){return(e=Il(7,e,r,t)).lanes=n,e}function Rl(e,t,n,r){return(e=Il(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Dl(e,t,n){return(e=Il(6,e,null,t)).lanes=n,e}function Al(e,t,n){return(t=Il(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ll(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,a,s,u){return e=new Ll(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Il(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nl(e){if(!e)return Ci;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Fl(e,t,n,r,i,o,a,s,u){return(e=Bl(n,r,!0,e,0,o,0,s,u)).context=Nl(null),n=e.current,(o=To(r=Gu(),i=qu(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,gt(e,i,r),Ju(e,r),e}function zl(e,t,n,r){var i=t.current,o=Gu(),a=qu(i);return n=Nl(n),null===t.context?t.context=n:t.pendingContext=n,(t=To(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,a))&&(Qu(e,i,a,o),Ro(e,i,a)),a}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ul(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vl(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)gs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gs=!1,function(e,t,n){switch(t.tag){case 3:xs(t),lo();break;case 5:na(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(po,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ia,1&ia.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Si(ia,1&ia.current),null!==(e=zs(e,t,n))?e.sibling:null);Si(ia,1&ia.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ns(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ia,ia.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return zs(e,t,n)}(e,t,n);gs=0!==(131072&e.flags)}else gs=!1,eo&&0!==(1048576&t.flags)&&$i(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fs(e,t),e=t.pendingProps;var i=Ii(t,_i.current);ko(t,n),i=wa(null,t,r,e,i,n);var a=ka();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=No,t.stateNode=i,i._reactInternals=t,Uo(t,r,e,n),t=Es(null,t,r,!0,a,n)):(t.tag=0,eo&&a&&Gi(t),ms(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===O)return 14}return 2}(r),e=ho(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=bs(null,t,r,ho(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ho(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ho(r,i),n);case 3:e:{if(xs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),Ao(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,i=as(Error(o(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=as(Error(o(424)),t));break e}for(Ji=oi(t.stateNode.containerInfo.firstChild),Qi=t,eo=!0,to=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(lo(),r===i){t=zs(e,t,n);break e}ms(e,t,r,n)}t=t.child}return t;case 5:return na(t),null===e&&oo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Qr(r,i)?s=null:null!==a&&Qr(r,a)&&(t.flags|=32),Ss(e,t),ms(e,t,s,n),t.child;case 6:return null===e&&oo(t),null;case 13:return Ds(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):ms(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ys(e,t,r,i=t.elementType===r?i:ho(r,i),n);case 7:return ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return ms(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Si(po,r._currentValue),r._currentValue=s,null!==a)if(rr(a.value,s)){if(a.children===i.children&&!Ei.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=To(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wo(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),wo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ms(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=So(i)),t.flags|=1,ms(e,t,r,n),t.child;case 14:return i=ho(r=t.type,t.pendingProps),bs(e,t,r,i=ho(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ho(r,i),Fs(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,ko(t,n),zo(t,r,i),Uo(t,r,i,n),Es(null,t,r,!0,e,n);case 19:return Ns(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}function Wl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function Gl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hl(a);s.call(e)}}zl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hl(a);o.call(e)}}var a=Fl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=a,e[ci]=a.current,Nr(8===e.nodeType?e.parentNode:e),al(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[ci]=u.current,Nr(8===e.nodeType?e.parentNode:e),al((function(){zl(t,u,n,r)})),u}(n,t,e,i,r);return Hl(a)}Wl.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zl(e,t,null,null)},Wl.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;al((function(){zl(null,e,null,null)})),t[ci]=null}},Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Bt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(mt(t,1|n),Ju(t,Ge()),0===(6&_u)&&(Nu=Ge()+500,Ni()))}break;case 13:al((function(){var t=xo(e,1);if(null!==t){var n=Gu();Qu(t,e,1,n)}})),Vl(e,1)}},kt=function(e){if(13===e.tag){var t=xo(e,134217728);if(null!==t)Qu(t,e,134217728,Gu());Vl(e,134217728)}},St=function(e){if(13===e.tag){var t=qu(e),n=xo(e,t);if(null!==n)Qu(n,e,t,Gu());Vl(e,t)}},Ct=function(){return yt},_t=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mi(r);if(!i)throw Error(o(90));Y(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ol,Pe=al;var ql={usingClientEntryPoint:!1,Events:[vi,gi,mi,Ee,xe,ol]},Ql={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Jl={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{rt=ec.inject(Jl),it=ec}catch(tc){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ql,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(o(200));return jl(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(o(299));var n=!1,r="",i=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[ci]=t.current,Nr(8===e.nodeType?e.parentNode:e),new Zl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return al(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(o(200));return Gl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Fl(t,null,e,1,null!=n?n:null,i,0,a,s),e[ci]=t.current,Nr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wl(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(o(200));return Gl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(o(40));return!!e._reactRootContainer&&(al((function(){Gl(null,null,e,!1,(function(){e._reactRootContainer=null,e[ci]=null}))})),!0)},t.unstable_batchedUpdates=ol,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Gl(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.jsx=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:C.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+P(u,0):o,k(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),M(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",k(e))for(var l=0;l<e.length;l++){var c=o+P(s=e[l],l);u+=M(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=M(s=s.value,t,i,c=o+P(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:C};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(g=!1,w(e),!v)if(null!==r(l))v=!0,D(S);else{var t=r(c);null!==t&&A(k,t.startTime-e)}}function S(e,n){v=!1,g&&(g=!1,y(x),x=-1),p=!0;var o=h;try{for(w(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!M());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),w(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&A(k,d.startTime-n),u=!1}return u}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,_=!1,E=null,x=-1,I=5,P=-1;function M(){return!(t.unstable_now()-P<I)}function T(){if(null!==E){var e=t.unstable_now();P=e;var n=!0;try{n=E(!0,e)}finally{n?C():(_=!1,E=null)}}else _=!1}if("function"===typeof b)C=function(){b(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=T,C=function(){R.postMessage(null)}}else C=function(){m(T,0)};function D(e){E=e,_||(_=!0,C())}function A(e,n){x=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(g?(y(x),x=-1):g=!0,A(k,o-a))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(S))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},720:function(e,t,n){var r=n(690).default,i=n(728).default,o=n(993).default,a=n(655).default,s=n(389).default,u=n(213).default;e.exports=function(){var e=Math.floor,t=Math.abs,l=Math.pow;return function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){"use strict";function r(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e,t,n){return 3*(t+n)/4-n}function o(e){var t,n,o=r(e),a=o[0],s=o[1],u=new d(i(e,a,s)),l=0,f=0<s?a-4:a;for(n=0;n<f;n+=4)t=c[e.charCodeAt(n)]<<18|c[e.charCodeAt(n+1)]<<12|c[e.charCodeAt(n+2)]<<6|c[e.charCodeAt(n+3)],u[l++]=255&t>>16,u[l++]=255&t>>8,u[l++]=255&t;return 2===s&&(t=c[e.charCodeAt(n)]<<2|c[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=c[e.charCodeAt(n)]<<10|c[e.charCodeAt(n+1)]<<4|c[e.charCodeAt(n+2)]>>2,u[l++]=255&t>>8,u[l++]=255&t),u}function a(e){return l[63&e>>18]+l[63&e>>12]+l[63&e>>6]+l[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(16711680&e[o]<<16)+(65280&e[o+1]<<8)+(255&e[o+2]),i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,u=n-r;a<u;a+=o)i.push(s(e,a,a+o>u?u:a+o));return 1===r?(t=e[n-1],i.push(l[t>>2]+l[63&t<<4]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(l[t>>10]+l[63&t>>4]+l[63&t<<2]+"=")),i.join("")}n.byteLength=function(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i},n.toByteArray=o,n.fromByteArray=u;for(var l=[],c=[],d="undefined"==typeof Uint8Array?Array:Uint8Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=f.length;h<p;++h)l[h]=f[h],c[f.charCodeAt(h)]=h;c[45]=62,c[95]=63},{}],2:[function(){},{}],3:[function(e,t,n){(function(){(function(){"use strict";var t=String.fromCharCode,r=Math.min;function i(e){if(2147483647<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return d(e,t);if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);var i=p(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(0>e)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,n){return s(e),0>=e||void 0===t?i(e):"string"==typeof n?i(e).fill(t,n):i(e).fill(t)}function c(e){return s(e),i(0>e?0:0|v(e))}function d(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=i(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}function f(e){for(var t=0>e.length?0:0|v(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(0>t||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=o.prototype,r}function p(e){if(o.isBuffer(e)){var t=0|v(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0===e.length?"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0:"number"!=typeof e.length||Y(e.length)?i(0):f(e)}function v(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function g(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,u=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=(r+"").toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>e.length||2>t.length)return-1;s=2,u/=2,l/=2,n/=2}if(i){var c=-1;for(a=n;a<u;a++)if(o(e,a)!==o(t,-1===c?0:a-c))-1!==c&&(a-=a-c),c=-1;else if(-1===c&&(c=a),a-c+1===l)return c*s}else for(n+l>u&&(n=u-l),a=n;0<=a;a--){for(var d=!0,f=0;f<l;f++)if(o(e,a+f)!==o(t,f)){d=!1;break}if(d)return a}return-1}function k(e,t,n,r){n=+n||0;var i=e.length-n;r?(r=+r)>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a,s=0;s<r;++s){if(Y(a=parseInt(t.substr(2*s,2),16)))return s;e[n+s]=a}return s}function S(e,t,n,r){return Z(H(t,e.length-n),e,n,r)}function C(e,t,n,r){return Z(U(t),e,n,r)}function _(e,t,n,r){return C(e,t,n,r)}function E(e,t,n,r){return Z(K(t),e,n,r)}function x(e,t,n,r){return Z(V(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function P(e,t,n){n=r(e.length,n);for(var i=[],o=t;o<n;){var a,s,u,l,c=e[o],d=null,f=239<c?4:223<c?3:191<c?2:1;o+f<=n&&(1===f?128>c&&(d=c):2===f?128==(192&(a=e[o+1]))&&127<(l=(31&c)<<6|63&a)&&(d=l):3===f?(a=e[o+1],s=e[o+2],128==(192&a)&&128==(192&s)&&2047<(l=(15&c)<<12|(63&a)<<6|63&s)&&(55296>l||57343<l)&&(d=l)):4===f&&(a=e[o+1],s=e[o+2],u=e[o+3],128==(192&a)&&128==(192&s)&&128==(192&u)&&65535<(l=(15&c)<<18|(63&a)<<12|(63&s)<<6|63&u)&&1114112>l&&(d=l))),null===d?(d=65533,f=1):65535<d&&(d-=65536,i.push(55296|1023&d>>>10),d=56320|1023&d),i.push(d),o+=f}return M(i)}function M(e){var n=e.length;if(n<=4096)return t.apply(String,e);for(var r="",i=0;i<n;)r+=t.apply(String,e.slice(i,i+=4096));return r}function T(e,n,i){var o="";i=r(e.length,i);for(var a=n;a<i;++a)o+=t(127&e[a]);return o}function O(e,n,i){var o="";i=r(e.length,i);for(var a=n;a<i;++a)o+=t(e[a]);return o}function R(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=z(e[o]);return i}function D(e,n,r){for(var i=e.slice(n,r),o="",a=0;a<i.length;a+=2)o+=t(i[a]+256*i[a+1]);return o}function A(e,t,n){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function j(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,t,n,4,34028234663852886e22,-34028234663852886e22),$.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,t,n,8,17976931348623157e292,-17976931348623157e292),$.write(e,t,n,r,52,8),n+8}function F(e){if(2>(e=(e=e.split("=")[0]).trim().replace(G,"")).length)return"";for(;0!=e.length%4;)e+="=";return e}function z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&57344>n){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>(t-=1))break;o.push(n)}else if(2048>n){if(0>(t-=2))break;o.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else{if(!(1114112>n))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}}return o}function U(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!(0>(t-=2));++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function K(e){return X.toByteArray(F(e))}function Z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}var X=e("base64-js"),$=e("ieee754");n.Buffer=o,n.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){return o.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return o.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,n){return a(e,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,n){return u(e,t,n)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(W(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,a=0,s=r(n,i);a<s;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(W(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,a){if(W(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),0>t||n>e.length||0>i||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(a>>>=0)-(i>>>=0),u=(n>>>=0)-(t>>>=0),l=r(s,u),c=this.slice(i,a),d=e.slice(t,n),f=0;f<l;++f)if(c[f]!==d[f]){s=c[f],u=d[f];break}return s<u?-1:u<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var n=this.length;0>(e=~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),0>(t=void 0===t?n:~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=o.prototype,r},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=l(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=l(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),$.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),$.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),$.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),$.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,l(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=255&e/i;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,l(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=255&e/o;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=l(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=255&(e/a>>0)-s;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=l(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=255&(e/a>>0)-s;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;0<=a;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&128>i||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:o.from(e,r),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var G=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(e,t,n){(function(r){(function(){function i(){var e;try{e=n.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof r&&"env"in r&&(e=r.env.DEBUG),e}n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"===e||(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)}},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=i,n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||function(){},t.exports=e("./common")(n),t.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":5,_process:12}],5:[function(e,n){n.exports=function(n){function r(e){function t(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];if(t.enabled){var a=t,s=+new Date,u=s-(n||s);a.diff=u,a.prev=n,a.curr=s,n=s,i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return"%";l++;var n=r.formatters[t];if("function"==typeof n){var o=i[l];e=n.call(a,o),i.splice(l,1),l--}return e})),r.formatArgs.call(a,i),(a.log||r.log).apply(a,i)}}var n,o=null;return t.namespace=e,t.useColors=r.useColors(),t.color=r.selectColor(e),t.extend=i,t.destroy=r.destroy,Object.defineProperty(t,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===o?r.enabled(e):o},set:function(e){o=e}}),"function"==typeof r.init&&r.init(t),t}function i(e,t){var n=r(this.namespace+("undefined"==typeof t?":":t)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){var e=[].concat(u(r.names.map(o)),u(r.skips.map(o).map((function(e){return"-"+e})))).join(",");return r.enable(""),e},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach((function(e){r[e]=n[e]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){for(var n=0,i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i),n|=0;return r.colors[t(n)%r.colors.length]},r.enable(r.load()),r}},{ms:11}],6:[function(e,t){"use strict";function n(e,t){for(var n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}t.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return n(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),n(new i,r)}}},{}],7:[function(e,t){"use strict";function n(e){console&&console.warn&&console.warn(e)}function r(){r.init.call(this)}function i(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function o(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function a(e,t,r,a){var s,u,l;if(i(r),void 0===(u=e._events)?(u=e._events=Object.create(null),e._eventsCount=0):(void 0!==u.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),u=e._events),l=u[t]),void 0===l)l=u[t]=r,++e._eventsCount;else if("function"==typeof l?l=u[t]=a?[r,l]:[l,r]:a?l.unshift(r):l.push(r),0<(s=o(e))&&l.length>s&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=l.length,n(c)}return e}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function l(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?h(i):d(i,i.length)}function c(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function f(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function h(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function p(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}var g,m="object"==typeof Reflect?Reflect:null,y=m&&"function"==typeof m.apply?m.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=m&&"function"==typeof m.ownKeys?m.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!==e};t.exports=r,t.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&p(e,i,{once:!0})}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var w=10;Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(e){if("number"!=typeof e||0>e||b(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");w=e}}),r.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||b(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(0<t.length&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)y(s,this,t);else{var u=s.length,l=d(s,u);for(n=0;n<u;++n)y(l[n],this,t)}return!0},r.prototype.addListener=function(e,t){return a(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return a(this,e,t,!0)},r.prototype.once=function(e,t){return i(t),this.on(e,u(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,u(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,o,a,s;if(i(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;0<=a;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(0>o)return this;0===o?n.shift():f(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return l(this,e,!0)},r.prototype.rawListeners=function(e){return l(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},r.prototype.listenerCount=c,r.prototype.eventNames=function(){return 0<this._eventsCount?g(this._events):[]}},{}],8:[function(e,t){t.exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},{}],9:[function(n,r,i){i.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,d=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-d)-1,p>>=-d,d+=s;0<d;o=256*o+e[t+f],f+=h,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;0<d;a=256*a+e[t+f],f+=h,d-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=l(2,r),o-=c}return(p?-1:1)*a*l(2,o-r)},i.write=function(n,r,i,o,a,s){var u,c,d,f=Math.LN2,h=Math.log,p=8*s-a-1,v=(1<<p)-1,g=v>>1,m=23===a?l(2,-24)-l(2,-77):0,y=o?0:s-1,b=o?1:-1,w=0>r||0===r&&0>1/r?1:0;for(r=t(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,u=v):(u=e(h(r)/f),1>r*(d=l(2,-u))&&(u--,d*=2),2<=(r+=1<=u+g?m/d:m*l(2,1-g))*d&&(u++,d/=2),u+g>=v?(c=0,u=v):1<=u+g?(c=(r*d-1)*l(2,a),u+=g):(c=r*l(2,g-1)*l(2,a),u=0));8<=a;n[i+y]=255&c,y+=b,c/=256,a-=8);for(u=u<<a|c,p+=a;0<p;n[i+y]=255&u,y+=b,u/=256,p-=8);n[i+y-b]|=128*w}},{}],10:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],11:[function(e,n){var r=Math.round;function i(e){if(!(100<(e+="").length)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();return"years"===r||"year"===r||"yrs"===r||"yr"===r||"y"===r?315576e5*n:"weeks"===r||"week"===r||"w"===r?6048e5*n:"days"===r||"day"===r||"d"===r?864e5*n:"hours"===r||"hour"===r||"hrs"===r||"hr"===r||"h"===r?36e5*n:"minutes"===r||"minute"===r||"mins"===r||"min"===r||"m"===r?6e4*n:"seconds"===r||"second"===r||"secs"===r||"sec"===r||"s"===r?1e3*n:"milliseconds"===r||"millisecond"===r||"msecs"===r||"msec"===r||"ms"===r?n:void 0}}}function o(e){var n=t(e);return 864e5<=n?r(e/864e5)+"d":36e5<=n?r(e/36e5)+"h":6e4<=n?r(e/6e4)+"m":1e3<=n?r(e/1e3)+"s":e+"ms"}function a(e){var n=t(e);return 864e5<=n?s(e,n,864e5,"day"):36e5<=n?s(e,n,36e5,"hour"):6e4<=n?s(e,n,6e4,"minute"):1e3<=n?s(e,n,1e3,"second"):e+" ms"}function s(e,t,n,i){return r(e/n)+" "+i+(t>=1.5*n?"s":"")}n.exports=function(e,t){t=t||{};var n=typeof e;if("string"==n&&0<e.length)return i(e);if("number"===n&&isFinite(e))return t.long?a(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(n){try{return c.call(null,e,0)}catch(n){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(n){try{return d.call(null,e)}catch(n){return d.call(this,e)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,d,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var h,p=[],v=!1,g=-1;f.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],13:[function(e,t){(function(e){(function(){var n;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"==typeof window?e:window):function(e){return(n||(n=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}}).call(this)}).call(this,"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{}],14:[function(e,t){(function(n,r){(function(){"use strict";var i=e("safe-buffer").Buffer,o=r.crypto||r.msCrypto;t.exports=o&&o.getRandomValues?function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(e);if(0<e)if(65536<e)for(var a=0;a<e;a+=65536)o.getRandomValues(r.slice(a,a+65536));else o.getRandomValues(r);return"function"==typeof t?n.nextTick((function(){t(null,r)})):r}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{_process:12,"safe-buffer":30}],15:[function(e,t){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e,t,r){function i(e,n,r){return"string"==typeof t?t:t(e,n,r)}r||(r=Error);var o=function(e){function t(t,n,r){return e.call(this,i(t,n,r))||this}return n(t,e),t}(r);o.prototype.name=r.name,o.prototype.code=e,u[e]=o}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return e+""})),2<n?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(e+"")}function o(e,t,n){return e.substr(!n||0>n?0:+n,t.length)===t}function a(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function s(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}var u={};r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,u;if("string"==typeof t&&o(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",a(e," argument"))u="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var l=s(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(l," ").concat(r," ").concat(i(t,"type"))}return u+=". Received type ".concat(typeof n)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=u},{}],16:[function(e,t){(function(n){(function(){"use strict";function r(e){return this instanceof r?(s.call(this,e),u.call(this,e),this.allowHalfOpen=!0,void(e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",i))))):new r(e)}function i(){this._writableState.ended||n.nextTick(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var s=e("./_stream_readable"),u=e("./_stream_writable");e("inherits")(r,s);for(var l,c=a(u.prototype),d=0;d<c.length;d++)l=c[d],r.prototype[l]||(r.prototype[l]=u.prototype[l]);Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(e,t){"use strict";function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform");e("inherits")(n,r),n.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":19,inherits:10}],18:[function(e,t){(function(n,r){(function(){"use strict";function i(e){return D.from(e)}function o(e){return D.isBuffer(e)||e instanceof A}function a(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function s(t,n,r){M=M||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof M),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=H(this,t,"readableHighWaterMark",r),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(!B&&(B=e("string_decoder/").StringDecoder),this.decoder=new B(t.encoding),this.encoding=t.encoding)}function u(t){if(M=M||e("./_stream_duplex"),!(this instanceof u))return new u(t);var n=this instanceof M;this._readableState=new s(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),R.call(this)}function l(e,t,n,r,o){T("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,p(e,s);else if(o||(a=d(s,t)),a)Y(e,a);else if(s.objectMode||t&&0<t.length)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===D.prototype||(t=i(t)),r)s.endEmitted?Y(e,new W):c(e,s,t,!0);else if(s.ended)Y(e,new K);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?c(e,s,t,!1):m(e,s)):c(e,s,t,!1)}else r||(s.reading=!1,m(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&v(e)),m(e,t)}function d(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new V("chunk",["string","Buffer","Uint8Array"],t)),n}function f(e){return 1073741824<=e?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function h(e,t){return 0>=e||0===t.length&&t.ended?0:t.objectMode?1:e===e?(e>t.highWaterMark&&(t.highWaterMark=f(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)):t.flowing&&t.length?t.buffer.head.data.length:t.length}function p(e,t){if(T("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?v(e):(t.needReadable=!1,!t.emittedReadable&&(t.emittedReadable=!0,g(e)))}}function v(e){var t=e._readableState;T("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(T("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(g,e))}function g(e){var t=e._readableState;T("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,_(e)}function m(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(y,e,t))}function y(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(T("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function b(e){return function(){var t=e._readableState;T("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&O(e,"data")&&(t.flowing=!0,_(e))}}function w(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function k(e){T("readable nexttick read 0"),e.read(0)}function S(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(C,e,t))}function C(e,t){T("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),_(e),t.flowing&&!t.reading&&e.read(0)}function _(e){var t=e._readableState;for(T("flow",t.flowing);t.flowing&&null!==e.read(););}function E(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function x(e){var t=e._readableState;T("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(I,t,e))}function I(e,t){if(T("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var M;t.exports=u,u.ReadableState=s,e("events").EventEmitter;var T,O=function(e,t){return e.listeners(t).length},R=e("./internal/streams/stream"),D=e("buffer").Buffer,A=r.Uint8Array||function(){},L=e("util");T=L&&L.debuglog?L.debuglog("stream"):function(){};var B,j,N,F=e("./internal/streams/buffer_list"),z=e("./internal/streams/destroy"),H=e("./internal/streams/state").getHighWaterMark,U=e("../errors").codes,V=U.ERR_INVALID_ARG_TYPE,K=U.ERR_STREAM_PUSH_AFTER_EOF,Z=U.ERR_METHOD_NOT_IMPLEMENTED,W=U.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(u,R);var Y=z.errorOrDestroy,X=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=z.destroy,u.prototype._undestroy=z.undestroy,u.prototype._destroy=function(e,t){t(e)},u.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=D.from(e,t),t=""),n=!0),l(this,e,t,!1,n)},u.prototype.unshift=function(e){return l(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(t){B||(B=e("string_decoder/").StringDecoder);var n=new B(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},u.prototype.read=function(e){T("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0===t.highWaterMark?0<t.length:t.length>=t.highWaterMark)||t.ended))return T("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):v(this),null;if(0===(e=h(e,t))&&t.ended)return 0===t.length&&x(this),null;var r,i=t.needReadable;return T("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&T("length less than watermark",i=!0),t.ended||t.reading?T("reading or ended",i=!1):i&&(T("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,!t.reading&&(e=h(n,t))),null===(r=0<e?E(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(!t.ended&&(t.needReadable=!0),n!==e&&t.ended&&x(this)),null!==r&&this.emit("data",r),r},u.prototype._read=function(){Y(this,new Z("_read()"))},u.prototype.pipe=function(e,t){function r(e,t){T("onunpipe"),e===f&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){T("onend"),e.end()}function o(){T("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",u),e.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",d),f.removeListener("data",s),g=!0,h.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&v()}function s(t){T("ondata");var n=e.write(t);T("dest.write",n),!1===n&&((1===h.pipesCount&&h.pipes===e||1<h.pipesCount&&-1!==P(h.pipes,e))&&!g&&(T("false write response, pause",h.awaitDrain),h.awaitDrain++),f.pause())}function u(t){T("onerror",t),d(),e.removeListener("error",u),0===O(e,"error")&&Y(e,t)}function l(){e.removeListener("finish",c),d()}function c(){T("onfinish"),e.removeListener("close",l),d()}function d(){T("unpipe"),f.unpipe(e)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,T("pipe count=%d opts=%j",h.pipesCount,t);var p=t&&!1===t.end||e===n.stdout||e===n.stderr?d:i;h.endEmitted?n.nextTick(p):f.once("end",p),e.on("unpipe",r);var v=b(f);e.on("drain",v);var g=!1;return f.on("data",s),a(e,"error",u),e.once("close",l),e.once("finish",c),e.emit("pipe",f),h.flowing||(T("pipe resume"),f.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=P(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},u.prototype.on=function(e,t){var r=R.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=0<this.listenerCount("readable"),!1!==i.flowing&&this.resume()):"readable"==e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,T("on readable",i.length,i.reading),i.length?v(this):!i.reading&&n.nextTick(k,this)),r},u.prototype.addListener=u.prototype.on,u.prototype.removeListener=function(e,t){var r=R.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(w,this),r},u.prototype.removeAllListeners=function(e){var t=R.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(w,this),t},u.prototype.resume=function(){var e=this._readableState;return e.flowing||(T("resume"),e.flowing=!e.readableListening,S(this,e)),e.paused=!1,this},u.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},u.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(T("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){T("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<X.length;o++)e.on(X[o],this.emit.bind(this,X[o]));return this._read=function(t){T("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(u.prototype[Symbol.asyncIterator]=function(){return void 0===j&&(j=e("./internal/streams/async_iterator")),j(this)}),Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(u.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(u.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),u._fromList=E,Object.defineProperty(u.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(u.from=function(t,n){return void 0===N&&(N=e("./internal/streams/from")),N(u,t,n)})}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(e,t){"use strict";function n(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new u);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function r(e){return this instanceof r?(d.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),void this.on("prefinish",i)):new r(e)}function i(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?o(this,null,null):this._flush((function(t,n){o(e,t,n)}))}function o(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new c;if(e._transformState.transforming)throw new l;return e.push(null)}t.exports=r;var a=e("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,u=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=a.ERR_TRANSFORM_WITH_LENGTH_0,d=e("./_stream_duplex");e("inherits")(r,d),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,d.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,n){n(new s("_transform()"))},r.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},r.prototype._destroy=function(e,t){d.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(e,t){(function(n,r){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){x(t,e)}}function o(e){return O.from(e)}function a(e){return O.isBuffer(e)||e instanceof R}function s(){}function u(t,n,r){I=I||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof I),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=A(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){m(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function l(t){var n=this instanceof(I=I||e("./_stream_duplex"));return n||P.call(l,this)?(this._writableState=new u(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void T.call(this)):new l(t)}function c(e,t){var r=new U;K(e,r),n.nextTick(t,r)}function d(e,t,r,i){var o;return null===r?o=new H:"string"!=typeof r&&!t.objectMode&&(o=new B("chunk",["string","Buffer"],r)),!o||(K(e,o),n.nextTick(i,o),!1)}function f(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=O.from(t,n)),t}function h(e,t,n,r,i,o){if(!n){var a=f(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else p(e,t,!1,s,r,i,o);return u}function p(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new z("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(_,e,t),e._writableState.errorEmitted=!0,K(e,i)):(o(i),e._writableState.errorEmitted=!0,K(e,i),_(e,t))}function g(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function m(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new N;if(g(r),t)v(e,r,i,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),i?n.nextTick(y,e,r,a,o):y(e,r,a,o)}}function y(e,t,n,r){n||b(e,t),t.pendingcb--,r(),_(e,t)}function b(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,p(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,d=n.callback;if(p(e,t,!1,t.objectMode?1:l.length,l,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&K(e,n),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function C(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(S,e,t)))}function _(e,t){var n=k(t);if(n&&(C(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function E(e,t,r){t.ending=!0,_(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function x(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}var I;t.exports=l,l.WritableState=u;var P,M={deprecate:e("util-deprecate")},T=e("./internal/streams/stream"),O=e("buffer").Buffer,R=r.Uint8Array||function(){},D=e("./internal/streams/destroy"),A=e("./internal/streams/state").getHighWaterMark,L=e("../errors").codes,B=L.ERR_INVALID_ARG_TYPE,j=L.ERR_METHOD_NOT_IMPLEMENTED,N=L.ERR_MULTIPLE_CALLBACK,F=L.ERR_STREAM_CANNOT_PIPE,z=L.ERR_STREAM_DESTROYED,H=L.ERR_STREAM_NULL_VALUES,U=L.ERR_STREAM_WRITE_AFTER_END,V=L.ERR_UNKNOWN_ENCODING,K=D.errorOrDestroy;e("inherits")(l,T),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:M.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!P.call(this,e)||!(this!==l)&&e&&e._writableState instanceof u}})):P=function(e){return e instanceof this},l.prototype.pipe=function(){K(this,new F)},l.prototype.write=function(e,t,n){var r=this._writableState,i=!1,u=!r.objectMode&&a(e);return u&&!O.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":!t&&(t=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ending?c(this,n):(u||d(this,r,e,n))&&(r.pendingcb++,i=h(this,r,u,e,t,n)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&w(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new V(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(e,t,n){n(new j("_write()"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||E(this,r,n),this},Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=D.destroy,l.prototype._undestroy=D.undestroy,l.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(e,t){(function(n){(function(){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return{value:e,done:t}}function o(e){var t=e[c];if(null!==t){var n=e[g].read();null!==n&&(e[p]=null,e[c]=null,e[d]=null,t(i(n,!1)))}}function a(e){n.nextTick(o,e)}function s(e,t){return function(n,r){e.then((function(){return t[h]?void n(i(void 0,!0)):void t[v](n,r)}),r)}}var u,l=e("./end-of-stream"),c=Symbol("lastResolve"),d=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),p=Symbol("lastPromise"),v=Symbol("handlePromise"),g=Symbol("stream"),m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((u={get stream(){return this[g]},next:function(){var e=this,t=this[f];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(i(void 0,!0));if(this[g].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[f]?r(e[f]):t(i(void 0,!0))}))}));var r,o=this[p];if(o)r=new Promise(s(o,this));else{var a=this[g].read();if(null!==a)return Promise.resolve(i(a,!1));r=new Promise(this[v])}return this[p]=r,r}},r(u,Symbol.asyncIterator,(function(){return this})),r(u,"return",(function(){var e=this;return new Promise((function(t,n){e[g].destroy(null,(function(e){return e?void n(e):void t(i(void 0,!0))}))}))})),u),m);t.exports=function(e){var t,n=Object.create(y,(r(t={},g,{value:e,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,d,{value:null,writable:!0}),r(t,f,{value:null,writable:!0}),r(t,h,{value:e._readableState.endEmitted,writable:!0}),r(t,v,{value:function(e,t){var r=n[g].read();r?(n[p]=null,n[c]=null,n[d]=null,e(i(r,!1))):(n[c]=e,n[d]=t)},writable:!0}),t));return n[p]=null,l(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[d];return null!==t&&(n[p]=null,n[c]=null,n[d]=null,t(e)),void(n[f]=e)}var r=n[c];null!==r&&(n[p]=null,n[c]=null,n[d]=null,r(i(void 0,!0))),n[h]=!0})),e.on("readable",a.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":24,_process:12}],22:[function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?n(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t,n){l.prototype.copy.call(e,t,n)}var l=e("buffer").Buffer,c=e("util").inspect,d=c&&c.custom||"inspect";t.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return s(e,[{key:"push",value:function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t=l.allocUnsafe(e>>>0),n=this.head,r=0;n;)u(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(r+=o===i.length?i:i.slice(0,e),0===(e-=o)){o===i.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:d,value:function(e,t){return c(this,r({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:3,util:2}],23:[function(e,t){(function(e){(function(){"use strict";function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(t):t&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:12}],24:[function(e,t){"use strict";function n(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function r(){}function i(e){return e.setHeader&&"function"==typeof e.abort}function o(e,t,s){if("function"==typeof t)return o(e,null,t);t||(t={}),s=n(s||r);var u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,c=function(){e.writable||f()},d=e._writableState&&e._writableState.finished,f=function(){l=!1,d=!0,u||s.call(e)},h=e._readableState&&e._readableState.endEmitted,p=function(){u=!1,h=!0,l||s.call(e)},v=function(t){s.call(e,t)},g=function(){var t;return u&&!h?(e._readableState&&e._readableState.ended||(t=new a),s.call(e,t)):l&&!d?(e._writableState&&e._writableState.ended||(t=new a),s.call(e,t)):void 0},m=function(){e.req.on("finish",f)};return i(e)?(e.on("complete",f),e.on("abort",g),e.req?m():e.on("request",m)):l&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",p),e.on("finish",f),!1!==t.error&&e.on("error",v),e.on("close",g),function(){e.removeListener("complete",f),e.removeListener("abort",g),e.removeListener("request",m),e.req&&e.req.removeListener("finish",f),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",f),e.removeListener("end",p),e.removeListener("error",v),e.removeListener("close",g)}}var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;t.exports=o},{"../../../errors":15}],25:[function(e,t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(e,t){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}function r(e){if(e)throw e}function i(e){return e.setHeader&&"function"==typeof e.abort}function o(t,r,o,a){a=n(a);var s=!1;t.on("close",(function(){s=!0})),void 0===l&&(l=e("./end-of-stream")),l(t,{readable:r,writable:o},(function(e){return e?a(e):(s=!0,void a())}));var u=!1;return function(e){if(!s)return u?void 0:(u=!0,i(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new f("pipe")))}}function a(e){e()}function s(e,t){return e.pipe(t)}function u(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():r}var l,c=e("../../../errors").codes,d=c.ERR_MISSING_ARGS,f=c.ERR_STREAM_DESTROYED;t.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=u(t);if(Array.isArray(t[0])&&(t=t[0]),2>t.length)throw new d("streams");var i,l=t.map((function(e,n){var s=n<t.length-1;return o(e,s,0<n,(function(e){i||(i=e),e&&l.forEach(a),s||(l.forEach(a),r(i))}))}));return t.reduce(s)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(t,n){"use strict";function r(e,t,n){return null==e.highWaterMark?t?e[n]:null:e.highWaterMark}var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(t,n,o,a){var s=r(n,a,o);if(null!=s){if(!isFinite(s)||e(s)!==s||0>s)throw new i(a?o:"highWaterMark",s);return e(s)}return t.objectMode?16:16384}}},{"../../../errors":15}],28:[function(e,t){t.exports=e("events").EventEmitter},{events:7}],29:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=e("buffer"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,n),n.Buffer=i),i.prototype=Object.create(a.prototype),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0===t?r.fill(0):"string"==typeof n?r.fill(t,n):r.fill(t),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:3}],31:[function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(g.isEncoding===m||!m(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){var t;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=d,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=f,this.end=h,t=3;break;default:return this.write=p,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(t)}function a(e){return 127>=e?0:6==e>>5?2:14==e>>4?3:30==e>>3?4:2==e>>6?-1:-2}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--r<n||-2===i?0:0<=(i=a(t[r]))?(0<i&&(e.lastNeed=i-2),i):--r<n||-2===i?0:0<=(i=a(t[r]))?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0}function u(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}function l(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0===n?this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length)):n}function c(e,t){if(0==(e.length-t)%2){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&56319>=r)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}var g=e("safe-buffer").Buffer,m=g.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":30}],32:[function(e,t){(function(e){(function(){function n(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===(n+"").toLowerCase()}t.exports=function(e,t){function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var i=!1;return r}}).call(this)}).call(this,"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{}],"/":[function(e,t){function n(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function u(e){console.warn(e)}var l=e("debug")("simple-peer"),c=e("get-browser-rtc"),d=e("randombytes"),f=e("readable-stream"),h=e("queue-microtask"),p=e("err-code"),v=e("buffer").Buffer,g=65536,m=function(e){"use strict";a(m,e);var f=s(m);function m(e){var t;if(r(this,m),e=Object.assign({allowHalfOpen:!1},e),(t=f.call(this,e))._id=d(4).toString("hex").slice(0,7),t._debug("new peer %o",e),t.channelName=e.initiator?e.channelName||d(20).toString("hex"):null,t.initiator=e.initiator||!1,t.channelConfig=e.channelConfig||m.channelConfig,t.channelNegotiated=t.channelConfig.negotiated,t.config=Object.assign({},m.config,e.config),t.offerOptions=e.offerOptions||{},t.answerOptions=e.answerOptions||{},t.sdpTransform=e.sdpTransform||function(e){return e},t.streams=e.streams||(e.stream?[e.stream]:[]),t.trickle=void 0===e.trickle||e.trickle,t.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,t.iceCompleteTimeout=e.iceCompleteTimeout||5e3,t.destroyed=!1,t.destroying=!1,t._connected=!1,t.remoteAddress=void 0,t.remoteFamily=void 0,t.remotePort=void 0,t.localAddress=void 0,t.localFamily=void 0,t.localPort=void 0,t._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:c(),!t._wrtc)throw"undefined"==typeof window?p(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):p(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");t._pcReady=!1,t._channelReady=!1,t._iceComplete=!1,t._iceCompleteTimer=null,t._channel=null,t._pendingCandidates=[],t._isNegotiating=!1,t._firstNegotiation=!0,t._batchedNegotiation=!1,t._queuedNegotiation=!1,t._sendersAwaitingStable=[],t._senderMap=new Map,t._closingInterval=null,t._remoteTracks=[],t._remoteStreams=[],t._chunk=null,t._cb=null,t._interval=null;try{t._pc=new t._wrtc.RTCPeerConnection(t.config)}catch(e){return o(t,void t.destroy(p(e,"ERR_PC_CONSTRUCTOR")))}return t._isReactNativeWebrtc="number"==typeof t._pc._peerConnectionId,t._pc.oniceconnectionstatechange=function(){t._onIceStateChange()},t._pc.onicegatheringstatechange=function(){t._onIceStateChange()},t._pc.onconnectionstatechange=function(){t._onConnectionStateChange()},t._pc.onsignalingstatechange=function(){t._onSignalingStateChange()},t._pc.onicecandidate=function(e){t._onIceCandidate(e)},"object"==typeof t._pc.peerIdentity&&t._pc.peerIdentity.catch((function(e){t.destroy(p(e,"ERR_PC_PEER_IDENTITY"))})),t.initiator||t.channelNegotiated?t._setupData({channel:t._pc.createDataChannel(t.channelName,t.channelConfig)}):t._pc.ondatachannel=function(e){t._setupData(e)},t.streams&&t.streams.forEach((function(e){t.addStream(e)})),t._pc.ontrack=function(e){t._onTrack(e)},t._debug("initial negotiation"),t._needsNegotiation(),t._onFinishBound=function(){t._onFinish()},t.once("finish",t._onFinishBound),o(t)}return i(m,[{key:"bufferSize",get:function(){return this._channel&&this._channel.bufferedAmount||0}},{key:"connected",get:function(){return this._connected&&"open"===this._channel.readyState}},{key:"address",value:function(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}},{key:"signal",value:function(e){var n=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((function(){n.destroyed||(n._pendingCandidates.forEach((function(e){n._addIceCandidate(e)})),n._pendingCandidates=[],"offer"===n._pc.remoteDescription.type&&n._createAnswer())})).catch((function(e){n.destroy(p(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(p(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}},{key:"_addIceCandidate",value:function(e){var t=this,n=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(n).catch((function(e){!n.address||n.address.endsWith(".local")?u("Ignoring unsupported ICE candidate."):t.destroy(p(e,"ERR_ADD_ICE_CANDIDATE"))}))}},{key:"send",value:function(e){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}},{key:"addTransceiver",value:function(e,t){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(p(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}},{key:"addStream",value:function(e){var t=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((function(n){t.addTrack(n,e)}))}}},{key:"addTrack",value:function(e,t){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");var n=this._senderMap.get(e)||new Map,r=n.get(t);if(r)throw r.removed?p(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):p(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(e,t),n.set(t,r),this._senderMap.set(e,n),this._needsNegotiation()}}},{key:"replaceTrack",value:function(e,t,n){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");var r=this._senderMap.get(e),i=r?r.get(n):null;if(!i)throw p(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null==i.replaceTrack?this.destroy(p(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):i.replaceTrack(t)}}},{key:"removeTrack",value:function(e,t){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");var n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw p(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(r):this.destroy(p(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}}},{key:"removeStream",value:function(e){var t=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((function(n){t.removeTrack(n,e)}))}}},{key:"_needsNegotiation",value:function(){var e=this;this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,h((function(){e._batchedNegotiation=!1,e.initiator||!e._firstNegotiation?(e._debug("starting batched negotiation"),e.negotiate()):e._debug("non-initiator initial negotiation request discarded"),e._firstNegotiation=!1})))}},{key:"negotiate",value:function(){var e=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((function(){e._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}},{key:"destroy",value:function(e){this._destroy(e,(function(){}))}},{key:"_destroy",value:function(e,t){var n=this;this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),h((function(){if(n.destroyed=!0,n.destroying=!1,n._debug("destroy (error: %s)",e&&(e.message||e)),n.readable=n.writable=!1,n._readableState.ended||n.push(null),n._writableState.finished||n.end(),n._connected=!1,n._pcReady=!1,n._channelReady=!1,n._remoteTracks=null,n._remoteStreams=null,n._senderMap=null,clearInterval(n._closingInterval),n._closingInterval=null,clearInterval(n._interval),n._interval=null,n._chunk=null,n._cb=null,n._onFinishBound&&n.removeListener("finish",n._onFinishBound),n._onFinishBound=null,n._channel){try{n._channel.close()}catch(e){}n._channel.onmessage=null,n._channel.onopen=null,n._channel.onclose=null,n._channel.onerror=null}if(n._pc){try{n._pc.close()}catch(e){}n._pc.oniceconnectionstatechange=null,n._pc.onicegatheringstatechange=null,n._pc.onsignalingstatechange=null,n._pc.onicecandidate=null,n._pc.ontrack=null,n._pc.ondatachannel=null}n._pc=null,n._channel=null,e&&n.emit("error",e),n.emit("close"),t()})))}},{key:"_setupData",value:function(e){var t=this;if(!e.channel)return this.destroy(p(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=g),this.channelName=this._channel.label,this._channel.onmessage=function(e){t._onChannelMessage(e)},this._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},this._channel.onopen=function(){t._onChannelOpen()},this._channel.onclose=function(){t._onChannelClose()},this._channel.onerror=function(e){var n=e.error instanceof Error?e.error:new Error("Datachannel error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));t.destroy(p(n,"ERR_DATA_CHANNEL"))};var n=!1;this._closingInterval=setInterval((function(){t._channel&&"closing"===t._channel.readyState?(n&&t._onChannelClose(),n=!0):n=!1}),5e3)}},{key:"_read",value:function(){}},{key:"_write",value:function(e,t,n){if(this.destroyed)return n(p(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(p(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>g?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}},{key:"_onFinish",value:function(){var e=this;if(!this.destroyed){var t=function(){setTimeout((function(){return e.destroy()}),1e3)};this._connected?t():this.once("connect",t)}}},{key:"_startIceCompleteTimeout",value:function(){var e=this;this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((function(){e._iceComplete||(e._iceComplete=!0,e._debug("iceComplete timeout completed"),e.emit("iceTimeout"),e.emit("_iceComplete"))}),this.iceCompleteTimeout))}},{key:"_createOffer",value:function(){var e=this;this.destroyed||this._pc.createOffer(this.offerOptions).then((function(t){if(!e.destroyed){e.trickle||e.allowHalfTrickle||(t.sdp=n(t.sdp)),t.sdp=e.sdpTransform(t.sdp);var r=function(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp})}};e._pc.setLocalDescription(t).then((function(){e._debug("createOffer success"),e.destroyed||(e.trickle||e._iceComplete?r():e.once("_iceComplete",r))})).catch((function(t){e.destroy(p(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}})).catch((function(t){e.destroy(p(t,"ERR_CREATE_OFFER"))}))}},{key:"_requestMissingTransceivers",value:function(){var e=this;this._pc.getTransceivers&&this._pc.getTransceivers().forEach((function(t){t.mid||!t.sender.track||t.requested||(t.requested=!0,e.addTransceiver(t.sender.track.kind))}))}},{key:"_createAnswer",value:function(){var e=this;this.destroyed||this._pc.createAnswer(this.answerOptions).then((function(t){if(!e.destroyed){e.trickle||e.allowHalfTrickle||(t.sdp=n(t.sdp)),t.sdp=e.sdpTransform(t.sdp);var r=function(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp}),e.initiator||e._requestMissingTransceivers()}};e._pc.setLocalDescription(t).then((function(){e.destroyed||(e.trickle||e._iceComplete?r():e.once("_iceComplete",r))})).catch((function(t){e.destroy(p(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}})).catch((function(t){e.destroy(p(t,"ERR_CREATE_ANSWER"))}))}},{key:"_onConnectionStateChange",value:function(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(p(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}},{key:"_onIceStateChange",value:function(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),("connected"===e||"completed"===e)&&(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(p(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(p(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}}},{key:"getStats",value:function(e){var t=this,n=function(e){return"[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((function(t){Object.assign(e,t)})),e};0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((function(t){var r=[];t.forEach((function(e){r.push(n(e))})),e(null,r)}),(function(t){return e(t)})):0<this._pc.getStats.length?this._pc.getStats((function(r){if(!t.destroyed){var i=[];r.result().forEach((function(e){var t={};e.names().forEach((function(n){t[n]=e.stat(n)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(n(t))})),e(null,i)}}),(function(t){return e(t)})):e(null,[])}},{key:"_maybeReady",value:function(){var e=this;if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),!this._connected&&!this._connecting&&this._pcReady&&this._channelReady){this._connecting=!0;var t=function t(){e.destroyed||e.getStats((function(n,r){if(!e.destroyed){n&&(r=[]);var i={},o={},a={},s=!1;r.forEach((function(e){("remotecandidate"===e.type||"remote-candidate"===e.type)&&(i[e.id]=e),("localcandidate"===e.type||"local-candidate"===e.type)&&(o[e.id]=e),("candidatepair"===e.type||"candidate-pair"===e.type)&&(a[e.id]=e)}));var u=function(t){s=!0;var n=o[t.localCandidateId];n&&(n.ip||n.address)?(e.localAddress=n.ip||n.address,e.localPort=+n.port):n&&n.ipAddress?(e.localAddress=n.ipAddress,e.localPort=+n.portNumber):"string"==typeof t.googLocalAddress&&(n=t.googLocalAddress.split(":"),e.localAddress=n[0],e.localPort=+n[1]),e.localAddress&&(e.localFamily=e.localAddress.includes(":")?"IPv6":"IPv4");var r=i[t.remoteCandidateId];r&&(r.ip||r.address)?(e.remoteAddress=r.ip||r.address,e.remotePort=+r.port):r&&r.ipAddress?(e.remoteAddress=r.ipAddress,e.remotePort=+r.portNumber):"string"==typeof t.googRemoteAddress&&(r=t.googRemoteAddress.split(":"),e.remoteAddress=r[0],e.remotePort=+r[1]),e.remoteAddress&&(e.remoteFamily=e.remoteAddress.includes(":")?"IPv6":"IPv4"),e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)};if(r.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId&&u(a[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&u(e)})),s||Object.keys(a).length&&!Object.keys(o).length){if(e._connecting=!1,e._connected=!0,e._chunk){try{e.send(e._chunk)}catch(t){return e.destroy(p(t,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var l=e._cb;e._cb=null,l(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval((function(){return e._onInterval()}),150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}}))};t()}}},{key:"_onInterval",value:function(){this._cb&&this._channel&&!(this._channel.bufferedAmount>g)&&this._onChannelBufferedAmountLow()}},{key:"_onSignalingStateChange",value:function(){var e=this;this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}},{key:"_onIceCandidate",value:function(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}},{key:"_onChannelMessage",value:function(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=v.from(t)),this.push(t)}}},{key:"_onChannelBufferedAmountLow",value:function(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}},{key:"_onChannelOpen",value:function(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}},{key:"_onChannelClose",value:function(){this.destroyed||(this._debug("on channel close"),this.destroy())}},{key:"_onTrack",value:function(e){var t=this;this.destroyed||e.streams.forEach((function(n){t._debug("on track"),t.emit("track",e.track,n),t._remoteTracks.push({track:e.track,stream:n}),t._remoteStreams.some((function(e){return e.id===n.id}))||(t._remoteStreams.push(n),h((function(){t._debug("on stream"),t.emit("stream",n)})))}))}},{key:"_debug",value:function(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],l.apply(null,e)}}]),m}(f.Duplex);m.WEBRTC_SUPPORT=!!c(),m.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},m.channelConfig={},t.exports=m},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")}()},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t,n){var r=n(808),i=n(617),o=n(993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},655:function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},993:function(e,t,n){var r=n(698).default,i=n(115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},213:function(e,t,n){var r=n(405),i=n(498),o=n(116),a=n(281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var g={};l(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(x([])));y&&y!==t&&n.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,u){var l=d(e[o],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var o;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,l(b,"constructor",v),l(v,"constructor",p),p.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},11:function(e,t,n){"use strict";n.r(t),n.d(t,{directoryOpen:function(){return d},directoryOpenLegacy:function(){return I},directoryOpenModern:function(){return k},fileOpen:function(){return u},fileOpenLegacy:function(){return E},fileOpenModern:function(){return m},fileSave:function(){return p},fileSaveLegacy:function(){return M},fileSaveModern:function(){return C},supported:function(){return a}});var r=n(982),i=n(165),o=n(861),a=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(a){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),s=a?Promise.resolve().then((function(){return y})):Promise.resolve().then((function(){return x}));function u(){return l.apply(this,arguments)}function l(){return l=(0,o.Z)((0,i.Z)().mark((function e(){var t,n=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}var c=a?Promise.resolve().then((function(){return S})):Promise.resolve().then((function(){return P}));function d(){return f.apply(this,arguments)}function f(){return f=(0,o.Z)((0,i.Z)().mark((function e(){var t,n=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var h=a?Promise.resolve().then((function(){return _})):Promise.resolve().then((function(){return T}));function p(){return v.apply(this,arguments)}function v(){return v=(0,o.Z)((0,i.Z)().mark((function e(){var t,n=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var g=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFile();case 2:return n=e.sent,e.abrupt("return",(n.handle=t,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,r,o,a=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:[{}],Array.isArray(t)||(t=[t]),n=[],t.forEach((function(e,t){n[t]={description:e.description||"",accept:{}},e.mimeTypes?e.mimeTypes.map((function(r){n[t].accept[r]=e.extensions||[]})):n[t].accept["*/*"]=e.extensions||[]})),e.next=6,window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:n,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});case 6:return r=e.sent,e.next=9,Promise.all(r.map(g));case 9:return o=e.sent,e.abrupt("return",t[0].multiple?o:o[0]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y={__proto__:null,default:m};function b(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return b=function(e){this.s=e,this.n=e.next},b.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new b(e)}var w=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var o,a,s,u,l,c,d,f,h,p,v=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=v.length>2&&void 0!==v[2]?v[2]:t.name,a=v.length>3?v[3]:void 0,s=[],u=[],c=!1,d=!1,e.prev=4,f=function(){var e=h.value,r="".concat(o,"/").concat(e.name);"file"===e.kind?u.push(e.getFile().then((function(n){return n.directoryHandle=t,n.handle=e,Object.defineProperty(n,"webkitRelativePath",{configurable:!0,enumerable:!0,get:function(){return r}})}))):"directory"!==e.kind||!n||a&&a(e)||s.push(w(e,n,r,a))},p=function(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new b(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(t.values());case 7:return e.next=9,p.next();case 9:if(!(c=!(h=e.sent).done)){e.next=14;break}f();case 11:c=!1,e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),d=!0,l=e.t0;case 19:if(e.prev=19,e.prev=20,e.t1=c&&null!=p.return,!e.t1){e.next=25;break}return e.next=25,p.return();case 25:if(e.prev=25,!d){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(19);case 30:return e.t2=[],e.t3=r.Z,e.next=34,Promise.all(s);case 34:return e.t4=e.sent.flat(),e.t5=(0,e.t3)(e.t4),e.t6=r.Z,e.next=39,Promise.all(u);case 39:return e.t7=e.sent,e.t8=(0,e.t6)(e.t7),e.abrupt("return",e.t2.concat.call(e.t2,e.t5,e.t8));case 42:case"end":return e.stop()}}),e,null,[[4,16,19,30],[20,,25,29]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,r=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r.length>0&&void 0!==r[0]?r[0]:{}).recursive=t.recursive||!1,e.next=4,window.showDirectoryPicker({id:t.id,startIn:t.startIn});case 4:return n=e.sent,e.abrupt("return",w(n,t.recursive,void 0,t.skipDirectory));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S={__proto__:null,default:k},C=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,o,a,s,u,l,c,d,f=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:[{}],r=f.length>2&&void 0!==f[2]?f[2]:null,o=f.length>3&&void 0!==f[3]&&f[3],a=f.length>4&&void 0!==f[4]?f[4]:null,Array.isArray(n)||(n=[n]),n[0].fileName=n[0].fileName||"Untitled",s=[],u=null,t instanceof Blob&&t.type?u=t.type:t.headers&&t.headers.get("content-type")&&(u=t.headers.get("content-type")),n.forEach((function(e,t){s[t]={description:e.description||"",accept:{}},e.mimeTypes?(0===t&&u&&e.mimeTypes.push(u),e.mimeTypes.map((function(n){s[t].accept[n]=e.extensions||[]}))):u?s[t].accept[u]=e.extensions||[]:s[t].accept["*/*"]=e.extensions||[]})),!r){e.next=17;break}return e.prev=8,e.next=11,r.getFile();case 11:e.next=17;break;case 13:if(e.prev=13,e.t0=e.catch(8),r=null,!o){e.next=17;break}throw e.t0;case 17:if(e.t1=r,e.t1){e.next=22;break}return e.next=21,window.showSaveFilePicker({suggestedName:n[0].fileName,id:n[0].id,startIn:n[0].startIn,types:s,excludeAcceptAllOption:n[0].excludeAcceptAllOption||!1});case 21:e.t1=e.sent;case 22:return l=e.t1,!r&&a&&a(),e.next=26,l.createWritable();case 26:if(c=e.sent,!("stream"in t)){e.next=32;break}return d=t.stream(),e.next=31,d.pipeTo(c);case 31:return e.abrupt("return",l);case 32:if(!("body"in t)){e.next=38;break}return e.next=35,t.body.pipeTo(c);case 35:e.t2=l,e.next=47;break;case 38:return e.t3=c,e.next=41,t;case 41:return e.t4=e.sent,e.next=44,e.t3.write.call(e.t3,e.t4);case 44:return e.next=46,c.close();case 46:e.t2=l;case 47:return e.abrupt("return",e.t2);case 48:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t){return e.apply(this,arguments)}}(),_={__proto__:null,default:C},E=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[{}],e.abrupt("return",(Array.isArray(t)||(t=[t]),new Promise((function(e,n){var i=document.createElement("input");i.type="file";var o=[].concat((0,r.Z)(t.map((function(e){return e.mimeTypes||[]}))),(0,r.Z)(t.map((function(e){return e.extensions||[]})))).join();i.multiple=t[0].multiple||!1,i.accept=o||"";var a=function(t){"function"==typeof s&&s(),e(t)},s=t[0].legacySetup&&t[0].legacySetup(a,(function(){return s(n)}),i);i.addEventListener("change",(function(){a(i.multiple?Array.from(i.files):i.files[0])})),i.click()}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x={__proto__:null,default:E},I=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,n=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:[{}],e.abrupt("return",(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((function(e,n){var r=document.createElement("input");r.type="file",r.webkitdirectory=!0;var i=function(t){"function"==typeof o&&o(),e(t)},o=t[0].legacySetup&&t[0].legacySetup(i,(function(){return o(n)}),r);r.addEventListener("change",(function(){var e=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(e=e.filter((function(e){return e.webkitRelativePath.split("/").every((function(e){return!t[0].skipDirectory({name:e,kind:"directory"})}))}))):e=e.filter((function(e){return 2===e.webkitRelativePath.split("/").length})),i(e)})),r.click()}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P={__proto__:null,default:I},M=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,a,s,u,l=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},Array.isArray(n)&&(n=n[0]),r=document.createElement("a"),a=t,e.t0="body"in t,!e.t0){e.next=9;break}return e.next=8,function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,a,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getReader(),a=new ReadableStream({start:function(e){return function(){var t=(0,o.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.read().then((function(t){var r=t.done,i=t.value;if(!r)return e.enqueue(i),n();e.close()})));case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()()}}),s=new Response(a),e.next=5,s.blob();case 5:return u=e.sent,e.abrupt("return",(r.releaseLock(),new Blob([u],{type:n})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t.body,t.headers.get("content-type"));case 8:a=e.sent;case 9:return r.download=n.fileName||"Untitled",e.t1=URL,e.next=13,a;case 13:return e.t2=e.sent,r.href=e.t1.createObjectURL.call(e.t1,e.t2),s=function(){"function"==typeof u&&u()},u=n.legacySetup&&n.legacySetup(s,(function(){return u()}),r),e.abrupt("return",(r.addEventListener("click",(function(){setTimeout((function(){return URL.revokeObjectURL(r.href)}),3e4),s()})),r.click(),null));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T={__proto__:null,default:M}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".d4a0a6a5.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="tldraw-p2p-pwa:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/TA/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktldraw_p2p_pwa=self.webpackChunktldraw_p2p_pwa||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return l=u()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i},l.apply(null,arguments)}var c=n(982);function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=n(2);function v(e,t){if(t&&("object"===(0,p.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function g(e){var t=u();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}var m=n(165);var y=n(181);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,y.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,y.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var E={};function x(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:E}var I=Object.assign,P=Object.getOwnPropertyDescriptor,M=Object.defineProperty,T=Object.prototype,O=[];Object.freeze(O);var R={};Object.freeze(R);var D="undefined"!==typeof Proxy,A=Object.toString();function L(){D||_("Proxy not available")}function B(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var j=function(){};function N(e){return"function"===typeof e}function F(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function z(e){return null!==e&&"object"===typeof e}function H(e){if(!z(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===A}function U(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function V(e,t,n){M(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function K(e,t,n){M(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Z(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return z(e)&&!0===e[n]}}function W(e){return e instanceof Map}function Y(e){return e instanceof Set}var X="undefined"!==typeof Object.getOwnPropertySymbols;var $="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:X?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function G(e){return null===e?null:"object"===typeof e?""+e:e}function q(e,t){return T.hasOwnProperty.call(e,t)}var Q=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(n){t[n]=P(e,n)})),t};function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function ne(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,re(e,t)}function re(e,t){return re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},re(e,t)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var se=Symbol("mobx-stored-annotations");function ue(e){return Object.assign((function(t,n){le(t,n,e)}),e)}function le(e,t,n){q(e,se)||V(e,se,te({},e[se])),function(e){return e.annotationType_===me}(n)||(e[se][t]=n)}var ce=Symbol("mobx administration"),de=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=lt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Lt(this)},t.reportChanged=function(){Dt(),Bt(this),At()},t.toString=function(){return this.name_},e}(),fe=Z("Atom",de);function he(e,t,n){void 0===t&&(t=j),void 0===n&&(n=j);var r,i=new de(e);return t!==j&&on(nn,i,t,r),n!==j&&rn(i,n),i}var pe={identity:function(e,t){return e===t},structural:function(e,t){return mr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return mr(e,t,1)}};function ve(e,t,n){return bn(e)?e:Array.isArray(e)?Xe.array(e,{name:n}):H(e)?Xe.object(e,void 0,{name:n}):W(e)?Xe.map(e,{name:n}):Y(e)?Xe.set(e,{name:n}):"function"!==typeof e||Qt(e)||mn(e)?e:U(e)?vn(e):qt(n,e)}function ge(e){return e}var me="override";function ye(e,t){return{annotationType_:e,options_:t,make_:be,extend_:we}}function be(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Qt(n.value))return 1;var o=ke(e,this,t,n,!1);return M(r,t,o),2}function we(e,t,n,r){var i=ke(e,this,t,n);return e.defineProperty_(t,i,r)}function ke(e,t,n,r,i){var o,a,s,u,l,c,d,f;void 0===i&&(i=Mt.safeDescriptors),f=r,t.annotationType_,f.value;var h,p=r.value;null!=(o=t.options_)&&o.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:it(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),p,null!=(u=null==(l=t.options_)?void 0:l.autoAction)&&u,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function Se(e,t){return{annotationType_:e,options_:t,make_:Ce,extend_:_e}}function Ce(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!q(e.target_,t)||!mn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(mn(n.value))return 1;var o=Ee(e,this,t,n,!1,!1);return M(r,t,o),2}function _e(e,t,n,r){var i,o=Ee(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function Ee(e,t,n,r,i,o){var a;void 0===o&&(o=Mt.safeDescriptors),a=r,t.annotationType_,a.value;var s,u=r.value;(mn(u)||(u=vn(u)),i)&&((u=u.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function xe(e,t){return{annotationType_:e,options_:t,make_:Ie,extend_:Pe}}function Ie(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Pe(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,te({},this.options_,{get:n.get,set:n.set}),r)}function Me(e,t){return{annotationType_:e,options_:t,make_:Te,extend_:Oe}}function Te(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Oe(e,t,n,r){var i,o;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:ve,r)}var Re=De();function De(e){return{annotationType_:"true",options_:e,make_:Ae,extend_:Le}}function Ae(e,t,n,r){var i,o,a,s;if(n.get)return Qe.make_(e,t,n,r);if(n.set){var u=it(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Mt.safeDescriptors||e.isPlainObject_,set:u})?0:2:(M(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"===typeof n.value)return U(n.value)?(null!=(s=this.options_)&&s.autoBind?vn.bound:vn).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?qt.bound:qt).make_(e,t,n,r);var l,c=!1===(null==(i=this.options_)?void 0:i.deep)?Xe.ref:Xe;"function"===typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(l=e.proxy_)?l:e.target_));return c.make_(e,t,n,r)}function Le(e,t,n,r){var i,o,a;if(n.get)return Qe.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Mt.safeDescriptors||e.isPlainObject_,set:it(t.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Xe.ref:Xe).extend_(e,t,n,r)}var Be={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function je(e){return e||Be}Object.freeze(Be);var Ne=Me("observable"),Fe=Me("observable.ref",{enhancer:ge}),ze=Me("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||nr(e)||Hn(e)||Wn(e)||$n(e)?e:Array.isArray(e)?Xe.array(e,{name:n,deep:!1}):H(e)?Xe.object(e,void 0,{name:n,deep:!1}):W(e)?Xe.map(e,{name:n,deep:!1}):Y(e)?Xe.set(e,{name:n,deep:!1}):void 0}}),He=Me("observable.struct",{enhancer:function(e,t){return mr(e,t)?t:e}}),Ue=ue(Ne);function Ve(e){return!0===e.deep?ve:!1===e.deep?ge:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:ve}(e.defaultDecorator)}function Ke(e,t,n){if(!F(t))return bn(e)?e:H(e)?Xe.object(e,t,n):Array.isArray(e)?Xe.array(e,t):W(e)?Xe.map(e,t):Y(e)?Xe.set(e,t):"object"===typeof e&&null!==e?e:Xe.box(e,t);le(e,t,Ne)}Object.assign(Ke,Ue);var Ze,We,Ye={box:function(e,t){var n=je(t);return new dt(e,Ve(n),n.name,!0,n.equals)},array:function(e,t){var n=je(t);return(!1===Mt.useProxies||!1===n.proxy?fr:An)(e,Ve(n),n.name)},map:function(e,t){var n=je(t);return new Zn(e,Ve(n),n.name)},set:function(e,t){var n=je(t);return new Xn(e,Ve(n),n.name)},object:function(e,t,n){return un(!1===Mt.useProxies||!1===(null==n?void 0:n.proxy)?Jn({},n):function(e,t){var n,r;return L(),e=Jn(e,t),null!=(r=(n=e[ce]).proxy_)?r:n.proxy_=new Proxy(e,Cn)}({},n),e,t)},ref:ue(Fe),shallow:ue(ze),deep:Ue,struct:ue(He)},Xe=I(Ke,Ye),$e="computed",Ge=xe($e),qe=xe("computed.struct",{equals:pe.structural}),Qe=function(e,t){if(F(t))return le(e,t,Ge);if(H(e))return ue(xe($e,e));var n=H(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new ft(n)};Object.assign(Qe,Ge),Qe.struct=ue(qe);var Je,et=0,tt=1,nt=null!=(Ze=null==(We=P((function(){}),"name"))?void 0:We.configurable)&&Ze,rt={value:"action",configurable:!0,writable:!1,enumerable:!1};function it(e,t,n,r){function i(){return ot(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,nt&&(rt.value=e,Object.defineProperty(i,"name",rt)),i}function ot(e,t,n,r,i){var o=function(e,t,n,r){var i=!1,o=0;0;var a=Mt.trackingDerivation,s=!t||!a;Dt();var u=Mt.allowStateChanges;s&&(kt(),u=st(!0));var l=Ct(!0),c={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:o,actionId_:tt++,parentActionId_:et};return et=c.actionId_,c}(0,t);try{return n.apply(r,i)}catch(a){throw o.error_=a,a}finally{!function(e){et!==e.actionId_&&_(30);et=e.parentActionId_,void 0!==e.error_&&(Mt.suppressReactionErrors=!0);ut(e.prevAllowStateChanges_),_t(e.prevAllowStateReads_),At(),e.runAsAction_&&St(e.prevDerivation_);0;Mt.suppressReactionErrors=!1}(o)}}function at(e,t){var n=st(e);try{return t()}finally{ut(n)}}function st(e){var t=Mt.allowStateChanges;return Mt.allowStateChanges=e,t}function ut(e){Mt.allowStateChanges=e}Je=Symbol.toPrimitive;var lt,ct,dt=function(e,t){function n(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=pe.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}ne(n,e);var r=n.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==Mt.UNCHANGED){0,this.setNewValue_(e)}},r.prepareNewValue_=function(e){if(mt(this),_n(this)){var t=xn(this,{object:this,type:On,newValue:e});if(!t)return Mt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Mt.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),In(this)&&Mn(this,{type:On,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return En(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:On,newValue:this.value_,oldValue:void 0}),Pn(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return G(this.get())},r[t]=function(){return this.valueOf()},n}(de,Je),ft=function(e){function t(e){this.dependenciesState_=lt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=lt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new pt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ct.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||_(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=it("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?pe.structural:pe.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==lt.UP_TO_DATE_)return;e.lowestObserverState_=lt.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===lt.UP_TO_DATE_&&(e.dependenciesState_=lt.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function(){if(this.isComputing_&&_(32,this.name_,this.derivation),0!==Mt.inBatch||0!==this.observers_.size||this.keepAlive_){if(Lt(this),gt(this)){var e=Mt.trackingContext;this.keepAlive_&&!e&&(Mt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===lt.STALE_)return;e.lowestObserverState_=lt.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===lt.POSSIBLY_STALE_?t.dependenciesState_=lt.STALE_:t.dependenciesState_===lt.UP_TO_DATE_&&(e.lowestObserverState_=lt.UP_TO_DATE_)}))}(this),Mt.trackingContext=e}}else gt(this)&&(this.warnAboutUntrackedRead_(),Dt(),this.value_=this.computeValue_(!1),At());var t=this.value_;if(vt(t))throw t.cause;return t},n.set=function(e){if(this.setter_){this.isRunningSetter_&&_(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else _(34,this.name_)},n.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===lt.NOT_TRACKING_,n=this.computeValue_(!0),r=t||vt(e)||vt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},n.computeValue_=function(e){this.isComputing_=!0;var t,n=st(!1);if(e)t=yt(this,this.derivation,this.scope_);else if(!0===Mt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(r){t=new pt(r)}return ut(n),this.isComputing_=!1,t},n.suspend_=function(){this.keepAlive_||(bt(this),this.value_=void 0)},n.observe_=function(e,t){var n=this,r=!0,i=void 0;return Jt((function(){var o=n.get();if(!r||t){var a=kt();e({observableKind:"computed",debugObjectName:n.name_,type:On,object:n,newValue:o,oldValue:i}),St(a)}r=!1,i=o}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return G(this.get())},n[e]=function(){return this.valueOf()},t}(Symbol.toPrimitive),ht=Z("ComputedValue",ft);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(lt||(lt={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ct||(ct={}));var pt=function(e){this.cause=void 0,this.cause=e};function vt(e){return e instanceof pt}function gt(e){switch(e.dependenciesState_){case lt.UP_TO_DATE_:return!1;case lt.NOT_TRACKING_:case lt.STALE_:return!0;case lt.POSSIBLY_STALE_:for(var t=Ct(!0),n=kt(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(ht(a)){if(Mt.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return St(n),_t(t),!0}if(e.dependenciesState_===lt.STALE_)return St(n),_t(t),!0}}return Et(e),St(n),_t(t),!1}}function mt(e){}function yt(e,t,n){var r=Ct(!0);Et(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Mt.runId;var i,o=Mt.trackingDerivation;if(Mt.trackingDerivation=e,Mt.inBatch++,!0===Mt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(a){i=new pt(a)}return Mt.inBatch--,Mt.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=lt.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var u=t[o];0===u.diffValue_&&Ot(u,e),u.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,Tt(l,e))}r!==lt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),_t(r),i}function bt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Ot(t[n],e);e.dependenciesState_=lt.NOT_TRACKING_}function wt(e){var t=kt();try{return e()}finally{St(t)}}function kt(){var e=Mt.trackingDerivation;return Mt.trackingDerivation=null,e}function St(e){Mt.trackingDerivation=e}function Ct(e){var t=Mt.allowStateReads;return Mt.allowStateReads=e,t}function _t(e){Mt.allowStateReads=e}function Et(e){if(e.dependenciesState_!==lt.UP_TO_DATE_){e.dependenciesState_=lt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=lt.UP_TO_DATE_}}var xt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},It=!0,Pt=!1,Mt=function(){var e=x();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(It=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new xt).version&&(It=!1),It?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new xt):(setTimeout((function(){Pt||_(35)}),1),new xt)}();function Tt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Ot(e,t){e.observers_.delete(t),0===e.observers_.size&&Rt(e)}function Rt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Mt.pendingUnobservations.push(e))}function Dt(){Mt.inBatch++}function At(){if(0===--Mt.inBatch){Ft();for(var e=Mt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ft&&n.suspend_())}Mt.pendingUnobservations=[]}}function Lt(e){var t=Mt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Mt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&Mt.inBatch>0&&Rt(e),!1)}function Bt(e){e.lowestObserverState_!==lt.STALE_&&(e.lowestObserverState_=lt.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===lt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=lt.STALE_})))}var jt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=lt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ct.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Mt.pendingReactions.push(this),Ft())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Dt(),this.isScheduled_=!1;var e=Mt.trackingContext;if(Mt.trackingContext=this,gt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}Mt.trackingContext=e,At()}},t.track=function(e){if(!this.isDisposed_){Dt();0,this.isRunning_=!0;var t=Mt.trackingContext;Mt.trackingContext=this;var n=yt(this,e,void 0);Mt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&bt(this),vt(n)&&this.reportExceptionInDerivation_(n.cause),At()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Mt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Mt.suppressReactionErrors||console.error(n,e),Mt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Dt(),bt(this),At()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[ce]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){_("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"===typeof n[n.length-1]&&(e=n.pop());var i=wn(n);if(!i)return _("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===ct.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?ct.BREAK:ct.LOG}(this,e)},e}();var Nt=function(e){return e()};function Ft(){Mt.inBatch>0||Mt.isRunningReactions||Nt(zt)}function zt(){Mt.isRunningReactions=!0;for(var e=Mt.pendingReactions,t=0;e.length>0;){100===++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Mt.isRunningReactions=!1}var Ht=Z("Reaction",jt);var Ut="action",Vt="autoAction",Kt="<unnamed action>",Zt=ye(Ut),Wt=ye("action.bound",{bound:!0}),Yt=ye(Vt,{autoAction:!0}),Xt=ye("autoAction.bound",{autoAction:!0,bound:!0});function $t(e){return function(t,n){return N(t)?it(t.name||Kt,t,e):N(n)?it(t,n,e):F(n)?le(t,n,e?Yt:Zt):F(t)?ue(ye(e?Vt:Ut,{name:t,autoAction:e})):void 0}}var Gt=$t(!1);Object.assign(Gt,Zt);var qt=$t(!0);function Qt(e){return N(e)&&!0===e.isMobxAction}function Jt(e,t){var n,r;void 0===t&&(t=R);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new jt(o,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var a=tn(t),s=!1;i=new jt(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(qt,Yt),Gt.bound=ue(Wt),qt.bound=ue(Xt);var en=function(e){return e()};function tn(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:en}var nn="onBO";function rn(e,t,n){return on("onBUO",e,t,n)}function on(e,t,n,r){var i="function"===typeof r?hr(t,n):hr(t),o=N(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var an="always";function sn(e){!0===e.isolateGlobalState&&function(){if((Mt.pendingReactions.length||Mt.inBatch||Mt.isRunningReactions)&&_(36),Pt=!0,It){var e=x();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Mt=new xt}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(Mt.useProxies=t===an||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(Mt.verifyProxies=!0),void 0!==n){var r=n===an?an:"observed"===n;Mt.enforceActions=r,Mt.allowStateChanges=!0!==r&&r!==an}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Mt[t]=!!e[t])})),Mt.allowStateReads=!Mt.observableRequiresReaction,e.reactionScheduler&&function(e){var t=Nt;Nt=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function un(e,t,n,r){var i=Q(t),o=Jn(e,r)[ce];Dt();try{$(i).forEach((function(e){o.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{At()}return e}function ln(e,t){return cn(hr(e,t))}function cn(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(cn)),n}var dn=0;function fn(){this.message="FLOW_CANCELLED"}fn.prototype=Object.create(Error.prototype);var hn=Se("flow"),pn=Se("flow.bound",{bound:!0}),vn=Object.assign((function(e,t){if(F(t))return le(e,t,hn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++dn,a=Gt(r+" - runid: "+o+" - init",n).apply(t,i),s=void 0,u=new Promise((function(t,n){var i=0;function u(e){var t;s=void 0;try{t=Gt(r+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(u){return n(u)}c(t)}function l(e){var t;s=void 0;try{t=Gt(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(u){return n(u)}c(t)}function c(e){if(!N(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(u,l);e.then(c,n)}e=n,u(void 0)}));return u.cancel=Gt(r+" - runid: "+o+" - cancel",(function(){try{s&&gn(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(j,j),gn(n),e(new fn)}catch(r){e(r)}})),u};return i.isMobXFlow=!0,i}),hn);function gn(e){N(e.cancel)&&e.cancel()}function mn(e){return!0===(null==e?void 0:e.isMobXFlow)}function yn(e,t){return!!e&&(void 0!==t?!!nr(e)&&e[ce].values_.has(t):nr(e)||!!e[ce]||fe(e)||Ht(e)||ht(e))}function bn(e){return yn(e)}function wn(e){switch(e.length){case 0:return Mt.trackingDerivation;case 1:return hr(e[0]);case 2:return hr(e[0],e[1])}}function kn(e,t){void 0===t&&(t=void 0),Dt();try{return e.apply(t)}finally{At()}}function Sn(e){return e[ce]}vn.bound=ue(pn);var Cn={has:function(e,t){return Sn(e).has_(t)},get:function(e,t){return Sn(e).get_(t)},set:function(e,t,n){var r;return!!F(t)&&(null==(r=Sn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!F(t)&&(null==(n=Sn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=Sn(e).defineProperty_(t,n))||r},ownKeys:function(e){return Sn(e).ownKeys_()},preventExtensions:function(e){_(13)}};function _n(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function En(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),B((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function xn(e,t){var n=kt();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&_(14),t);i++);return t}finally{St(n)}}function In(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Pn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),B((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Mn(e,t){var n=kt(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);St(n)}}var Tn="splice",On="update",Rn={get:function(e,t){var n=e[ce];return t===ce?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?q(Ln,t)?Ln[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[ce];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){_(15)}},Dn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new de(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return En(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Pn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&_("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&_(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&dr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=O),_n(this)){var o=xn(this,{object:this.proxy_,type:Tn,index:e,removedCount:t,added:n});if(!o)return O;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=In(this),o=i||r?{observableKind:"array",object:this.proxy_,type:On,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Mn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=In(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Tn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Mn(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(_n(this)){var i=xn(this,{type:On,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):_(17,e,n.length)},e}();function An(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),L();var i=new Dn(n,t,r,!1);K(i.values_,ce,i);var o=new Proxy(i.values_,Rn);if(i.proxy_=o,e&&e.length){var a=st(!0);i.spliceWithArray_(0,0,e),ut(a)}return o}var Ln={clear:function(){return this.splice(0)},replace:function(e){var t=this[ce];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[ce];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[ce].spliceWithArray_(e,t,n)},push:function(){for(var e=this[ce],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[ce].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ce],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Mt.trackingDerivation&&_(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Mt.trackingDerivation&&_(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[ce],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Bn(e,t){"function"===typeof Array.prototype[e]&&(Ln[e]=t(e))}function jn(e){return function(){var t=this[ce];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Nn(e){return function(t,n){var r=this,i=this[ce];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Fn(e){return function(){var t=this,n=this[ce];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Bn("concat",jn),Bn("flat",jn),Bn("includes",jn),Bn("indexOf",jn),Bn("join",jn),Bn("lastIndexOf",jn),Bn("slice",jn),Bn("toString",jn),Bn("toLocaleString",jn),Bn("every",Nn),Bn("filter",Nn),Bn("find",Nn),Bn("findIndex",Nn),Bn("flatMap",Nn),Bn("forEach",Nn),Bn("map",Nn),Bn("some",Nn),Bn("reduce",Fn),Bn("reduceRight",Fn);var zn=Z("ObservableArrayAdministration",Dn);function Hn(e){return z(e)&&zn(e[ce])}var Un={},Vn="add",Kn="delete",Zn=function(e,t){function n(e,t,n){var r=this;void 0===t&&(t=ve),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ce]=Un,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,N(Map)||_(18),this.keysAtom_=he("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,at(!0,(function(){r.merge(e)}))}var r=n.prototype;return r.has_=function(e){return this.data_.has(e)},r.has=function(e){var t=this;if(!Mt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new dt(this.has_(e),ge,"ObservableMap.key?",!1);this.hasMap_.set(e,r),rn(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},r.set=function(e,t){var n=this.has_(e);if(_n(this)){var r=xn(this,{type:n?On:Vn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},r.delete=function(e){var t=this;if((this.keysAtom_,_n(this))&&!xn(this,{type:Kn,object:this,name:e}))return!1;if(this.has_(e)){var n=In(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Kn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return kn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Mn(this,r),!0}return!1},r.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Mt.UNCHANGED){var r=In(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:On,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Mn(this,i)}},r.addValue_=function(e,t){var n=this;this.keysAtom_,kn((function(){var r,i=new dt(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=In(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Vn,object:this,name:e,newValue:t}:null;r&&Mn(this,i)},r.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var e=this,t=this.keys();return wr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},r.entries=function(){var e=this,t=this.keys();return wr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function(e,t){for(var n,r=ae(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},r.merge=function(e){var t=this;return Wn(e)&&(e=new Map(e)),kn((function(){H(e)?function(e){var t=Object.keys(e);if(!X)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return T.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):W(e)?(e.constructor!==Map&&_(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&_(20,e)})),this},r.clear=function(){var e=this;kn((function(){wt((function(){for(var t,n=ae(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.replace=function(e){var t=this;return kn((function(){for(var n,r=function(e){if(W(e)||Wn(e))return e;if(Array.isArray(e))return new Map(e);if(H(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return _(21,e)}(e),i=new Map,o=!1,a=ae(t.data_.keys());!(n=a()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))o=!0;else{var u=t.data_.get(s);i.set(s,u)}}for(var l,c=ae(r.entries());!(l=c()).done;){var d=l.value,f=d[0],h=d[1],p=t.data_.has(f);if(t.set(f,h),t.data_.has(f)){var v=t.data_.get(f);i.set(f,v),p||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var g=t.data_.keys(),m=i.keys(),y=g.next(),b=m.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=g.next(),b=m.next()}t.data_=i})),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(e,t){return Pn(this,e)},r.intercept_=function(e){return En(this,e)},ee(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),Wn=Z("ObservableMap",Zn);var Yn={},Xn=function(e,t){function n(e,t,n){void 0===t&&(t=ve),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[ce]=Yn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,N(Set)||_(22),this.atom_=he(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.clear=function(){var e=this;kn((function(){wt((function(){for(var t,n=ae(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.forEach=function(e,t){for(var n,r=ae(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},r.add=function(e){var t=this;if((this.atom_,_n(this))&&!xn(this,{type:Vn,object:this,newValue:e}))return this;if(!this.has(e)){kn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=In(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Vn,object:this,newValue:e}:null;n,r&&Mn(this,i)}return this},r.delete=function(e){var t=this;if(_n(this)&&!xn(this,{type:Kn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=In(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Kn,object:this,oldValue:e}:null;return kn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Mn(this,r),!0}return!1},r.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},r.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return wr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return wr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},r.replace=function(e){var t=this;return $n(e)&&(e=new Set(e)),kn((function(){Array.isArray(e)||Y(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&_("Cannot initialize set from "+e)})),this},r.observe_=function(e,t){return Pn(this,e)},r.intercept_=function(e){return En(this,e)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[e]=function(){return this.values()},ee(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),$n=Z("ObservableSet",Xn),Gn=Object.create(null),qn="remove",Qn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Re),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new de("ObservableObject.keys"),this.isPlainObject_=H(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof ft)return n.set(t),!0;if(_n(this)){var r=xn(this,{type:On,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==Mt.UNCHANGED){var i=In(this),o=i?{type:On,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Mn(this,o)}return!0},t.get_=function(e){return Mt.trackingDerivation&&!q(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),q(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!Mt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new dt(e in this.target_,ge,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(ir(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[se])&&n[e])return;_(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==T;){var i=P(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}rr(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);ir(this,n,e);var i=n.extend_(this,e,t,r);return i&&rr(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{Dt();var r=this.delete_(e);if(!r)return r;if(_n(this)){var i=xn(this,{object:this.proxy_||this.target_,name:e,type:Vn,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=te({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else M(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{At()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{Dt();var i=this.delete_(e);if(!i)return i;if(_n(this)){var o=xn(this,{object:this.proxy_||this.target_,name:e,type:Vn,newValue:t});if(!o)return null;t=o.newValue}var a=tr(e),s={configurable:!Mt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else M(this.target_,e,s);var u=new dt(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{At()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{Dt();var r=this.delete_(e);if(!r)return r;if(_n(this))if(!xn(this,{object:this.proxy_||this.target_,name:e,type:Vn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=tr(e),o={configurable:!Mt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else M(this.target_,e,o);this.values_.set(e,new ft(t)),this.notifyPropertyAddition_(e,void 0)}finally{At()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!q(this.target_,e))return!0;if(_n(this)&&!xn(this,{object:this.proxy_||this.target_,name:e,type:qn}))return null;try{var n,r;Dt();var i,o=In(this),a=this.values_.get(e),s=void 0;if(!a&&o)s=null==(i=P(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof dt&&(s=a.value_),Bt(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var u={type:qn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};0,o&&Mn(this,u)}}finally{At()}return!0},t.observe_=function(e,t){return Pn(this,e)},t.intercept_=function(e){return En(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=In(this);if(i){var o=i?{type:Vn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&Mn(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),$(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Jn(e,t){var n;if(q(e,ce))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Qn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:De(e):void 0}(t));return V(e,ce,i),e}var er=Z("ObservableObjectAdministration",Qn);function tr(e){return Gn[e]||(Gn[e]={get:function(){return this[ce].getObservablePropValue_(e)},set:function(t){return this[ce].setObservablePropValue_(e,t)}})}function nr(e){return!!z(e)&&er(e[ce])}function rr(e,t,n){var r;null==(r=e.target_[se])||delete r[n]}function ir(e,t,n){}var or,ar,sr=0,ur=function(){};or=ur,ar=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(or.prototype,ar):void 0!==or.prototype.__proto__?or.prototype.__proto__=ar:or.prototype=ar;var lr=function(e,t,n){function r(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new Dn(r,n,i,!0);if(a.proxy_=ie(o),K(ie(o),ce,a),t&&t.length){var s=st(!0);o.spliceWithArray(0,0,t),ut(s)}return o}ne(r,e);var i=r.prototype;return i.concat=function(){this[ce].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Hn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return wr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},ee(r,[{key:"length",get:function(){return this[ce].getArrayLength_()},set:function(e){this[ce].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(ur,Symbol.toStringTag,Symbol.iterator);function cr(e){M(lr.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[ce].get_(e)},set:function(t){this[ce].set_(e,t)}}}(e))}function dr(e){if(e>sr){for(var t=sr;t<e+100;t++)cr(t);sr=e}}function fr(e,t,n){return new lr(e,t,n)}function hr(e,t){if("object"===typeof e&&null!==e){if(Hn(e))return void 0!==t&&_(23),e[ce].atom_;if($n(e))return e[ce];if(Wn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||_(25,t,vr(e)),n}if(nr(e)){if(!t)return _(26);var r=e[ce].values_.get(t);return r||_(27,t,vr(e)),r}if(fe(e)||ht(e)||Ht(e))return e}else if(N(e)&&Ht(e[ce]))return e[ce];_(28)}function pr(e,t){return e||_(29),void 0!==t?pr(hr(e,t)):fe(e)||ht(e)||Ht(e)||Wn(e)||$n(e)?e:e[ce]?e[ce]:void _(24,e)}function vr(e,t){var n;if(void 0!==t)n=hr(e,t);else{if(Qt(e))return e.name;n=nr(e)||Wn(e)||$n(e)?pr(e):hr(e)}return n.name_}Object.entries(Ln).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&V(lr.prototype,t,n)})),dr(1e3);var gr=T.toString;function mr(e,t,n){return void 0===n&&(n=-1),yr(e,t,n)}function yr(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=gr.call(e);if(a!==gr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=br(e),t=br(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(N(u)&&u instanceof u&&N(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!yr(e[c],t[c],n-1,r,i))return!1}else{var d,f=Object.keys(e);if(c=f.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!q(t,d=f[c])||!yr(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function br(e){return Hn(e)?e.slice():W(e)||Wn(e)||Y(e)||$n(e)?Array.from(e.entries()):e}function wr(e){return e[Symbol.iterator]=kr,e}function kr(){return this}if(["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof x()[e]&&_("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:vr},$mobx:ce}),!e.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!function(e,t,n){var r=Jn(e,n)[ce];Dt();try{0,null!=t||(t=function(e){return q(e,se)||V(e,se,te({},e[se])),e[se]}(e)),$(t).forEach((function(e){return r.make_(e,t[e])}))}finally{At()}return e})throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Sr=n(164);function Cr(e){e()}function _r(e){return ln(e)}var Er="undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry;function xr(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+Ir}}var Ir=1e4;var Pr=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var Mr=Er?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,i,o){var a=n++;return r.register(o,a,e),e.current=xr(i),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(Er):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,i){var o;return e.current=xr(r),o=e,t.add(o),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var i=Pr(t),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.current;s&&(s.reaction.dispose(),a.current=null)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),Tr=Mr.addReactionToTrack,Or=Mr.recordReactionAsCommitted,Rr=(Mr.resetCleanupScheduleForTests,Mr.forceCleanupTimerToRunNowForTests,!1);function Dr(){return Rr}var Ar=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Lr(e){return"observer".concat(e)}var Br=function(){};function jr(){return new Br}function Nr(t,n){if(void 0===n&&(n="observed"),Dr())return t();var r=Ar(e.useState(jr),1)[0],i=Ar(e.useState(),2)[1],o=function(){return i([])},a=e.useRef(null);if(!a.current)var s=new jt(Lr(n),(function(){u.mounted?o():u.changedBeforeMount=!0})),u=Tr(a,s,r);var l,c,d=a.current.reaction;if(e.useDebugValue(d,_r),e.useEffect((function(){return Or(a),a.current?(a.current.mounted=!0,a.current.changedBeforeMount&&(a.current.changedBeforeMount=!1,o())):(a.current={reaction:new jt(Lr(n),(function(){o()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},o()),function(){a.current.reaction.dispose(),a.current=null}}),[]),d.track((function(){try{l=t()}catch(e){c=e}})),c)throw c;return l}var Fr="function"===typeof Symbol&&Symbol.for,zr=Fr?Symbol.for("react.forward_ref"):"function"===typeof e.forwardRef&&(0,e.forwardRef)((function(e){return null})).$$typeof,Hr=Fr?Symbol.for("react.memo"):"function"===typeof e.memo&&(0,e.memo)((function(e){return null})).$$typeof;function Ur(t,n){var r;if(Hr&&t.$$typeof===Hr)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Dr())return t;var i=null!==(r=null===n||void 0===n?void 0:n.forwardRef)&&void 0!==r&&r,o=t,a=t.displayName||t.name;if(zr&&t.$$typeof===zr&&(i=!0,"function"!==typeof(o=t.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,u,l=function(e,t){return Nr((function(){return o(e,t)}),a)};return""!==a&&(l.displayName=a),t.contextTypes&&(l.contextTypes=t.contextTypes),i&&(l=(0,e.forwardRef)(l)),l=(0,e.memo)(l),s=t,u=l,Object.keys(s).forEach((function(e){Vr[e]||Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(s,e))})),l}var Vr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Kr(e){var t=e.children,n=e.render,r=t||n;return"function"!==typeof r?null:Nr(r)}Kr.displayName="Observer";function Zr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function Wr(){return Wr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Zr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wr.apply(this,arguments)}function Yr(e,t,n){return Math.max(t,Math.min(e,n))}!function(e){e||(e=Cr),sn({reactionScheduler:e})}(Sr.unstable_batchedUpdates);var Xr=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},$r=function(e,t){return[e[0]+t[0],e[1]+t[1]]},Gr=function(e,t){return[e[0]-t[0],e[1]-t[1]]},qr=function(e,t){e[0]+=t[0],e[1]+=t[1]};function Qr(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function Jr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?Yr(e,t,n):e<t?-Qr(t-e,n-t,r)+t:e>n?+Qr(e-n,n-t,r)+n:e}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ri={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ii(e){return e?e[0].toUpperCase()+e.slice(1):""}var oi=["enter","leave"];function ai(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e&&!oi.includes(t)}function si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ri[e],i=r&&r[t]||t;return"on"+ii(e)+ii(i)+(ai(n,i)?"Capture":"")}var ui=["gotpointercapture","lostpointercapture"];function li(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=ui.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function ci(e){return"touches"in e}function di(e){return ci(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function fi(e){return ci(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function hi(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:a,origin:[i,o]}}function pi(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function vi(e,t){var n=b(Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),2);return hi(n[0],n[1])}function gi(e){var t=fi(e);return ci(e)?t.identifier:t.pointerId}function mi(e){var t=fi(e);return[t.clientX,t.clientY]}function yi(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function bi(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function wi(){}function ki(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?wi:1===t.length?t[0]:function(){var e,n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=i.apply(this,arguments)||e}}catch(o){r.e(o)}finally{r.f()}return e}}function Si(e,t){return Object.assign({},t,e||{})}var Ci=function(){function e(t,n,r){S(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return k(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?bi(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,o=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var o=t._delta.map(Math.abs);qr(t._distance,o)}this.axisIntent&&this.axisIntent(e);var a=b(t._movement,2),s=a[0],u=a[1],l=b(n.threshold,2),c=l[0],d=l[1],f=t._step,h=t.values;if(n.hasCustomTransform?(!1===f[0]&&(f[0]=Math.abs(s)>=c&&h[0]),!1===f[1]&&(f[1]=Math.abs(u)>=d&&h[1])):(!1===f[0]&&(f[0]=Math.abs(s)>=c&&Math.sign(s)*c),!1===f[1]&&(f[1]=Math.abs(u)>=d&&Math.sign(u)*d)),t.intentional=!1!==f[0]||!1!==f[1],t.intentional){var p=[0,0];if(n.hasCustomTransform){var v=b(h,2),g=v[0],m=v[1];p[0]=!1!==f[0]?g-f[0]:0,p[1]=!1!==f[1]?m-f[1]:0}else p[0]=!1!==f[0]?s-f[0]:0,p[1]=!1!==f[1]?u-f[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);var y=t.offset,w=t._active&&!t._blocked||t.active;w&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=bi(n.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));var k=b(t.offset,2),S=k[0],C=k[1],_=b(t._bounds,2),E=b(_[0],2),x=E[0],I=E[1],P=b(_[1],2),M=P[0],T=P[1];t.overflow=[S<x?-1:S>I?1:0,C<M?-1:C>T?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var O=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=b(t,2),i=r[0],o=r[1],a=b(n,2),s=a[0],u=a[1],l=b(e,2),c=b(l[0],2),d=c[0],f=c[1],h=b(l[1],2),p=h[0],v=h[1];return[Jr(i,d,f,s),Jr(o,p,v,u)]}(t._bounds,t.offset,O),t.delta=Gr(t.offset,y),this.computeMovement(),w&&(!t.last||i>32)){t.delta=Gr(t.offset,y);var R=t.delta.map(Math.abs);qr(t.distance,R),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[R[0]/i,R[1]/i])}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(ni(ni(ni({},t),e),{},i({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var _i=function(e){f(n,e);var t=g(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ei(d(e=t.call.apply(t,[this].concat(i))),"aliasKey","xy"),e}return k(n,[{key:"reset",value:function(){Wr(h(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=$r(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=Gr(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===typeof n.axisThreshold?n.axisThreshold[di(e)]:n.axisThreshold;t.axis=function(e,t){var n=b(e,2),r=n[0],i=n[1],o=Math.abs(r),a=Math.abs(i);return o>a&&o>t?"x":a>o&&a>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}]),n}(Ci),Ei=function(e){return e},xi=.15,Ii={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},eventOptions:function(e,t,n){return ni(ni({},n.shared.eventOptions),e)},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[xi,xi];case!1:return[0,0];default:return Xr(e)}},from:function(e){return"function"===typeof e?e:null!=e?Xr(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||Ei},threshold:function(e){return Xr(e,0)}};var Pi=ni(ni({},Ii),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return Pi.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,o=e.top,a=void 0===o?-1/0:o,s=e.bottom,u=void 0===s?1/0:s;return[[n,i],[a,u]]}}),Mi=10,Ti={ArrowRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[Mi*e,0]},ArrowLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[-10*e,0]},ArrowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,-10*e]},ArrowDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,Mi*e]}},Oi=function(e){f(n,e);var t=g(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ei(d(e=t.call.apply(t,[this].concat(i))),"ingKey","dragging"),e}return k(n,[{key:"reset",value:function(){Wr(h(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=Pi.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,Wr(h(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;if(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons)){var r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=gi(e),n._pointerActive=!0,this.computeValues(mi(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==di(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive&&(t.type!==e.type||e.timeStamp!==t.timeStamp)){var r=gi(e);if(void 0===t._pointerId||r===t._pointerId){var i=mi(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Gr(i,t._values),this.computeValues(i)),qr(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(_){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=gi(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var i=b(t._distance,2),o=i[0],a=i[1];if(t.tap=o<=n.tapsThreshold&&a<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var s=b(t.direction,2),u=s[0],l=s[1],c=b(t.velocity,2),d=c[0],f=c[1],h=b(t.movement,2),p=h[0],v=h[1],g=b(n.swipe.velocity,2),m=g[0],y=g[1],w=b(n.swipe.distance,2),k=w[0],S=w[1],C=n.swipe.duration;t.elapsedTime<C&&(Math.abs(d)>m&&Math.abs(p)>k&&(t.swipe[0]=u),Math.abs(f)>y&&Math.abs(v)>S&&(t.swipe[1]=l))}this.emit()}}}},{key:"pointerClick",value:function(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);var t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=Ti[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(r),n._keyboardActive=!0,qr(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in Ti&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(_i);var Ri="undefined"!==typeof window&&window.document&&window.document.createElement;function Di(){return Ri&&"ontouchstart"in window||Ri&&window.navigator.maxTouchPoints>1}var Ai={isBrowser:Ri,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Di(),touchscreen:Di(),pointer:Ri&&"onpointerdown"in window,pointerLock:Ri&&"exitPointerLock"in window.document},Li={mouse:0,touch:0,pen:8},Bi=ni(ni({},Pi),{},{device:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).touch,o=void 0!==i&&i,a=r.lock,s=void 0!==a&&a,u=r.mouse,l=void 0!==u&&u;return this.pointerLock=s&&Ai.pointerLock,Ai.touch&&o?"touch":this.pointerLock?"mouse":Ai.pointer&&!l?"pointer":Ai.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,Ai.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).capture,o=void 0===i||i,a=r.buttons,s=void 0===a?1:a;return this.pointerButtons=s,!this.pointerLock&&"pointer"===this.device&&o},keys:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.tapsThreshold,a=void 0===o?3:o,s=n.axis,u=Xr(e,i?a:(void 0===s?void 0:s)?1:0);return this.filterTaps=i,this.tapsThreshold=a,u},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,i=void 0===r?50:r,o=e.duration,a=void 0===o?250:o;return{velocity:this.transform(Xr(n)),distance:this.transform(Xr(i)),duration:a}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:function(e){return e?ni(ni({},Li),e):Li}});var ji=function(e){f(n,e);var t=g(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ei(d(e=t.call.apply(t,[this].concat(i))),"ingKey","pinching"),ei(d(e),"aliasKey","da"),e}return k(n,[{key:"init",value:function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function(){Wr(h(n.prototype),"reset",this).call(this);var e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}},{key:"computeOffset",value:function(){var e=this.state,t=e.type,n=e.movement,r=e.lastOffset;this.state.offset="wheel"===t?$r(n,r):[(1+n[0])*r[0],n[1]+r[1]]}},{key:"computeMovement",value:function(){var e=this.state,t=e.offset,n=e.lastOffset;this.state.movement=[t[0]/n[0],t[1]-n[1]]}},{key:"axisIntent",value:function(){var e=this.state,t=b(e._movement,2),n=t[0],r=t[1];if(!e.axis){var i=30*Math.abs(n)-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}},{key:"restrictToAxis",value:function(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||setTimeout((function(){t.canceled=!0,t._active=!1,e.compute(),e.emit()}),0)}},{key:"touchStart",value:function(e){this.ctrl.setEventIds(e);var t=this.state,n=this.ctrl.touchIds;if((!t._active||!t._touchIds.every((function(e){return n.has(e)})))&&!(n.size<2)){this.start(e),t._touchIds=Array.from(n).slice(0,2);var r=vi(e,t._touchIds);this.pinchStart(e,r)}}},{key:"pointerStart",value:function(e){if(null==e.buttons||e.buttons%2===1){this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);var t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if((!t._active||!Array.from(n.keys()).every((function(e){return r.has(e)})))&&(n.size<2&&n.set(e.pointerId,e),!(t._pointerEvents.size<2))){this.start(e);var i=hi.apply(void 0,(0,c.Z)(Array.from(n.values())));this.pinchStart(e,i)}}}},{key:"pinchStart",value:function(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}},{key:"touchMove",value:function(e){if(this.state._active){var t=vi(e,this.state._touchIds);this.pinchMove(e,t)}}},{key:"pointerMove",value:function(e){var t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),this.state._active){var n=hi.apply(void 0,(0,c.Z)(Array.from(t.values())));this.pinchMove(e,n)}}},{key:"pinchMove",value:function(e,t){var n=this.state,r=n._values[1],i=t.angle-r,o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*o]),n.origin=t.origin,n.turns=o,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}},{key:"touchEnd",value:function(e){var t=this;this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((function(e){return!t.ctrl.touchIds.has(e)}))&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"pointerEnd",value:function(e){var t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}},{key:"gestureStart",value:function(e){e.cancelable&&e.preventDefault();var t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}},{key:"gestureMove",value:function(e){if(e.cancelable&&e.preventDefault(),this.state._active){var t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];var n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=Gr(t._movement,n),this.compute(e),this.emit()}}},{key:"gestureEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"wheel",value:function(e){var t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function(e){this.start(e),this.wheelChange(e)}},{key:"wheelChange",value:function(e){"uv"in e||e.cancelable&&e.preventDefault();var t=this.state;t._delta=[-yi(e)[1]/100*t.offset[0],0],qr(t._movement,t._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))),e("wheel","",this.wheel.bind(this),{passive:!1})}}]),n}(Ci),Ni=ni(ni({},Ii),{},{device:function(e,t,n){var r=n.shared,i=n.pointer,o=(i=void 0===i?{}:i).touch,a=void 0!==o&&o;if(r.target&&!Ai.touch&&Ai.gesture)return"gesture";if(Ai.touch&&a)return"touch";if(Ai.touchscreen){if(Ai.pointer)return"pointer";if(Ai.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,o=n.angleBounds,a=void 0===o?{}:o,s=function(e){var t=Si(bi(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=Si(bi(a,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof a?[s(),u()]:function(e){return[s(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=Xr(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e}}),Fi=function(e){f(n,e);var t=g(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ei(d(e=t.call.apply(t,[this].concat(i))),"ingKey","moving"),e}return k(n,[{key:"move",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function(e){this.start(e),this.computeValues(mi(e)),this.compute(e),this.computeInitial(),this.emit()}},{key:"moveChange",value:function(e){if(this.state._active){var t=mi(e),n=this.state;n._delta=Gr(t,n._values),qr(n._movement,n._delta),this.computeValues(t),this.compute(e),this.emit()}}},{key:"moveEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"bind",value:function(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}]),n}(_i),zi=ni(ni({},Pi),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),Hi=function(e){f(n,e);var t=g(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ei(d(e=t.call.apply(t,[this].concat(i))),"ingKey","scrolling"),e}return k(n,[{key:"scroll",value:function(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function(e){e.cancelable&&e.preventDefault();var t=this.state,n=function(e){var t,n,r=e.currentTarget,i=r.scrollX,o=r.scrollY,a=r.scrollLeft,s=r.scrollTop;return[null!==(t=null!==i&&void 0!==i?i:a)&&void 0!==t?t:0,null!==(n=null!==o&&void 0!==o?o:s)&&void 0!==n?n:0]}(e);t._delta=Gr(n,t._values),qr(t._movement,t._delta),this.computeValues(n),this.compute(e),this.emit()}},{key:"scrollEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("scroll","",this.scroll.bind(this))}}]),n}(_i),Ui=Pi,Vi=function(e){f(n,e);var t=g(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ei(d(e=t.call.apply(t,[this].concat(i))),"ingKey","wheeling"),e}return k(n,[{key:"wheel",value:function(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function(e){var t=this.state;t._delta=yi(e),qr(t._movement,t._delta);var n=b(t.overflow,2),r=n[0],i=n[1],o=b(t._delta,2),a=o[0],s=o[1],u=b(t._direction,2),l=u[0],c=u[1];(r<0&&a>0&&l<0||r>0&&a<0&&l>0)&&(t._movement[0]=t._movementBound[0]),(i<0&&s>0&&c<0||i>0&&s<0&&c>0)&&(t._movement[1]=t._movementBound[1]),this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("wheel","",this.wheel.bind(this))}}]),n}(_i),Ki=Pi,Zi=function(e){f(n,e);var t=g(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ei(d(e=t.call.apply(t,[this].concat(i))),"ingKey","hovering"),e}return k(n,[{key:"enter",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(mi(e)),this.compute(e),this.emit())}},{key:"leave",value:function(e){if(!this.config.mouseOnly||"mouse"===e.pointerType){var t=this.state;if(t._active){t._active=!1;var n=mi(e);t._movement=t._delta=Gr(n,t._values),this.computeValues(n),this.compute(e),t.delta=t.movement,this.emit()}}}},{key:"bind",value:function(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}]),n}(_i),Wi=ni(ni({},Pi),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),Yi=new Map,Xi=new Map;function $i(e){Yi.set(e.key,e.engine),Xi.set(e.key,e.resolver)}var Gi={key:"drag",engine:Oi,resolver:Bi},qi={key:"hover",engine:Zi,resolver:Wi},Qi={key:"move",engine:Fi,resolver:zi},Ji={key:"pinch",engine:ji,resolver:Ni},eo={key:"scroll",engine:Hi,resolver:Ui},to={key:"wheel",engine:Vi,resolver:Ki};function no(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ro={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,i=void 0!==r&&r;return{passive:n,capture:i}},transform:function(e){return e}},io=["target","eventOptions","window","enabled","transform"];function oo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,i=Object.entries(t);r<i.length;r++){var o=b(i[r],2),a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=oo(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}var ao=function(){function e(t,n){S(this,e),ei(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}return k(e,[{key:"add",value:function(e,t,n,r,i){var o=this._listeners,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ri[e],r=n&&n[t]||t;return e+r}(t,n),s=ni(ni({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(a,r,s);var u=function t(){e.removeEventListener(a,r,s),o.delete(t)};return o.add(u),u}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners.clear()}}]),e}(),so=function(){function e(){S(this,e),ei(this,"_timeouts",new Map)}return k(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(o)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),uo=function(){function e(t){S(this,e),ei(this,"gestures",new Set),ei(this,"_targetEventStore",new ao(this)),ei(this,"gestureEventStores",{}),ei(this,"gestureTimeoutStores",{}),ei(this,"handlers",{}),ei(this,"config",{}),ei(this,"pointerIds",new Set),ei(this,"touchIds",new Set),ei(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&lo(e,"drag");t.wheel&&lo(e,"wheel");t.scroll&&lo(e,"scroll");t.move&&lo(e,"move");t.pinch&&lo(e,"pinch");t.hover&&lo(e,"hover")}(this,t)}return k(e,[{key:"setEventIds",value:function(e){return ci(e)?(this.touchIds=new Set(pi(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,i=r.target,o=r.eventOptions,a=r.window,s=r.enabled,u=r.transform,l=no(r,io);if(n.shared=oo({target:i,eventOptions:o,window:a,enabled:s,transform:u},ro),t){var c=Xi.get(t);n[t]=oo(ni({shared:n.shared},l),c)}else for(var d in l){var f=Xi.get(d);f&&(n[d]=oo(ni({shared:n.shared},l[d]),f))}return n}(e,t,this.config)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=C(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=this.config.shared,a={};if(!o.target||(i=o.target())){if(o.enabled){var s,u=C(this.gestures);try{for(u.s();!(s=u.n()).done;){var l=s.value,d=this.config[l],f=co(a,d.eventOptions,!!i);if(d.enabled){var h=Yi.get(l);new h(this,n,l).bind(f)}}}catch(_){u.e(_)}finally{u.f()}var p=co(a,o.eventOptions,!!i),v=function(t){p(t,"",(function(r){return e.nativeHandlers[t](ni(ni({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var g in this.nativeHandlers)v(g)}for(var m in a)a[m]=ki.apply(void 0,(0,c.Z)(a[m]));if(!i)return a;for(var y in a){var b=li(y),w=b.device,k=b.capture,S=b.passive;this._targetEventStore.add(i,w,"",a[y],{capture:k,passive:S})}}}}]),e}();function lo(e,t){e.gestures.add(t),e.gestureEventStores[t]=new ao(e,t),e.gestureTimeoutStores[t]=new so}var co=function(e,t,n){return function(r,i,o){var a,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(a=u.capture)&&void 0!==a?a:t.capture,d=null!==(s=u.passive)&&void 0!==s?s:t.passive,f=l?r:si(r,i,c);n&&d&&(f+="Passive"),e[f]=e[f]||[],e[f].push(o)}},fo=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function ho(e,t,n,r,i,o){if(e.has(n)&&Yi.has(r)){var a=n+"Start",s=n+"End";i[r]=function(e){var r=void 0;return e.first&&a in t&&t[a](e),n in t&&(r=t[n](e)),e.last&&s in t&&t[s](e),r},o[r]=o[r]||{}}}function po(e,t){var n=function(e){var t={},n={},r=new Set;for(var i in e)fo.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),r=b(n,3),i=r[0],o=r[1],a=r[2],s={};return ho(a,i,"onDrag","drag",s,t),ho(a,i,"onWheel","wheel",s,t),ho(a,i,"onScroll","scroll",s,t),ho(a,i,"onPinch","pinch",s,t),ho(a,i,"onMove","move",s,t),ho(a,i,"onHover","hover",s,t),{handlers:s,config:t,nativeHandlers:o}}function vo(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=e.useMemo((function(){return new uo(t)}),[]);if(o.applyHandlers(t,i),o.applyConfig(n,r),e.useEffect(o.effect.bind(o)),e.useEffect((function(){return o.clean.bind(o)}),[]),void 0===n.target)return o.bind.bind(o)}function go(e,t){var n=([Gi,Ji,eo,to,Qi,qi].forEach($i),function(e,t){var n=po(e,t||{}),r=n.handlers,i=n.nativeHandlers;return vo(r,n.config,void 0,i)});return n(e,t||{})}var mo=Object.defineProperty,yo=function(e,t,n){return function(e,t,n){t in e?mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},bo=function(){function e(){S(this,e)}return k(e,null,[{key:"clamp",value:function(e,t,n){return Math.max(t,"undefined"!=typeof n?Math.min(e,n):e)}},{key:"clampV",value:function(t,n,r){return t.map((function(t){return r?e.clamp(t,n,r):e.clamp(t,n)}))}},{key:"cross",value:function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}},{key:"snap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[Math.round(e[0]/t)*t,Math.round(e[1]/t)*t]}}]),e}(),wo=bo;yo(wo,"neg",(function(e){return[-e[0],-e[1]]})),yo(wo,"add",(function(e,t){return[e[0]+t[0],e[1]+t[1]]})),yo(wo,"addScalar",(function(e,t){return[e[0]+t,e[1]+t]})),yo(wo,"sub",(function(e,t){return[e[0]-t[0],e[1]-t[1]]})),yo(wo,"subScalar",(function(e,t){return[e[0]-t,e[1]-t]})),yo(wo,"vec",(function(e,t){return[t[0]-e[0],t[1]-e[1]]})),yo(wo,"mul",(function(e,t){return[e[0]*t,e[1]*t]})),yo(wo,"mulV",(function(e,t){return[e[0]*t[0],e[1]*t[1]]})),yo(wo,"div",(function(e,t){return[e[0]/t,e[1]/t]})),yo(wo,"divV",(function(e,t){return[e[0]/t[0],e[1]/t[1]]})),yo(wo,"per",(function(e){return[e[1],-e[0]]})),yo(wo,"dpr",(function(e,t){return e[0]*t[0]+e[1]*t[1]})),yo(wo,"cpr",(function(e,t){return e[0]*t[1]-t[0]*e[1]})),yo(wo,"len2",(function(e){return e[0]*e[0]+e[1]*e[1]})),yo(wo,"len",(function(e){return Math.hypot(e[0],e[1])})),yo(wo,"pry",(function(e,t){return bo.dpr(e,t)/bo.len(t)})),yo(wo,"uni",(function(e){return bo.div(e,bo.len(e))})),yo(wo,"normalize",(function(e){return bo.uni(e)})),yo(wo,"tangent",(function(e,t){return bo.uni(bo.sub(e,t))})),yo(wo,"dist2",(function(e,t){return bo.len2(bo.sub(e,t))})),yo(wo,"dist",(function(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])})),yo(wo,"fastDist",(function(e,t){var n=[t[0]-e[0],t[1]-e[1]],r=[Math.abs(n[0]),Math.abs(n[1])],i=1/Math.max(r[0],r[1]);return[n[0]*(i*=1.29289-(r[0]+r[1])*i*.29289),n[1]*i]})),yo(wo,"ang",(function(e,t){return Math.atan2(bo.cpr(e,t),bo.dpr(e,t))})),yo(wo,"angle",(function(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])})),yo(wo,"med",(function(e,t){return bo.mul(bo.add(e,t),.5)})),yo(wo,"rot",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)]})),yo(wo,"rotWith",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===n)return e;var r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*i-a*r,u=o*r+a*i;return[s+t[0],u+t[1]]})),yo(wo,"isEqual",(function(e,t){return e[0]===t[0]&&e[1]===t[1]})),yo(wo,"lrp",(function(e,t,n){return bo.add(e,bo.mul(bo.sub(t,e),n))})),yo(wo,"int",(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=(bo.clamp(n,r)-n)/(r-n);return bo.add(bo.mul(e,1-o),bo.mul(t,i))})),yo(wo,"ang3",(function(e,t,n){var r=bo.vec(t,e),i=bo.vec(t,n);return bo.ang(r,i)})),yo(wo,"abs",(function(e){return[Math.abs(e[0]),Math.abs(e[1])]})),yo(wo,"rescale",(function(e,t){var n=bo.len(e);return[t*e[0]/n,t*e[1]/n]})),yo(wo,"isLeft",(function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])})),yo(wo,"clockwise",(function(e,t,n){return bo.isLeft(e,t,n)>0})),yo(wo,"toFixed",(function(e){return e.map((function(e){return Math.round(100*e)/100}))})),yo(wo,"nearestPointOnLineThroughPoint",(function(e,t,n){return bo.add(e,bo.mul(t,bo.pry(bo.sub(n,e),t)))})),yo(wo,"distanceToLineThroughPoint",(function(e,t,n){return bo.dist(n,bo.nearestPointOnLineThroughPoint(e,t,n))})),yo(wo,"nearestPointOnLineSegment",(function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=bo.uni(bo.sub(t,e)),o=bo.add(e,bo.mul(i,bo.pry(bo.sub(n,e),i)));if(r){if(o[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(o[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(o[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(o[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return o})),yo(wo,"distanceToLineSegment",(function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return bo.dist(n,bo.nearestPointOnLineSegment(e,t,n,r))})),yo(wo,"nearestPointOnBounds",(function(e,t){return[bo.clamp(t[0],e.minX,e.maxX),bo.clamp(t[1],e.minY,e.maxY)]})),yo(wo,"distanceToBounds",(function(e,t){return bo.dist(t,bo.nearestPointOnBounds(e,t))})),yo(wo,"nudge",(function(e,t,n){return bo.isEqual(e,t)?e:bo.add(e,bo.mul(bo.uni(bo.sub(t,e)),n))})),yo(wo,"nudgeAtAngle",(function(e,t,n){return[Math.cos(t)*n+e[0],Math.sin(t)*n+e[1]]})),yo(wo,"toPrecision",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return[+e[0].toPrecision(t),+e[1].toPrecision(t)]})),yo(wo,"pointsBetween",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return Array.from(Array(n)).map((function(r,i){var o=i/(n-1),a=Math.min(1,.5+Math.abs(.5-o));return[].concat((0,c.Z)(bo.lrp(e,t,o)),[a])}))})),yo(wo,"slope",(function(e,t){return e[0]===t[0]?NaN:(e[1]-t[1])/(e[0]-t[0])})),yo(wo,"max",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[Math.max.apply(Math,(0,c.Z)(t.map((function(e){return e[0]})))),Math.max.apply(Math,(0,c.Z)(t.map((function(e){return e[1]}))))]})),yo(wo,"min",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[Math.min.apply(Math,(0,c.Z)(t.map((function(e){return e[0]})))),Math.min.apply(Math,(0,c.Z)(t.map((function(e){return e[1]}))))]}));var ko=wo,So=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Co="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,_o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Eo="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(_o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var xo=["top","right","bottom","left","width","height","size","weight"],Io="undefined"!==typeof MutationObserver,Po=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Eo(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Co&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Io?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Co&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;xo.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Mo=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},To=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||_o},Oo=jo(0,0,0,0);function Ro(e){return parseFloat(e)||0}function Do(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ro(e["border-"+n+"-width"])}),0)}function Ao(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Oo;var r=To(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Ro(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Ro(r.width),u=Ro(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Do(r,"left","right")+o),Math.round(u+a)!==n&&(u-=Do(r,"top","bottom")+a)),!function(e){return e===To(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return jo(i.left,i.top,s,u)}var Lo="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof To(e).SVGGraphicsElement}:function(e){return e instanceof To(e).SVGElement&&"function"===typeof e.getBBox};function Bo(e){return Co?Lo(e)?function(e){var t=e.getBBox();return jo(0,0,t.width,t.height)}(e):Ao(e):Oo}function jo(e,t,n,r){return{x:e,y:t,width:n,height:r}}var No=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=jo(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Bo(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Fo=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Mo(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);Mo(this,{target:e,contentRect:n})},zo=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new So,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof To(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new No(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof To(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Fo(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ho="undefined"!==typeof WeakMap?new WeakMap:new So,Uo=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Po.getInstance(),r=new zo(t,n,this);Ho.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Uo.prototype[e]=function(){var t;return(t=Ho.get(this))[e].apply(t,arguments)}}));var Vo,Ko,Zo,Wo="undefined"!==typeof _o.ResizeObserver?_o.ResizeObserver:Uo,Yo=Object.defineProperty,Xo=Object.defineProperties,$o=Object.getOwnPropertyDescriptors,Go=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Qo=Object.prototype.propertyIsEnumerable,Jo=function(e,t,n){return t in e?Yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ea=function(e,t){for(var n in t||(t={}))qo.call(t,n)&&Jo(e,n,t[n]);if(Go){var r,i=C(Go(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Qo.call(t,n)&&Jo(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},ta=function(e,t){return Xo(e,$o(t))};function na(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{didIntersect:n.length>0,message:e,points:n}}function ra(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[e[0]+t[0]/2,e[1]+t[1]/2],i=wo.rotWith(e,r,n),o=wo.rotWith(wo.add(e,[t[0],0]),r,n),a=wo.rotWith(wo.add(e,t),r,n),s=wo.rotWith(wo.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,s]],["left",[s,i]]]}function ia(e,t,n,r){var i=b(e,2),o=i[0],a=i[1],s=b(t,2),u=s[0],l=s[1],c=b(n,2),d=c[0],f=c[1],h=b(r,2),p=h[0],v=h[1];if(l/u!==(v-f)/(p-d)){var g=u*(v-f)-l*(p-d);if(0!==g){var m=((a-f)*(p-d)-(o-d)*(v-f))/g,y=((a-f)*u-(o-d)*l)/g;if(m>=0&&y>=0&&y<=1)return na("intersection",[o+m*u,a+m*l])}}return na("no intersection")}function oa(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return pa(n,r,i,e,t)}function aa(e,t,n,r,i,o){return da(e,wo.mul(t,999999999),n,r,i,o)}function sa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.minX,o=n.minY,a=n.width,s=n.height;return oa(e,t,[i,o],[a,s],r)}function ua(e,t,n,r){var i=wo.sub(e,n),o=wo.sub(r,n),a=wo.sub(t,e),s=o[0]*i[1]-o[1]*i[0],u=a[0]*i[1]-a[1]*i[0],l=o[1]*a[0]-o[0]*a[1];if(0===s||0===u)return na("coincident");if(0===l)return na("parallel");if(0!==l){var c=s/l,d=u/l;if(0<=c&&c<=1&&0<=d&&d<=1)return na("intersection",wo.add(e,wo.mul(a,c)))}return na("no intersection")}function la(e,t,n,r,i,o){var a=wo.angle(n,i),s=wo.angle(n,o),u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return t===n?ca(i,o,e,t):da(i,o,e,t,n,r)}(n,r,r,0,e,t);if(!u.didIntersect)return na("no intersection");var l=u.points.filter((function(e){return function(e,t,n){if(n===e||n===t)return!0;var r=2*Math.PI,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!=o>i}(a,s,wo.angle(n,e))}));return 0===l.length?na("no intersection"):na.apply(void 0,["intersection"].concat((0,c.Z)(l)))}function ca(e,t,n,r){var i=(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]),o=2*((t[0]-e[0])*(e[0]-n[0])+(t[1]-e[1])*(e[1]-n[1])),a=o*o-4*i*(n[0]*n[0]+n[1]*n[1]+e[0]*e[0]+e[1]*e[1]-2*(n[0]*e[0]+n[1]*e[1])-r*r);if(a<0)return na("outside");if(0===a)return na("tangent");var s=Math.sqrt(a),u=(-o+s)/(2*i),l=(-o-s)/(2*i);if((u<0||u>1)&&(l<0||l>1))return na(u<0&&l<0||u>1&&l>1?"outside":"inside");var c=[];return 0<=u&&u<=1&&c.push(wo.lrp(e,t,u)),0<=l&&l<=1&&c.push(wo.lrp(e,t,l)),na.apply(void 0,["intersection"].concat(c))}function da(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(0===r||0===i||wo.isEqual(e,t))return na("no intersection");r=r<0?r:-r,i=i<0?i:-i,e=wo.sub(wo.rotWith(e,n,-o),n),t=wo.sub(wo.rotWith(t,n,-o),n);var a=wo.sub(t,e),s=a[0]*a[0]/r/r+a[1]*a[1]/i/i,u=2*e[0]*a[0]/r/r+2*e[1]*a[1]/i/i,l=e[0]*e[0]/r/r+e[1]*e[1]/i/i-1,d=[],f=u*u-4*s*l;if(0===f)d.push(-u/2/s);else if(f>0){var h=Math.sqrt(f);d.push((-u+h)/2/s),d.push((-u-h)/2/s)}var p=d.filter((function(e){return e>=0&&e<=1})).map((function(r){return wo.add(n,wo.add(e,wo.mul(wo.sub(t,e),r)))})).map((function(e){return wo.rotWith(e,n,o)}));return na.apply(void 0,["intersection"].concat((0,c.Z)(p)))}function fa(e,t,n){return function(e,t,n){var r=e.minX,i=e.minY,o=e.width,a=e.height;return function(e,t,n,r){return va(n,r,e,t)}(t,n,[r,i],[o,a])}(n,e,t)}function ha(e,t,n){for(var r=[],i=1;i<n.length;i++){var o=ua(e,t,n[i-1],n[i]);o&&r.push.apply(r,(0,c.Z)(o.points))}return 0===r.length?na("no intersection"):na.apply(void 0,["intersection"].concat((0,c.Z)(n)))}function pa(e,t,n,r,i){return ra(e,t,n).reduce((function(e,t){var n=b(t,2),o=n[0],a=b(n[1],2),s=a[0],u=a[1],l=ia(r,i,s,u);return l&&e.push(na.apply(void 0,[o].concat((0,c.Z)(l.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function va(e,t,n,r){return ra(e,t).reduce((function(e,t){var i=b(t,2),o=i[0],a=b(i[1],2),s=a[0],u=a[1],l=ua(n,r,s,u);return l&&e.push(na.apply(void 0,[o].concat((0,c.Z)(l.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function ga(e,t,n,r){return ra(e,t).reduce((function(e,t){var i=b(t,2),o=i[0],a=b(i[1],2),s=a[0],u=a[1],l=va(n,r,s,u);return e.push.apply(e,(0,c.Z)(l.map((function(e){return na.apply(void 0,["".concat(o," ").concat(e.message)].concat((0,c.Z)(e.points)))})))),e}),[]).filter((function(e){return e.didIntersect}))}function ma(e,t,n,r,i,o){return ra(e,t).reduce((function(e,t){var a=b(t,2),s=a[0],u=b(a[1],2),l=u[0],c=u[1],d=function(e,t,n,r,i,o){return la(i,o,e,t,n,r)}(n,r,i,o,l,c);return d&&e.push(ta(ea({},d),{message:s})),e}),[]).filter((function(e){return e.didIntersect}))}function ya(e,t,n,r){return ra(e,t).reduce((function(e,t){var i=b(t,2),o=i[0],a=b(i[1],2),s=ca(a[0],a[1],n,r);return s&&e.push(ta(ea({},s),{message:o})),e}),[]).filter((function(e){return e.didIntersect}))}function ba(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return ra(e,t).reduce((function(e,t){var a=b(t,2),s=a[0],u=b(a[1],2),l=da(u[0],u[1],n,r,i,o);return l&&e.push(ta(ea({},l),{message:s})),e}),[]).filter((function(e){return e.didIntersect}))}function wa(e,t,n){return ra(e,t).reduce((function(e,t){var r=b(t,2),i=r[0],o=b(r[1],2),a=ha(o[0],o[1],n);return a.didIntersect&&e.push(na.apply(void 0,[i].concat((0,c.Z)(a.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function ka(e,t,n){return ra(e,t).reduce((function(e,t){var r=b(t,2),i=r[0],o=b(r[1],2),a=function(e,t,n){for(var r=[],i=1;i<n.length+1;i++){var o=ua(e,t,n[i-1],n[i%n.length]);o&&r.push.apply(r,(0,c.Z)(o.points))}return 0===r.length?na("no intersection"):na.apply(void 0,["intersection"].concat((0,c.Z)(n)))}(o[0],o[1],n);return a.didIntersect&&e.push(na.apply(void 0,[i].concat((0,c.Z)(a.points)))),e}),[]).filter((function(e){return e.didIntersect}))}function Sa(e,t,n,r,i,o){return ma(i,o,e,t,n,r)}function Ca(e,t,n,r,i){return Sa(e,t,n,r,[i.minX,i.minY],[i.width,i.height])}function _a(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return t===n?ya(i,o,e,t):ba(i,o,e,t,n,r)}function Ea(e,t,n,r,i){return _a(e,t,n,r,[i.minX,i.minY],[i.width,i.height])}function xa(e,t){return ga([e.minX,e.minY],[e.width,e.height],[t.minX,t.minY],[t.width,t.height])}function Ia(e,t){return function(e,t){return wa([t.minX,t.minY],[t.width,t.height],e)}(t,e)}function Pa(e,t){return Ma(t,e)}function Ma(e,t){return ka([t.minX,t.minY],[t.width,t.height],e)}var Ta=Object.defineProperty,Oa=Object.defineProperties,Ra=Object.getOwnPropertyDescriptors,Da=Object.getOwnPropertySymbols,Aa=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,Ba=function(e,t,n){return t in e?Ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ja=function(e,t){for(var n in t||(t={}))Aa.call(t,n)&&Ba(e,n,t[n]);if(Da){var r,i=C(Da(t));try{for(i.s();!(r=i.n()).done;){n=r.value;La.call(t,n)&&Ba(e,n,t[n])}}catch(o){i.e(o)}finally{i.f()}}return e},Na=function(e,t){return Oa(e,Ra(t))},Fa=function(e,t){var n={};for(var r in e)Aa.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Da){var i,o=C(Da(e));try{for(o.s();!(i=o.n()).done;){r=i.value;t.indexOf(r)<0&&La.call(e,r)&&(n[r]=e[r])}}catch(a){o.e(a)}finally{o.f()}}return n},za=function(e,t,n){return Ba(e,"symbol"!==typeof t?t+"":t,n),n},Ha=e.createContext({});function Ua(){return e.useContext(Ha)}function Va(t,n){var r=e.useRef(void 0),i=e.useRef(void 0),o=e.useRef([0,0]),a=Ua(),s=a.inputs,u=a.bounds,l=a.callbacks;e.useEffect((function(){var e=function(e){return e.preventDefault()};return document.addEventListener("gesturestart",e),document.addEventListener("gesturechange",e),function(){document.removeEventListener("gesturestart",e),document.removeEventListener("gesturechange",e)}}),[]);var d=e.useCallback((function(e){var t,n,r,i,o=e.event;if(o.preventDefault(),!s.isPinching){var a=function(e){var t=0,n=0,r=0,i=0;"detail"in e&&(n=e.detail);"wheelDelta"in e&&(n=-e.wheelDelta/120);"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120);"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120);"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0);r="deltaX"in e?e.deltaX:10*t,i="deltaY"in e?e.deltaY:10*n,(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=40,i*=40):(r*=Ka,i*=Ka));r&&!t&&(t=r<1?-1:1);i&&!n&&(n=i<1?-1:1);return{spin:[t,n],offset:[r,i]}}(o).offset;if((o.altKey||o.ctrlKey||o.metaKey)&&0===o.buttons){var d=null!=(n=null==(t=s.pointer)?void 0:t.point)?n:[u.width/2,u.height/2],f=[].concat((0,c.Z)(d),[a[1]]),h=s.pan(f,o);null==(r=l.onZoom)||r.call(l,Na(ja({},h),{delta:f}),o)}else{var p=wo.mul(o.shiftKey?[a[1],0]:(0,c.Z)(a),.5);if(!wo.isEqual(p,[0,0])){var v=s.pan(p,o);null==(i=l.onPan)||i.call(l,v,o)}}}}),[l,s,u]),f=e.useCallback((function(e){var t,a=e.origin,u=e.event;if(!(u instanceof WheelEvent)){var c=n.current;if(c&&(u.target===c||c.contains(u.target))){var d=s.pinch(a,a);s.isPinching=!0,null==(t=l.onPinchStart)||t.call(l,d,u),i.current=d.point,r.current=d.origin,o.current=[0,0]}}}),[l,s,u]),h=e.useCallback((function(e){var t,a=e.origin,u=e.offset,d=e.event;if(!(d instanceof WheelEvent)){var f=n.current;if((d.target===f||(null==f?void 0:f.contains(d.target)))&&r.current){var h=s.pinch(a,r.current),p=wo.sub(h.delta,o.current);o.current=h.delta,null==(t=l.onPinch)||t.call(l,Na(ja({},h),{point:h.point,origin:r.current,delta:[].concat((0,c.Z)(p),[u[0]])}),d),i.current=a}}}),[l,s,u]),p=e.useCallback((function(e){var t,a=e.origin,u=e.event,c=n.current;if(u.target===c||(null==c?void 0:c.contains(u.target))){var d=s.pinch(a,a);s.isPinching=!1,null==(t=l.onPinchEnd)||t.call(l,d,u),i.current=void 0,r.current=void 0,o.current=[0,0]}}),[]);go({onWheel:d,onPinchStart:f,onPinch:h,onPinchEnd:p},{target:n,eventOptions:{passive:!1},pinch:{from:t,scaleBounds:function(){return{from:s.zoom,max:5,min:.1}}}})}var Ka=800;var Za=function(e){return e.TopLeft="top_left_corner",e.TopRight="top_right_corner",e.BottomRight="bottom_right_corner",e.BottomLeft="bottom_left_corner",e}(Za||{});String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var Wa=2*Math.PI,Ya=function(){function e(){S(this,e)}return k(e,null,[{key:"lerp",value:function(t,n,r){return t*(1-(r=e.clamp(r,0,1)))+n*r}},{key:"lerpColor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;function r(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}function i(e){return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)}for(var o=r(e)||[0,0,0],a=r(t)||[0,0,0],s=o.slice(),u=0;u<3;u++)s[u]=Math.round(s[u]+n*(a[u]-o[u]));return i(s)}},{key:"modulate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=b(t,2),o=i[0],a=i[1],s=b(n,2),u=s[0],l=s[1],c=u+(e-o)/(a-o)*(l-u);return r?u<l?Math.max(Math.min(c,l),u):Math.max(Math.min(c,u),l):c}},{key:"clamp",value:function(e,t,n){return Math.max(t,"undefined"!==typeof n?Math.min(e,n):e)}},{key:"deepClone",value:function(t){if(null===t)return t;if(Array.isArray(t))return(0,c.Z)(t);if("object"===typeof t){var n=ja({},t);return Object.keys(n).forEach((function(r){return n[r]="object"===typeof t[r]?e.deepClone(t[r]):t[r]})),n}return t}},{key:"rng",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0,n=0,r=0,i=0;function o(){var e=t^t<<11;return t=n,n=r,r=i,(i^=(i>>>19^e^e>>>8)>>>0)/4294967296}for(var a=0;a<e.length+64;a++)t^=0|e.charCodeAt(a),o();return o}},{key:"pointsToLineSegments",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=1;r<e.length;r++)n.push([e[r-1],e[r]]);return t&&n.push([e[e.length-1],e[0]]),n}},{key:"getRectangleSides",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[e[0]+t[0]/2,e[1]+t[1]/2],i=wo.rotWith(e,r,n),o=wo.rotWith(wo.add(e,[t[0],0]),r,n),a=wo.rotWith(wo.add(e,t),r,n),s=wo.rotWith(wo.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,s]],["left",[s,i]]]}},{key:"circleFromThreePoints",value:function(e,t,n){var r=b(e,2),i=r[0],o=r[1],a=b(t,2),s=a[0],u=a[1],l=b(n,2),c=l[0],d=l[1],f=i*(u-d)-o*(s-c)+s*d-c*u,h=-((i*i+o*o)*(d-u)+(s*s+u*u)*(o-d)+(c*c+d*d)*(u-o))/(2*f),p=-((i*i+o*o)*(s-c)+(s*s+u*u)*(c-i)+(c*c+d*d)*(i-s))/(2*f);return[h,p,Math.hypot(h-i,p-o)]}},{key:"perimeterOfEllipse",value:function(e,t){var n=Math.pow(e-t,2)/Math.pow(e+t,2);return Math.PI*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))}},{key:"shortAngleDist",value:function(e,t){var n=2*Math.PI,r=(t-e)%n;return 2*r%n-r}},{key:"longAngleDist",value:function(t,n){return 2*Math.PI-e.shortAngleDist(t,n)}},{key:"lerpAngles",value:function(t,n,r){return t+e.shortAngleDist(t,n)*r}},{key:"angleDelta",value:function(t,n){return e.shortAngleDist(t,n)}},{key:"getSweep",value:function(t,n,r){return e.angleDelta(wo.angle(t,n),wo.angle(t,r))}},{key:"clampRadians",value:function(e){return(2*Math.PI+e)%(2*Math.PI)}},{key:"snapAngleToSegments",value:function(t,n){var r=2*Math.PI/n;return Math.floor((e.clampRadians(t)+r/2)/r)*r}},{key:"isAngleBetween",value:function(e,t,n){if(n===e||n===t)return!0;var r=(t-e+Wa)%Wa,i=(n-e+Wa)%Wa;return r<=Math.PI!==i>r}},{key:"degreesToRadians",value:function(e){return e*Math.PI/180}},{key:"radiansToDegrees",value:function(e){return 180*e/Math.PI}},{key:"getArcLength",value:function(t,n,r,i){var o=e.getSweep(t,r,i);return n*(2*Math.PI)*(o/(2*Math.PI))}},{key:"getSweepFlag",value:function(e,t,n){var r=wo.angle(e,n);return(wo.angle(e,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI>0?0:1}},{key:"getLargeArcFlag",value:function(e,t,n){var r=wo.angle(n,e),i=(wo.angle(n,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI;return Math.abs(i)>Math.PI/2?0:1}},{key:"getArcDashOffset",value:function(t,n,r,i,o){var a=e.getSweepFlag(t,r,i),s=e.getArcLength(t,n,r,i);return-(a<0?s:2*Math.PI*t[2]-s)/2+o}},{key:"getEllipseDashOffset",value:function(e,t){return-(2*Math.PI*e[2])/2-t}},{key:"pointInCircle",value:function(e,t,n){return wo.dist(e,t)<=n}},{key:"pointInEllipse",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;i=i||0;var o=Math.cos(i),a=Math.sin(i),s=wo.sub(e,t),u=o*s[0]+a*s[1],l=a*s[0]-o*s[1];return u*u/(n*n)+l*l/(r*r)<=1}},{key:"pointInRect",value:function(e,t){return!(e[0]<t[0]||e[0]>e[0]+t[0]||e[1]<t[1]||e[1]>e[1]+t[1])}},{key:"pointInPolygon",value:function(e,t){var n=0;return t.forEach((function(r,i){var o=t[(i+1)%t.length];r[1]<=e[1]?o[1]>e[1]&&wo.cross(r,o,e)>0&&(n+=1):o[1]<=e[1]&&wo.cross(r,o,e)<0&&(n-=1)})),0!==n}},{key:"pointInBounds",value:function(e,t){return!(e[0]<t.minX||e[0]>t.maxX||e[1]<t.minY||e[1]>t.maxY)}},{key:"pointInPolyline",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=1;r<t.length;r++)if(wo.distanceToLineSegment(t[r-1],t[r],e)<n)return!0;return!1}},{key:"getBoundsSides",value:function(e){return this.getRectangleSides([e.minX,e.minY],[e.width,e.height])}},{key:"expandBounds",value:function(e,t){return{minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,width:e.width+2*t,height:e.height+2*t}}},{key:"boundsCollide",value:function(e,t){return!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY)}},{key:"boundsContain",value:function(e,t){return e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX}},{key:"boundsContained",value:function(t,n){return e.boundsContain(n,t)}},{key:"boundsAreEqual",value:function(e,t){return!(t.maxX!==e.maxX||t.minX!==e.minX||t.maxY!==e.maxY||t.minY!==e.minY)}},{key:"getBoundsFromPoints",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=1/0,i=1/0,o=-1/0,a=-1/0;if(t.length<2)r=0,i=0,o=1,a=1;else{var s,u=C(t);try{for(u.s();!(s=u.n()).done;){var l=b(s.value,2),c=l[0],d=l[1];r=Math.min(c,r),i=Math.min(d,i),o=Math.max(c,o),a=Math.max(d,a)}}catch(f){u.e(f)}finally{u.f()}}return 0!==n?e.getBoundsFromPoints(t.map((function(e){return wo.rotWith(e,[(r+o)/2,(i+a)/2],n)}))):{minX:r,minY:i,maxX:o,maxY:a,width:Math.max(1,o-r),height:Math.max(1,a-i)}}},{key:"centerBounds",value:function(e,t){var n=this.getBoundsCenter(e),r=t[0]-n[0],i=t[1]-n[1];return this.translateBounds(e,[r,i])}},{key:"snapBoundsToGrid",value:function(e,t){var n=Math.round(e.minX/t)*t,r=Math.round(e.minY/t)*t,i=Math.round(e.maxX/t)*t,o=Math.round(e.maxY/t)*t;return{minX:n,minY:r,maxX:i,maxY:o,width:Math.max(1,i-n),height:Math.max(1,o-r)}}},{key:"translateBounds",value:function(e,t){return{minX:e.minX+t[0],minY:e.minY+t[1],maxX:e.maxX+t[0],maxY:e.maxY+t[1],width:e.width,height:e.height}}},{key:"rotateBounds",value:function(e,t,n){var r=b(wo.rotWith([e.minX,e.minY],t,n),2),i=r[0],o=r[1],a=b(wo.rotWith([e.maxX,e.maxY],t,n),2);return{minX:i,minY:o,maxX:a[0],maxY:a[1],width:e.width,height:e.height}}},{key:"getRotatedEllipseBounds",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=Math.cos(i),a=Math.sin(i),s=Math.hypot(n*o,r*a),u=Math.hypot(n*a,r*o);return{minX:e+n-s,minY:t+r-u,maxX:e+n+s,maxY:t+r+u,width:2*s,height:2*u}}},{key:"getExpandedBounds",value:function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{minX:n,minY:r,maxX:i,maxY:o,width:Math.abs(i-n),height:Math.abs(o-r)}}},{key:"getCommonBounds",value:function(t){if(t.length<2)return t[0];for(var n=t[0],r=1;r<t.length;r++)n=e.getExpandedBounds(n,t[r]);return n}},{key:"getRotatedCorners",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[e.minX+e.width/2,e.minY+e.height/2];return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]].map((function(e){return wo.rotWith(e,n,t)}))}},{key:"getTransformedBoundingBox",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[e.minX,e.minY],a=o[0],s=o[1],u=[e.maxX,e.maxY],l=u[0],c=u[1],d=[e.minX,e.minY],f=d[0],h=d[1],p=[e.maxX,e.maxY],v=p[0],g=p[1];if("center"===t)return{minX:f+n[0],minY:h+n[1],maxX:v+n[0],maxY:g+n[1],width:v-f,height:g-h,scaleX:1,scaleY:1};var m=wo.rot(n,-r),y=b(m,2),w=y[0],k=y[1];switch(t){case"top_edge":case"top_left_corner":case"top_right_corner":h+=k;break;case"bottom_edge":case"bottom_left_corner":case"bottom_right_corner":g+=k}switch(t){case"left_edge":case"top_left_corner":case"bottom_left_corner":f+=w;break;case"right_edge":case"top_right_corner":case"bottom_right_corner":v+=w}var S=l-a,C=c-s,_=(v-f)/S,E=(g-h)/C,x=_<0,I=E<0,P=Math.abs(v-f),M=Math.abs(g-h);if(i){var T=S/C,O=T<P/M,R=P*(E<0?1:-1)*(1/T),D=M*(_<0?1:-1)*T;switch(t){case"top_left_corner":O?h=g+R:f=v+D;break;case"top_right_corner":O?h=g+R:v=f-D;break;case"bottom_right_corner":O?g=h-R:v=f-D;break;case"bottom_left_corner":O?g=h-R:f=v+D;break;case"bottom_edge":case"top_edge":var A=(f+v)/2,L=M*T;f=A-L/2,v=A+L/2;break;case"left_edge":case"right_edge":var B=(h+g)/2,j=P/T;h=B-j/2,g=B+j/2}}if(r%(2*Math.PI)!==0){var N=[0,0],F=wo.med([a,s],[l,c]),z=wo.med([f,h],[v,g]);switch(t){case"top_left_corner":N=wo.sub(wo.rotWith([v,g],z,r),wo.rotWith([l,c],F,r));break;case"top_right_corner":N=wo.sub(wo.rotWith([f,g],z,r),wo.rotWith([a,c],F,r));break;case"bottom_right_corner":N=wo.sub(wo.rotWith([f,h],z,r),wo.rotWith([a,s],F,r));break;case"bottom_left_corner":N=wo.sub(wo.rotWith([v,h],z,r),wo.rotWith([l,s],F,r));break;case"top_edge":N=wo.sub(wo.rotWith(wo.med([f,g],[v,g]),z,r),wo.rotWith(wo.med([a,c],[l,c]),F,r));break;case"left_edge":N=wo.sub(wo.rotWith(wo.med([v,h],[v,g]),z,r),wo.rotWith(wo.med([l,s],[l,c]),F,r));break;case"bottom_edge":N=wo.sub(wo.rotWith(wo.med([f,h],[v,h]),z,r),wo.rotWith(wo.med([a,s],[l,s]),F,r));break;case"right_edge":N=wo.sub(wo.rotWith(wo.med([f,h],[f,g]),z,r),wo.rotWith(wo.med([a,s],[a,c]),F,r))}var H=wo.sub([f,h],N),U=b(H,2);f=U[0],h=U[1];var V=wo.sub([v,g],N),K=b(V,2);v=K[0],g=K[1]}if(v<f){var Z=[f,v];v=Z[0],f=Z[1]}if(g<h){var W=[h,g];g=W[0],h=W[1]}return{minX:f,minY:h,maxX:v,maxY:g,width:v-f,height:g-h,scaleX:(v-f)/(l-a||1)*(x?-1:1),scaleY:(g-h)/(c-s||1)*(I?-1:1)}}},{key:"getTransformAnchor",value:function(e,t,n){var r=e;switch(e){case"top_left_corner":r=t&&n?"bottom_right_corner":t?"top_right_corner":n?"bottom_left_corner":"bottom_right_corner";break;case"top_right_corner":r=t&&n?"bottom_left_corner":t?"top_left_corner":n?"bottom_right_corner":"bottom_left_corner";break;case"bottom_right_corner":r=t&&n?"top_left_corner":t?"bottom_left_corner":n?"top_right_corner":"top_left_corner";break;case"bottom_left_corner":r=t&&n?"top_right_corner":t?"bottom_right_corner":n?"top_left_corner":"top_right_corner"}return r}},{key:"getRelativeTransformedBoundingBox",value:function(e,t,n,r,i){var o=(r?t.maxX-n.maxX:n.minX-t.minX)/t.width,a=(i?t.maxY-n.maxY:n.minY-t.minY)/t.height,s=n.width/t.width,u=n.height/t.height,l=e.minX+e.width*o,c=e.minY+e.height*a,d=e.width*s,f=e.height*u;return{minX:l,minY:c,maxX:l+d,maxY:c+f,width:d,height:f}}},{key:"getRotatedSize",value:function(t,n){var r=wo.div(t,2),i=[[0,0],[t[0],0],t,[0,t[1]]].map((function(e){return wo.rotWith(e,r,n)})),o=e.getBoundsFromPoints(i);return[o.width,o.height]}},{key:"getBoundsCenter",value:function(e){return[e.minX+e.width/2,e.minY+e.height/2]}},{key:"getBoundsWithCenter",value:function(t){var n=e.getBoundsCenter(t);return Na(ja({},t),{midX:n[0],midY:n[1]})}},{key:"getCommonTopLeft",value:function(e){var t=[1/0,1/0];return e.forEach((function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1])})),t}},{key:"getFromCache",value:function(e,t,n){var r=e.get(t);if(void 0===r&&(e.set(t,n()),void 0===(r=e.get(t))))throw Error("Cache did not include item!");return r}},{key:"uniqueId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?((Number(t)^16*Math.random())>>Number(t)/4).toString(16):"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,e.uniqueId)}},{key:"rotateArray",value:function(e,t){return e.map((function(n,r){return e[(r+t)%e.length]}))}},{key:"debounce",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){return e.apply(i)}),n)}}},{key:"getSvgPathFromStroke",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.length)return"";var n=e.length-1;return e.reduce((function(e,r,i,o){return i===n?t&&e.push("Z"):e.push(r,wo.med(r,o[i+1])),e}),["M",e[0],"Q"]).join(" ").replaceAll(this.TRIM_NUMBERS,"$1")}},{key:"getPerfectDashProps",value:function(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;if("dashed"===n.toLowerCase())r=t*u,o=1,i=s?(r/2).toString():"0";else{if("dotted"!==n.toLowerCase())return{strokeDasharray:"none",strokeDashoffset:"none"};r=t/100,o=100,i="0"}var l=Math.floor(e/r/(2*o));l-=l%a,l=Math.max(l,4);var c=Math.max(r,(e-l*r)/(s?l:l-1));return{strokeDasharray:[r,c].join(" "),strokeDashoffset:i}}},{key:"isMobileSize",value:function(){return"undefined"!==typeof window&&window.innerWidth<768}},{key:"isMobileSafari",value:function(){if("undefined"===typeof window)return!1;var e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);return t&&n&&!e.match(/CriOS/i)}},{key:"throttle",value:function(e,t){var n,r;return function(){return n||(n=!0,setTimeout((function(){return n=!1}),t),r=e.apply(void 0,arguments)),r}}},{key:"isDarwin",value:function(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}},{key:"metaKey",value:function(t){return e.isDarwin()?t.metaKey:t.ctrlKey}}]),e}(),Xa=Ya;za(Xa,"getSnapPoints",(function(e,t,n){var r,o=ja({},e),a=[0,0],s=[],u=(i(r={},"minX",{id:"minX",isSnapped:!1}),i(r,"midX",{id:"midX",isSnapped:!1}),i(r,"maxX",{id:"maxX",isSnapped:!1}),i(r,"minY",{id:"minY",isSnapped:!1}),i(r,"midY",{id:"midY",isSnapped:!1}),i(r,"maxY",{id:"maxY",isSnapped:!1}),r),l=["midX","minX","maxX"],c=["midY","minY","maxY"],d=t.map((function(e){var t=l.flatMap((function(t,n){return l.map((function(r,i){var a=o[t]-e[r],s=Math.abs(a);return{f:t,t:r,gap:a,distance:s,isCareful:0===n||n+i===3}}))})),n=c.flatMap((function(t,n){return c.map((function(r,i){var a=o[t]-e[r],s=Math.abs(a);return{f:t,t:r,gap:a,distance:s,isCareful:0===n||n+i===3}}))}));return[e,t,n]})),f=1/0,h=1/0,p=1/0,v=1/0;return d.forEach((function(e){var t=b(e,3),r=(t[0],t[1]),i=t[2];r.forEach((function(e){e.distance<n&&e.distance<p&&(p=e.distance,f=e.gap)})),i.forEach((function(e){e.distance<n&&e.distance<v&&(v=e.distance,h=e.gap)}))})),d.forEach((function(e){var t=b(e,3),n=t[0],r=t[1],i=t[2];f!==1/0&&r.forEach((function(e){Math.abs(e.gap-f)<2&&(u[e.f]=Na(ja({},u[e.f]),{isSnapped:!0,to:n[e.t],B:n,distance:e.distance}))})),h!==1/0&&i.forEach((function(e){Math.abs(e.gap-h)<2&&(u[e.f]=Na(ja({},u[e.f]),{isSnapped:!0,to:n[e.t],B:n,distance:e.distance}))}))})),a[0]=f===1/0?0:f,a[1]=h===1/0?0:h,o.minX-=a[0],o.midX-=a[0],o.maxX-=a[0],o.minY-=a[1],o.midY-=a[1],o.maxY-=a[1],l.forEach((function(e){var t=u[e];if(t.isSnapped){var n=t.id,r=t.B,i=o[n];s.push("minX"===n?[[i,o.midY],[i,r.minY],[i,r.maxY]]:[[i,o.minY],[i,o.maxY],[i,r.minY],[i,r.maxY]])}})),c.forEach((function(e){var t=u[e];if(t.isSnapped){var n=t.id,r=t.B,i=o[n];s.push("midY"===n?[[o.midX,i],[r.minX,i],[r.maxX,i]]:[[o.minX,i],[o.maxX,i],[r.minX,i],[r.maxX,i]])}})),{offset:a,snapLines:s}})),za(Xa,"deepMerge",(function(e,t){for(var n=ja({},e),r=0,i=Object.entries(t);r<i.length;r++){var o=b(i[r],2),a=o[0],s=o[1];n[a]=s!==Object(s)||Array.isArray(s)?s:Ya.deepMerge(n[a],s)}return n})),za(Xa,"TRIM_NUMBERS",/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g);var $a=Xa;function Ga(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u={shape:e,asset:e.assetId?i[e.assetId]:void 0,meta:s,isChildOfSelected:a,isGhost:e.isGhost||o,isEditing:r.editingId===e.id,isBinding:r.bindingTargetId===e.id,isSelected:r.selectedIds.includes(e.id),isHovered:r.hoveredId===e.id||void 0!==e.children&&(r.hoveredId&&e.children.includes(r.hoveredId)||e.children.some((function(e){return r.selectedIds.includes(e)})))};t.push(u),e.children&&(u.children=[],e.children.map((function(e){return n[e]})).filter(Boolean).sort((function(e,t){return e.childIndex-t.childIndex})).forEach((function(e){return Ga(e,u.children,n,r,i,u.isGhost,u.isSelected||u.isChildOfSelected,s)})))}function qa(t,n,r,i){var o=Ua(),a=o.callbacks,s=o.shapeUtils,u=o.bounds,l=e.useRef(),c=e.useRef(-1),d=e.useRef(new Set),f=e.useRef(new Set),h=n.selectedIds,p=n.camera,v=b(wo.sub(wo.div([0,0],p.zoom),p.point),2),g=v[0],m=v[1],y=b(wo.sub(wo.div([u.width,u.height],p.zoom),p.point),2),w=y[0],k=y[1],S={minX:g,minY:m,maxX:w,maxY:k,height:w-g,width:k-m},C=f.current,_=d.current;C.clear(),_.clear(),Object.values(t.shapes).filter((function(e){return s[e.type].isStateful||h.includes(e.id)||function(e,t){return Xa.boundsContain(t,e)||Xa.boundsCollide(t,e)}(s[e.type].getBounds(e),S)})).forEach((function(e){if(e.parentId===t.id)return _.add(e.id),void C.add(e);_.add(e.parentId),C.add(t.shapes[e.parentId])})),C.size!==c.current&&(l.current&&clearTimeout(l.current),l.current=requestAnimationFrame((function(){var e;null==(e=a.onRenderCountChange)||e.call(a,Array.from(_.values()))})),c.current=C.size);var E=n.bindingId?t.bindings[n.bindingId].toId:void 0,x=[];return C.forEach((function(e){return Ga(e,x,t.shapes,Na(ja({},n),{bindingTargetId:E}),r,e.isGhost,!1,i)})),x.sort((function(e,t){return e.shape.childIndex-t.shape.childIndex})),x}var Qa=new Map;function Ja(e,t){return Object.keys(t).reduce((function(n,r){var i=t[r];return i?n+"".concat("--".concat(e,"-").concat(r),": ",i,";\n"):n}),"")}var es,ts,ns={accent:"rgb(255, 0, 0)",brushFill:"rgba(0,0,0,.05)",brushStroke:"rgba(0,0,0,.25)",brushDashStroke:"rgba(0,0,0,.6)",selectStroke:"rgb(66, 133, 244)",selectFill:"rgba(65, 132, 244, 0.05)",binding:"rgba(65, 132, 244, 0.12)",background:"rgb(248, 249, 250)",foreground:"rgb(51, 51, 51)",grid:"rgba(144, 144, 144, 1)"},rs=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((function(e,t,r){return e+t+(r<n.length?n[r]:"")}),"")}(Vo||(es=["\n  @font-face {\n    font-family: 'Recursive';\n    font-style: normal;\n    font-weight: 500;\n    font-display: swap;\n    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)\n      format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n  }\n\n  @font-face {\n    font-family: 'Recursive';\n    font-style: normal;\n    font-weight: 700;\n    font-display: swap;\n    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)\n      format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n  }\n\n  @font-face {\n    font-family: 'Recursive Mono';\n    font-style: normal;\n    font-weight: 420;\n    font-display: swap;\n    src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImqvTxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)\n      format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,\n      U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n  }\n\n  .tl-container {\n    --tl-zoom: 1;\n    --tl-scale: calc(1 / var(--tl-zoom));\n    --tl-padding: calc(64px * max(1, var(--tl-scale)));\n    --tl-performance-all: auto;\n    --tl-performance-selected: auto;\n    position: relative;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n    padding: 0px;\n    margin: 0px;\n    z-index: 100;\n    overflow: hidden;\n    touch-action: none;\n    overscroll-behavior: none;\n    background-color: var(--tl-background);\n  }\n\n  .tl-container * {\n    box-sizing: border-box;\n  }\n\n  .tl-overlay {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n  }\n\n  .tl-grid {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: none;\n    user-select: none;\n  }\n\n  .tl-snap-line {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-snap-point {\n    stroke: var(--tl-accent);\n    stroke-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    touch-action: none;\n    pointer-events: all;\n    overflow: clip;\n  }\n\n  .tl-layer {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 0px;\n    width: 0px;\n    contain: layout style size;\n  }\n\n  .tl-absolute {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    contain: layout style size;\n  }\n\n  .tl-positioned {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform-origin: center center;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    contain: layout style size;\n    will-change: var(--tl-performance-all);\n  }\n\n  .tl-positioned-svg {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    contain: layout style size;\n  }\n\n  .tl-positioned-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    padding: var(--tl-padding);\n    overflow: hidden;\n    contain: layout style size;\n  }\n\n  .tl-positioned-selected {\n    will-change: var(--tl-performance-selected);\n  }\n\n  .tl-inner-div {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n\n  .tl-stroke-hitarea {\n    fill: none;\n    stroke: transparent;\n    stroke-width: calc(24px * var(--tl-scale));\n    pointer-events: stroke;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n  }\n\n  .tl-fill-hitarea {\n    fill: transparent;\n    stroke: transparent;\n    stroke-width: calc(24px * var(--tl-scale));\n    pointer-events: all;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n  }\n\n  .tl-counter-scaled {\n    transform: scale(var(--tl-scale));\n  }\n\n  .tl-dashed {\n    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));\n  }\n\n  .tl-transparent {\n    fill: transparent;\n    stroke: transparent;\n  }\n\n  .tl-cursor-ns {\n    cursor: ns-resize;\n  }\n\n  .tl-cursor-ew {\n    cursor: ew-resize;\n  }\n\n  .tl-cursor-nesw {\n    cursor: nesw-resize;\n  }\n\n  .tl-cursor-nwse {\n    cursor: nwse-resize;\n  }\n\n  .tl-corner-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-rotate-handle {\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n    stroke-width: calc(1.5px * var(--tl-scale));\n    cursor: grab;\n  }\n\n  .tl-binding {\n    fill: var(--tl-selectFill);\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-user {\n    left: calc(-15px * var(--tl-scale));\n    top: calc(-15px * var(--tl-scale));\n    height: calc(35px * var(--tl-scale));\n    width: calc(35px * var(--tl-scale));\n    transform: scale(var(--tl-scale));\n    pointer-events: none;\n    will-change: transform;\n  }\n\n  .tl-indicator {\n    fill: transparent;\n    stroke-width: calc(1.5px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-user-indicator-bounds {\n    border-style: solid;\n    border-width: calc(1px * var(--tl-scale));\n  }\n\n  .tl-hovered {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-selected {\n    stroke: var(--tl-selectStroke);\n  }\n\n  .tl-editing {\n    stroke-width: calc(2.5px * min(5, var(--tl-scale)));\n  }\n\n  .tl-performance {\n    will-change: transform, contents;\n  }\n\n  .tl-clone-target {\n    pointer-events: all;\n  }\n\n  .tl-clone-target:hover .tl-clone-button {\n    opacity: 1;\n  }\n\n  .tl-clone-button-target {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  .tl-clone-button-target:hover .tl-clone-button {\n    fill: var(--tl-selectStroke);\n  }\n\n  .tl-clone-button {\n    opacity: 0;\n    r: calc(8px * var(--tl-scale));\n    stroke-width: calc(1.5px * var(--tl-scale));\n    stroke: var(--tl-selectStroke);\n    fill: var(--tl-background);\n  }\n\n  .tl-bounds {\n    pointer-events: none;\n    contain: layout style size;\n  }\n\n  .tl-bounds-bg {\n    stroke: none;\n    fill: var(--tl-selectFill);\n    pointer-events: all;\n    contain: layout style size;\n  }\n\n  .tl-bounds-center {\n    fill: transparent;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(1.5px * var(--tl-scale));\n  }\n\n  .tl-brush {\n    fill: var(--tl-brushFill);\n    stroke: var(--tl-brushStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n    contain: layout style size;\n  }\n\n  .tl-dashed-brush-line {\n    fill: none;\n    stroke: var(--tl-brushDashStroke);\n    stroke-width: calc(1px * var(--tl-scale));\n    pointer-events: none;\n  }\n\n  .tl-brush.dashed {\n    stroke: none;\n  }\n\n  .tl-dot {\n    fill: var(--tl-background);\n    stroke: var(--tl-foreground);\n    stroke-width: 2px;\n  }\n\n  .tl-handle {\n    pointer-events: all;\n    cursor: grab;\n  }\n\n  .tl-handle:hover .tl-handle-bg {\n    fill: var(--tl-selectFill);\n  }\n\n  .tl-handle:hover .tl-handle-bg > * {\n    stroke: var(--tl-selectFill);\n  }\n\n  .tl-handle:active .tl-handle-bg {\n    cursor: grabbing;\n    fill: var(--tl-selectFill);\n  }\n\n  .tl-handle:active .tl-handle-bg > * {\n    stroke: var(--tl-selectFill);\n  }\n\n  .tl-handle {\n    fill: var(--tl-background);\n    stroke: var(--tl-selectStroke);\n    stroke-width: 1.5px;\n  }\n\n  .tl-handle-bg {\n    fill: transparent;\n    stroke: none;\n    pointer-events: all;\n    r: calc(16px / max(1, var(--tl-zoom)));\n  }\n\n  .tl-binding-indicator {\n    fill: transparent;\n    stroke: var(--tl-binding);\n  }\n\n  .tl-centered-g {\n    transform: translate(var(--tl-padding), var(--tl-padding));\n  }\n\n  .tl-current-parent > *[data-shy='true'] {\n    opacity: 1;\n  }\n\n  .tl-binding {\n    fill: none;\n    stroke: var(--tl-selectStroke);\n    stroke-width: calc(2px * var(--tl-scale));\n  }\n\n  .tl-grid-dot {\n    fill: var(--tl-grid);\n  }\n"],ts||(ts=es.slice(0)),Vo=Object.freeze(Object.defineProperties(es,{raw:{value:Object.freeze(ts)}}))));function is(t,n){var r,i;!function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":root";e.useLayoutEffect((function(){var e=document.createElement("style"),i=Ja(t,n);return e.setAttribute("id","".concat(t,"-theme")),e.setAttribute("data-selector",r),e.innerHTML="\n        ".concat(r," {\n          ").concat(i,"\n        }\n      "),document.head.appendChild(e),function(){e&&document.head.contains(e)&&document.head.removeChild(e)}}),[t,n,r])}("tl",e.useMemo((function(){return ja(ja({},ns),t)}),[t]),n),r="tl-canvas",i=rs,e.useLayoutEffect((function(){if(Qa.get(r))return function(){};var e=document.createElement("style");return e.innerHTML=i,e.setAttribute("id",r),document.head.appendChild(e),Qa.set(r,e),function(){e&&document.head.contains(e)&&(document.head.removeChild(e),Qa.delete(r))}}),[r,i])}function os(t){var n=Ua(),r=n.callbacks,i=n.inputs,o=e.useCallback((function(e){var n,o,a;if(!e.dead&&(e.dead=!0,0===e.button&&i.pointerIsValid(e))){var s=i.pointerDown(e,t);!i.isDoubleClick()||s.altKey||s.metaKey||null==(n=r.onDoubleClickBoundsHandle)||n.call(r,s,e),null==(o=r.onPointBoundsHandle)||o.call(r,s,e),null==(a=r.onPointerDown)||a.call(r,s,e)}}),[i,r,t]),a=e.useCallback((function(e){var n,o;if(!e.dead&&(e.dead=!0,0===e.button&&i.pointerIsValid(e))){var a=i.pointerUp(e,t);null==(n=r.onReleaseBoundsHandle)||n.call(r,a,e),null==(o=r.onPointerUp)||o.call(r,a,e)}}),[i,r,t]),s=e.useCallback((function(e){var n,o;if(!e.dead&&(e.dead=!0,i.pointerIsValid(e))){e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(n=r.onDragBoundsHandle)||n.call(r,i.pointerMove(e,t),e));var a=i.pointerMove(e,t);null==(o=r.onPointerMove)||o.call(r,a,e)}}),[i,r,t]),u=e.useCallback((function(e){var n;i.pointerIsValid(e)&&(null==(n=r.onHoverBoundsHandle)||n.call(r,i.pointerEnter(e,t),e))}),[i,r,t]),l=e.useCallback((function(e){var n;i.pointerIsValid(e)&&(null==(n=r.onUnhoverBoundsHandle)||n.call(r,i.pointerEnter(e,t),e))}),[i,r,t]);return{onPointerDown:o,onPointerUp:a,onPointerEnter:u,onPointerMove:s,onPointerLeave:l}}function as(e,t){return[(e[0]+t.point[0])*t.zoom,(e[1]+t.point[1])*t.zoom]}function ss(e,t){return e[t.type]}function us(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.useRef(null);return e.useLayoutEffect((function(){return Jt((function(){var e=r.current,i="\n    translate(\n      calc(".concat(t.minX,"px - var(--tl-padding)),\n      calc(").concat(t.minY,"px - var(--tl-padding))\n    )\n    rotate(").concat(n+(t.rotation||0),"rad)");e.style.setProperty("transform",i),e.style.setProperty("width","calc(".concat(Math.floor(t.width),"px + (var(--tl-padding) * 2))")),e.style.setProperty("height","calc(".concat(Math.floor(t.height),"px + (var(--tl-padding) * 2))"))}))}),[t,n]),r}var ls=function(){function e(){S(this,e),za(this,"points",[]),za(this,"lengths",[]),za(this,"totalLength",0),za(this,"prev")}return k(e,[{key:"addPoint",value:function(e){if(this.prev){var t=ko.dist(this.prev,e);this.lengths.push(t),this.totalLength+=t,this.points.push(e)}this.prev=e}},{key:"getSplinePoint",value:function(e){var t=this.points,n=t.length-1,r=Math.trunc(e),i=Math.min(r+1,n),o=Math.min(i+1,n),a=Math.min(o+1,n),s=i-1,u=(e-=r)*e,l=u*e,c=2*u-l-e,d=3*l-5*u+2,f=-3*l+4*u+e,h=l-u;return[.5*(t[s][0]*c+t[i][0]*d+t[o][0]*f+t[a][0]*h),.5*(t[s][1]*c+t[i][1]*d+t[o][1]*f+t[a][1]*h)]}},{key:"clear",value:function(){this.points=[],this.totalLength=0}}]),e}();var cs=Ur((function(t){var n=t,r=n.id,i=n.bounds,o=n.rotation,a=void 0===o?0:o,s=n.isGhost,u=void 0!==s&&s,l=n.isSelected,c=void 0!==l&&l,d=n.children,f=Fa(n,["id","bounds","rotation","isGhost","isSelected","children"]),h=us(i,a);return e.createElement("div",ja({id:r,ref:h,className:"tl-positioned".concat(u?" tl-ghost":"").concat(c?" tl-positioned-selected":""),"aria-label":"container","data-testid":"container"},f),d)})),ds=Ur((function(t){var n=t.brush,r=t.zoom,i=t.dashed;return e.createElement(cs,{bounds:n,rotation:0},e.createElement(Cs,null,e.createElement("rect",{className:"tl-brush"+(i?" dashed":""),opacity:1,x:0,y:0,width:n.width,height:n.height,"aria-label":"brush"}),i&&e.createElement("g",{className:"tl-dashed-brush-line"},e.createElement(fs,{x1:0,y1:0,x2:n.width,y2:0,zoom:r}),e.createElement(fs,{x1:n.width,y1:0,x2:n.width,y2:n.height,zoom:r}),e.createElement(fs,{x1:0,y1:n.height,x2:n.width,y2:n.height,zoom:r}),e.createElement(fs,{x1:0,y1:0,x2:0,y2:n.height,zoom:r}))))}));function fs(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2,a=t.zoom,s=$a.getPerfectDashProps(Math.hypot(i-n,o-r),1/a,"dashed",1,!0,3);return e.createElement("line",{x1:n,y1:r,x2:i,y2:o,strokeWidth:1/a,strokeDasharray:s.strokeDasharray,strokeDashoffset:s.strokeDashoffset})}var hs=Ur((function(t){var n=t.bounds,r=t.isLocked,i=t.isHidden;return e.createElement("rect",{className:["tl-bounds-center",r?"tl-dashed":""].join(" "),x:-1,y:-1,width:n.width+2,height:n.height+2,opacity:i?0:1,pointerEvents:"none","aria-label":"center handle"})})),ps=Ur((function(t){var n=t.bounds,r=t.targetSize,i=t.size,o=t.isHidden,a=os("rotate");return e.createElement("g",{cursor:"grab",opacity:o?0:1},e.createElement("circle",ja({className:"tl-transparent","aria-label":"rotate handle transparent",cx:n.width/2,cy:-2*i,r:r,pointerEvents:o?"none":"all"},a)),e.createElement("circle",{className:"tl-rotate-handle","aria-label":"rotate handle",cx:n.width/2,cy:-2*i,r:i/2,pointerEvents:"none"}))})),vs=(i(Ko={},"top_left_corner","tl-cursor-nwse"),i(Ko,"top_right_corner","tl-cursor-nesw"),i(Ko,"bottom_right_corner","tl-cursor-nwse"),i(Ko,"bottom_left_corner","tl-cursor-nesw"),Ko),gs=Ur((function(t){var n=t.size,r=t.targetSize,i=t.isHidden,o=t.corner,a=t.bounds,s=os(o),u="top_left_corner"===o||"top_right_corner"===o,l="top_left_corner"===o||"bottom_left_corner"===o;return e.createElement("g",{opacity:i?0:1},e.createElement("rect",ja({className:"tl-transparent "+(i?"":vs[o]),"aria-label":"corner transparent",x:(l?-1:a.width+1)-r,y:(u?-1:a.height+1)-r,width:2*r,height:2*r,pointerEvents:i?"none":"all"},s)),e.createElement("rect",{className:"tl-corner-handle","aria-label":"corner handle",x:(l?-1:a.width+1)-n/2,y:(u?-1:a.height+1)-n/2,width:n,height:n,pointerEvents:"none"}))}));function ms(t){var n=t.size,r=t.bounds,i=t.isHidden,o=os("left"),a=os("center"),s=os("right");return e.createElement("g",{cursor:"grab",transform:"translate(".concat(r.width/2-4*n,", ").concat(r.height+2*n,")"),"aria-label":"link handle"},e.createElement("g",{className:"tl-transparent",pointerEvents:i?"none":"all"},e.createElement("rect",ja({x:0,y:0,width:2*n,height:2*n},o)),e.createElement("rect",ja({x:3*n,y:0,width:2*n,height:2*n},a)),e.createElement("rect",ja({x:6*n,y:0,width:2*n,height:2*n},s))),e.createElement("g",{className:"tl-rotate-handle",transform:"translate(".concat(n/2,", ").concat(n/2,")"),"aria-label":"link rotate handle"},e.createElement("path",{d:"M 0,".concat(n/2," L ").concat(n,",").concat(n," ").concat(n,",0 Z"),pointerEvents:"none",opacity:i?0:1}),e.createElement("path",{transform:"translate(".concat(3*n,", 0)"),d:"M 0,0 L ".concat(n,",0 ").concat(n/2,",").concat(n," Z"),pointerEvents:"none",opacity:i?0:1}),e.createElement("path",{transform:"translate(".concat(6*n,", 0)"),d:"M ".concat(n,",").concat(n/2," L 0,0 0,").concat(n," Z"),pointerEvents:"none",opacity:i?0:1})))}var ys=(i(Zo={},"top_edge","tl-cursor-ns"),i(Zo,"right_edge","tl-cursor-ew"),i(Zo,"bottom_edge","tl-cursor-ns"),i(Zo,"left_edge","tl-cursor-ew"),Zo),bs=Ur((function(t){var n=t.size,r=t.isHidden,i=t.bounds,o=t.edge,a=os(o),s="top_edge"===o||"bottom_edge"===o,u="right_edge"===o||"bottom_edge"===o,l=i.height,c=i.width;return e.createElement("rect",ja({pointerEvents:r?"none":"all",className:"tl-transparent tl-edge-handle "+(r?"":ys[o]),"aria-label":"".concat(o," handle"),opacity:r?0:1,x:s?n/2:(u?c+1:-1)-n/2,y:s?(u?l+1:-1)-n/2:n/2,width:s?Math.max(0,c+1-n):n,height:s?n:Math.max(0,l+1-n)},a))})),ws={right:0,bottomRight:45,bottom:90,bottomLeft:135,left:180,topLeft:225,top:270,topRight:315},ks=Ur((function(t){var n=t.bounds,r=t.side,i=t.targetSize,o=t.size,a=2*i,s={left:-a,topLeft:-a,bottomLeft:-a,right:n.width,topRight:n.width,bottomRight:n.width,top:n.width/2-a/2,bottom:n.width/2-a/2}[r],u={left:n.height/2-a/2,right:n.height/2-a/2,top:2*-a,topLeft:-a,topRight:-a,bottom:n.height,bottomLeft:n.height,bottomRight:n.height}[r],l=Ua(),c=l.callbacks,d=l.inputs,f=e.useCallback((function(e){var t;e.stopPropagation();var n=d.pointerDown(e,r);null==(t=c.onShapeClone)||t.call(c,n,e)}),[c.onShapeClone]);return e.createElement("g",{className:"tl-clone-target",transform:"translate(".concat(s,", ").concat(u,")"),"aria-label":"clone button"},e.createElement("rect",{className:"tl-transparent",width:2*i,height:2*i}),e.createElement("g",{className:"tl-clone-button-target",onPointerDown:f,transform:"translate(".concat(i,", ").concat(i,") rotate(").concat(ws[r],")")},e.createElement("circle",{className:"tl-transparent ",r:i}),e.createElement("path",{className:"tl-clone-button",d:"M -".concat(o/2,",-").concat(o/2," L ").concat(o/2,",0 -").concat(o/2,",").concat(o/2," Z"),strokeLinejoin:"round"})))}));function Ss(t){var n=t.targetSize,r=t.size,i=t.bounds;return e.createElement(e.Fragment,null,e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"top"}),e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"right"}),e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"bottom"}),e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"left"}),e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"topLeft"}),e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"topRight"}),e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"bottomLeft"}),e.createElement(ks,{targetSize:n,size:r,bounds:i,side:"bottomRight"}))}var Cs=e.forwardRef((function(t,n){var r=t,i=r.id,o=r.className,a=void 0===o?"":o,s=r.children,u=Fa(r,["id","className","children"]);return e.createElement(Kr,null,(function(){return e.createElement("svg",ja({ref:n,className:"tl-positioned-svg ".concat(a)},u),e.createElement("g",{id:i,className:"tl-centered-g"},s))}))})),_s=Ur((function(t){var n=t.zoom,r=t.bounds,i=t.viewportWidth,o=t.rotation,a=t.isHidden,s=t.isLocked,u=t.hideCloneHandles,l=t.hideResizeHandles,c=t.hideRotateHandle,d=t.hideBindingHandles,f=(i<768?16:8)/n,h=8/n,p=Math.min(r.width,r.height)*n,v=!c&&!a&&!s&&p>32,g=!a&&!s&&p>24,m=!a&&!s&&p>20,y=!u&&p>24,b=!l&&!s;return e.createElement(cs,{bounds:r,rotation:o},e.createElement(Cs,null,e.createElement(hs,{bounds:r,isLocked:s,isHidden:a}),b&&e.createElement(e.Fragment,null,e.createElement(bs,{targetSize:f,size:h,bounds:r,edge:"top_edge",isHidden:!g}),e.createElement(bs,{targetSize:f,size:h,bounds:r,edge:"right_edge",isHidden:!g}),e.createElement(bs,{targetSize:f,size:h,bounds:r,edge:"bottom_edge",isHidden:!g}),e.createElement(bs,{targetSize:f,size:h,bounds:r,edge:"left_edge",isHidden:!g}),e.createElement(gs,{targetSize:f,size:h,bounds:r,isHidden:a||!m,corner:"top_left_corner"}),e.createElement(gs,{targetSize:f,size:h,bounds:r,isHidden:a||!m,corner:"top_right_corner"}),e.createElement(gs,{targetSize:f,size:h,bounds:r,isHidden:a||!m,corner:"bottom_right_corner"}),e.createElement(gs,{targetSize:f,size:h,bounds:r,isHidden:a||!m,corner:"bottom_left_corner"})),v&&e.createElement(ps,{targetSize:f,size:h,bounds:r,isHidden:!g}),y&&e.createElement(Ss,{bounds:r,targetSize:f,size:h}),!d&&e.createElement(ms,{targetSize:f,size:h,bounds:r,isHidden:!g})))})),Es=Ur((function(t){var n=t.bounds,r=t.rotation,i=t.isHidden,o=function(){var t=Ua(),n=t.callbacks,r=t.inputs;return e.useMemo((function(){return{onPointerDown:function(e){var t,i,o,a;if(!e.dead&&(e.dead=!0,r.pointerIsValid(e)))if(2!==e.button){if(0===e.button){null==(i=e.currentTarget)||i.setPointerCapture(e.pointerId);var s=r.pointerDown(e,"bounds");null==(o=n.onPointBounds)||o.call(n,s,e),null==(a=n.onPointerDown)||a.call(n,s,e)}}else null==(t=n.onRightPointBounds)||t.call(n,r.pointerDown(e,"bounds"),e)},onPointerUp:function(e){var t,i,o,a;if(!e.dead&&(e.dead=!0,0===e.button&&(r.activePointer=void 0,r.pointerIsValid(e)))){var s=r.isDoubleClick(),u=r.pointerUp(e,"bounds");e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(t=e.currentTarget)||t.releasePointerCapture(e.pointerId)),!s||u.altKey||u.metaKey||null==(i=n.onDoubleClickBounds)||i.call(n,u,e),null==(o=n.onReleaseBounds)||o.call(n,u,e),null==(a=n.onPointerUp)||a.call(n,u,e)}},onPointerMove:function(e){var t,i;if(!e.dead&&(e.dead=!0,r.pointerIsValid(e))){e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(t=n.onDragBounds)||t.call(n,r.pointerMove(e,"bounds"),e));var o=r.pointerMove(e,"bounds");null==(i=n.onPointerMove)||i.call(n,o,e)}},onPointerEnter:function(e){var t;r.pointerIsValid(e)&&(null==(t=n.onHoverBounds)||t.call(n,r.pointerEnter(e,"bounds"),e))},onPointerLeave:function(e){var t;r.pointerIsValid(e)&&(null==(t=n.onUnhoverBounds)||t.call(n,r.pointerEnter(e,"bounds"),e))}}}),[r,n])}();return e.createElement(cs,{bounds:n,rotation:r},e.createElement(Cs,null,e.createElement("rect",ja({className:"tl-bounds-bg","aria-label":"bounds bg",width:n.width,height:n.height,opacity:i?0:1},o))))})),xs=Ur((function(t){var n=t.id,r=t.point,i=function(t){var n=Ua(),r=n.inputs,i=n.callbacks;return e.useMemo((function(){return{onPointerDown:function(e){var n,o,a;if(!e.dead&&(e.dead=!0,r.pointerIsValid(e)&&0===e.button&&r.pointerIsValid(e))){null==(n=e.currentTarget)||n.setPointerCapture(e.pointerId);var s=r.pointerDown(e,t);null==(o=i.onPointHandle)||o.call(i,s,e),null==(a=i.onPointerDown)||a.call(i,s,e)}},onPointerUp:function(e){var n,o,a,s;if(!e.dead&&(e.dead=!0,0===e.button&&r.pointerIsValid(e))){var u=r.isDoubleClick(),l=r.pointerUp(e,t);e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(n=e.currentTarget)||n.releasePointerCapture(e.pointerId),!u||l.altKey||l.metaKey||null==(o=i.onDoubleClickHandle)||o.call(i,l,e),null==(a=i.onReleaseHandle)||a.call(i,l,e)),null==(s=i.onPointerUp)||s.call(i,l,e)}},onPointerMove:function(e){var n,o;if(!e.dead&&(e.dead=!0,r.pointerIsValid(e))){var a=r.pointerMove(e,t);e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(n=i.onDragHandle)||n.call(i,a,e)),null==(o=i.onPointerMove)||o.call(i,a,e)}},onPointerEnter:function(e){var n;if(r.pointerIsValid(e)){var o=r.pointerEnter(e,t);null==(n=i.onHoverHandle)||n.call(i,o,e)}},onPointerLeave:function(e){var n;if(r.pointerIsValid(e)){var o=r.pointerEnter(e,t);null==(n=i.onUnhoverHandle)||n.call(i,o,e)}}}}),[r,i,t])}(n);return e.createElement(cs,{bounds:$a.translateBounds({minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},r)},e.createElement(Cs,null,e.createElement("g",ja({className:"tl-handle","aria-label":"handle"},i),e.createElement("circle",{className:"tl-handle-bg",pointerEvents:"all"}),e.createElement("circle",{className:"tl-counter-scaled tl-handle",pointerEvents:"none",r:4}))))})),Is=Ur((function(t){var n=t.shape,r=t.zoom;if(void 0===n.handles)return null;var i=null,o=Object.values(n.handles).reduce((function(e,t){var o=wo.add(t.point,n.point);return(!i||wo.dist(o,i)*r>=32)&&(e.push(t),i=o),e}),[]);return 1===o.length?null:e.createElement(e.Fragment,null,o.map((function(t){return e.createElement(xs,{key:n.id+"_"+t.id,id:t.id,point:wo.add(t.point,n.point)})})))})),Ps=Ur((function(t){var n=t.utils.getRef(t.shape);return e.createElement(t.utils.Component,ja({ref:n},t))})),Ms=e.memo(Ps,(function(e,t){return e.isHovered===t.isHovered&&e.isSelected===t.isSelected&&e.isEditing===t.isEditing&&e.isBinding===t.isBinding&&e.isGhost===t.isGhost&&e.meta===t.meta&&(t.shape===e.shape||!t.utils.shouldRender(t.shape,e.shape))})),Ts=Ur((function(t){var n=t,r=n.shape,i=n.utils,o=n.meta,a=Fa(n,["shape","utils","meta"]),s=Ua().callbacks,u=i.getBounds(r),l=function(t){var n=e.useContext(Ha),r=n.rPageState,i=n.rSelectionBounds,o=n.callbacks,a=n.inputs;return e.useMemo((function(){return{onPointerDown:function(e){var n,s,u,l,c,d,f;if(!e.dead&&(e.dead=!0,a.pointerIsValid(e)&&a.pointerIsValid(e)))if(2!==e.button){if(0===e.button){var h=a.pointerDown(e,t);if(null==(s=e.currentTarget)||s.setPointerCapture(e.pointerId),i.current&&Xa.pointInBounds(h.point,i.current)&&!r.current.selectedIds.includes(t))return null==(u=o.onPointBounds)||u.call(o,a.pointerDown(e,"bounds"),e),null==(l=o.onPointShape)||l.call(o,h,e),void(null==(c=o.onPointerDown)||c.call(o,h,e));null==(d=o.onPointShape)||d.call(o,h,e),null==(f=o.onPointerDown)||f.call(o,h,e)}}else null==(n=o.onRightPointShape)||n.call(o,a.pointerDown(e,t),e)},onPointerUp:function(e){var n,r,i,s;if(!e.dead&&(e.dead=!0,0===e.button&&(a.activePointer=void 0,a.pointerIsValid(e)))){var u=a.isDoubleClick(),l=a.pointerUp(e,t);e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(n=e.currentTarget)||n.releasePointerCapture(e.pointerId)),!u||l.altKey||l.metaKey||null==(r=o.onDoubleClickShape)||r.call(o,l,e),null==(i=o.onReleaseShape)||i.call(o,l,e),null==(s=o.onPointerUp)||s.call(o,l,e)}},onPointerMove:function(e){var n,r;if(!e.dead&&(e.dead=!0,a.pointerIsValid(e)&&(!a.pointer||e.pointerId===a.pointer.pointerId))){var i=a.pointerMove(e,t);e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(n=o.onDragShape)||n.call(o,i,e)),null==(r=o.onPointerMove)||r.call(o,i,e)}},onPointerEnter:function(e){var n;if(a.pointerIsValid(e)){var r=a.pointerEnter(e,t);null==(n=o.onHoverShape)||n.call(o,r,e)}},onPointerLeave:function(e){var n;if(a.pointerIsValid(e)){var r=a.pointerEnter(e,t);null==(n=o.onUnhoverShape)||n.call(o,r,e)}}}}),[a,o,t])}(r.id);return e.createElement(cs,{id:r.id,bounds:u,rotation:r.rotation,"data-shape":r.type,isGhost:a.isGhost,isSelected:a.isSelected},e.createElement(Ms,ja({shape:r,utils:i,meta:o,events:l,bounds:u,onShapeChange:s.onShapeChange,onShapeBlur:s.onShapeBlur},a)))})),Os=Ur((function t(n){var r=n,i=r.shape,o=r.utils,a=r.meta,s=r.children,u=Fa(r,["shape","utils","meta","children"]);return e.createElement(e.Fragment,null,e.createElement(Ts,ja({shape:i,utils:o[i.type],meta:a},u)),s&&s.map((function(n){return e.createElement(t,ja({key:n.shape.id,utils:o},n))})))})),Rs=Ur((function(t){var n=t.isHovered,r=void 0!==n&&n,i=t.isSelected,o=void 0!==i&&i,a=t.isEditing,s=void 0!==a&&a,u=t.shape,l=t.user,c=t.meta,d=Ua().shapeUtils[u.type],f=d.getBounds(u),h=us(f,u.rotation);return e.createElement("div",{ref:h,draggable:!1,className:["tl-indicator","tl-absolute",o&&!l?"tl-selected":"tl-hovered",s?"tl-editing":""].join(" ")},e.createElement("svg",{width:"100%",height:"100%"},e.createElement("g",{className:"tl-centered-g",stroke:null==l?void 0:l.color},e.createElement(d.Indicator,{shape:u,meta:c,user:l,bounds:f,isSelected:o,isHovered:r}))))})),Ds=Ur((function(t){var n=t.page,r=t.pageState,i=t.assets,o=t.hideBounds,a=t.hideHandles,s=t.hideIndicators,u=t.hideBindingHandles,l=t.hideCloneHandles,c=t.hideRotateHandle,d=t.hideResizeHandles,f=t.meta,h=Ua(),p=h.bounds,v=h.shapeUtils,g=qa(n,r,i,f),m=function(t,n,r){var i=Ua().rSelectionBounds,o=n.selectedIds,a=e.useRef(),s=void 0,u=0,l=!1,c=!1;if(1===o.length){var d=o[0],f=t.shapes[d];u=f.rotation||0,l=f.isLocked||!1;var h=ss(r,f);s=h.hideBounds?void 0:h.getBounds(f)}else if(o.length>1){var p=o.map((function(e){return t.shapes[e]}));u=0,l=p.every((function(e){return e.isLocked})),s=p.reduce((function(e,t,n){return 0===n?ss(r,t).getRotatedBounds(t):$a.getExpandedBounds(e,ss(r,t).getRotatedBounds(t))}),{})}if(s){var v=b(as([s.minX,s.minY],n.camera),2),g=v[0],m=v[1],y=b(as([s.maxX,s.maxY],n.camera),2),w=y[0],k=y[1];c=!!Object.values(t.bindings).find((function(e){return o.includes(e.toId)||o.includes(e.fromId)})),i.current={minX:g,minY:m,maxX:w,maxY:k,width:w-g,height:k-m}}else i.current=null;var S=a.current;return S&&s?s&&S.minX===s.minX&&S.minY===s.minY&&S.maxX===s.maxX&&S.maxY===s.maxY&&(s=a.current):a.current=s,{bounds:s,rotation:u,isLocked:l,isLinked:c}}(n,r,v),y=m.bounds,w=m.isLinked,k=m.isLocked,S=m.rotation,C=r.selectedIds,_=r.hoveredId,E=r.editingId,x=r.camera.zoom,I=s,P=!0,M=!1,T=void 0,O=C.map((function(e){return n.shapes[e]}));if(1===O.length){var R=O[0];(M=E===R.id)&&(I=!0);var D=v[R.type];P=l||!D.showCloneHandles,void 0===R.handles||M||(T=R)}return e.createElement(e.Fragment,null,y&&e.createElement(Es,{bounds:y,rotation:S,isHidden:o}),g.map((function(t){return e.createElement(Os,ja({key:t.shape.id,utils:v},t))})),!I&&O.map((function(t){return e.createElement(Rs,{key:"selected_"+t.id,shape:t,meta:f,isSelected:!0,isEditing:M})})),!I&&_&&_!==E&&e.createElement(Rs,{key:"hovered_"+_,shape:n.shapes[_],meta:f,isHovered:!0}),y&&e.createElement(_s,{zoom:x,bounds:y,viewportWidth:p.width,isLocked:k,rotation:S,isHidden:o,hideRotateHandle:c,hideResizeHandles:d,hideBindingHandles:u||!w,hideCloneHandles:P}),!a&&T&&e.createElement(Is,{shape:T,zoom:x}))}));function As(t){var n=t.user,r=e.useRef(null);return function(t,n){var r=e.useRef("idle"),i=e.useRef(n),o=e.useRef([]),a=e.useRef(performance.now()),s=e.useRef(0),u=e.useRef(0),l=b(e.useState((function(){return new ls})),1)[0],c=e.useCallback((function(e){var n=performance.now();!function i(){var a=(performance.now()-n)/e.duration;if(a<=1){var d=t.current;if(!d)return;var f=e.curve?l.getSplinePoint(a+e.start):ko.lrp(e.from,e.to,a);return d.style.setProperty("transform","translate(".concat(f[0],"px, ").concat(f[1],"px)")),void(s.current=requestAnimationFrame(i))}var h=o.current.shift();h?(r.current="animating",c(h)):(r.current="idle",u.current=setTimeout((function(){r.current="stopped"}),250))}()}),[l]);e.useLayoutEffect((function(){var e=performance.now();"stopped"===r.current&&(a.current=e,i.current=n,l.clear()),l.addPoint(n);var t={distance:l.totalLength,curve:l.points.length>3,start:l.points.length-3,from:i.current,to:n,timeStamp:e,duration:Math.min(e-a.current,300)};switch(i.current=n,a.current=e,r.current){case"stopped":i.current=n,r.current="idle";break;case"idle":r.current="animating",c(t);break;case"animating":o.current.push(t)}return function(){return clearTimeout(u.current)}}),[n,l])}(r,n.point),e.createElement("svg",{ref:r,className:"tl-absolute tl-user tl-counter-scaled",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",fill:"none",fillRule:"evenodd"},e.createElement("g",{fill:"rgba(0,0,0,.2)",transform:"translate(1,1)"},e.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),e.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),e.createElement("g",{fill:"white"},e.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),e.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),e.createElement("g",{fill:n.color},e.createElement("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),e.createElement("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"})))}function Ls(t){var n=t.userId,r=t.users;return e.createElement(e.Fragment,null,Object.values(r).filter((function(e){return e&&e.id!==n})).map((function(t){return e.createElement(As,{key:t.id,user:t})})))}var Bs=function(){function e(){var t=this;S(this,e),za(this,"pointer"),za(this,"keyboard"),za(this,"keys",{}),za(this,"isPinching",!1),za(this,"bounds",{minX:0,maxX:640,minY:0,maxY:480,width:640,height:480}),za(this,"zoom",1),za(this,"pointerUpTime",0),za(this,"activePointer"),za(this,"panStart",(function(n){var r,i,o=n.shiftKey,a=n.ctrlKey,s=n.metaKey,u=n.altKey,l={target:"wheel",pointerId:(null==(r=t.pointer)?void 0:r.pointerId)||0,origin:(null==(i=t.pointer)?void 0:i.origin)||[0,0],delta:[0,0],pressure:.5,point:e.getPoint(n,t.bounds),shiftKey:o,ctrlKey:a,metaKey:s,altKey:u,spaceKey:t.keys[" "]};return t.pointer=l,l})),za(this,"pan",(function(n,r){if(!t.pointer||"wheel"!==t.pointer.target)return t.panStart(r);var i=r.shiftKey,o=r.ctrlKey,a=r.metaKey,s=r.altKey,u=t.pointer,l=e.getPoint(r,t.bounds),c=Na(ja({},u),{target:"wheel",delta:n,point:l,shiftKey:i,ctrlKey:o,metaKey:a,altKey:s,spaceKey:t.keys[" "]});return t.pointer=c,c})),za(this,"keydown",(function(e){var n,r,i=e.shiftKey,o=e.ctrlKey,a=e.metaKey,s=e.altKey;return t.keys[e.key]=!0,{point:(null==(n=t.pointer)?void 0:n.point)||[0,0],origin:(null==(r=t.pointer)?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(t.keys),shiftKey:i,ctrlKey:o,metaKey:Xa.isDarwin()?a:o,altKey:s}})),za(this,"keyup",(function(e){var n,r,i=e.shiftKey,o=e.ctrlKey,a=e.metaKey,s=e.altKey;return delete t.keys[e.key],{point:(null==(n=t.pointer)?void 0:n.point)||[0,0],origin:(null==(r=t.pointer)?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(t.keys),shiftKey:i,ctrlKey:o,metaKey:Xa.isDarwin()?a:o,altKey:s}}))}return k(e,[{key:"pointerIsValid",value:function(e){if("pointerId"in e&&this.activePointer&&this.activePointer!==e.pointerId)return!1;if("touches"in e){var t=e.changedTouches[0];if(this.activePointer&&this.activePointer!==t.identifier)return!1}return!0}},{key:"touchStart",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=t.changedTouches[0];this.activePointer=s.identifier;var u={target:n,pointerId:s.identifier,origin:e.getPoint(s,this.bounds),delta:[0,0],point:e.getPoint(s,this.bounds),pressure:e.getPressure(s),shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=u,u}},{key:"touchEnd",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=t.changedTouches[0],u={target:n,pointerId:s.identifier,origin:e.getPoint(s,this.bounds),delta:[0,0],point:e.getPoint(s,this.bounds),pressure:e.getPressure(s),shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=u,this.activePointer=void 0,u}},{key:"touchMove",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=t.changedTouches[0],u=this.pointer,l=e.getPoint(s,this.bounds),c=(null==u?void 0:u.point)?wo.sub(l,u.point):[0,0],d=Na(ja({origin:l},u),{target:n,pointerId:s.identifier,point:l,delta:c,pressure:e.getPressure(s),shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=d,d}},{key:"pointerDown",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=e.getPoint(t,this.bounds);this.activePointer=t.pointerId;var u={target:n,pointerId:t.pointerId,origin:s,point:s,delta:[0,0],pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=u,u}},{key:"pointerEnter",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=e.getPoint(t,this.bounds),u={target:n,pointerId:t.pointerId,origin:s,delta:[0,0],point:s,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=u,u}},{key:"pointerMove",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=this.pointer,u=e.getPoint(t,this.bounds),l=(null==s?void 0:s.point)?wo.sub(u,s.point):[0,0],c=Na(ja({origin:u},s),{target:n,pointerId:t.pointerId,point:u,delta:l,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=c,c}},{key:"pointerUp",value:function(t,n){var r=t.shiftKey,i=t.ctrlKey,o=t.metaKey,a=t.altKey,s=this.pointer,u=e.getPoint(t,this.bounds),l=(null==s?void 0:s.point)?wo.sub(u,s.point):[0,0];this.activePointer=void 0;var c=Na(ja({origin:u},s),{target:n,pointerId:t.pointerId,point:u,delta:l,pressure:e.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]});return this.pointer=c,this.pointerUpTime=performance.now(),c}},{key:"isDoubleClick",value:function(){if(!this.pointer)return!1;var e=this.pointer,t=e.origin,n=e.point,r=performance.now()-this.pointerUpTime<250&&wo.dist(t,n)<4;return r&&(this.activePointer=void 0),r}},{key:"clear",value:function(){this.pointer=void 0}},{key:"resetDoubleClick",value:function(){this.pointerUpTime=0}},{key:"pinch",value:function(e,t){var n=this.keys,r=n.shiftKey,i=n.ctrlKey,o=n.metaKey,a=n.altKey,s={pointerId:0,target:"pinch",origin:t,delta:wo.sub(t,e),point:wo.sub(wo.toFixed(e),[this.bounds.minX,this.bounds.minY]),pressure:.5,shiftKey:r,ctrlKey:i,metaKey:Xa.isDarwin()?o:i,altKey:a,spaceKey:this.keys[" "]};return this.pointer=s,s}},{key:"reset",value:function(){this.pointerUpTime=0,this.pointer=void 0,this.keyboard=void 0,this.activePointer=void 0,this.keys={}}}],[{key:"getPoint",value:function(e,t){return[+e.clientX.toFixed(2)-t.minX,+e.clientY.toFixed(2)-t.minY]}},{key:"getPressure",value:function(e){return"pressure"in e&&+e.pressure.toFixed(2)||.5}},{key:"commandKey",value:function(){return Xa.isDarwin()?"\u2318":"Ctrl"}}]),e}(),js=new Bs;function Ns(t){var n=t.userId,r=t.users,i=t.meta,o=t.page,a=Ua().shapeUtils;return e.createElement(e.Fragment,null,Object.values(r).filter(Boolean).filter((function(e){return e.id!==n&&e.selectedIds.length>0})).map((function(t){var n=t.selectedIds.map((function(e){return o.shapes[e]})).filter(Boolean);if(0===n.length)return null;var r=$a.getCommonBounds(n.map((function(e){return a[e.type].getBounds(e)})));return e.createElement(e.Fragment,{key:t.id+"_shapes"},e.createElement("div",{className:"tl-absolute tl-user-indicator-bounds",style:{backgroundColor:t.color+"0d",borderColor:t.color+"78",transform:"translate(".concat(r.minX,"px, ").concat(r.minY,"px)"),width:r.width,height:r.height,pointerEvents:"none"}}),n.map((function(n){return e.createElement(Rs,{key:"".concat(t.id,"_").concat(n.id,"_indicator"),shape:n,user:t,meta:i,isHovered:!0})})))})))}var Fs=Ur((function(t){var n=t.snapLines;return e.createElement(e.Fragment,null,n.map((function(t,n){return e.createElement(zs,{key:n,snapLine:t})})))})),zs=Ur((function(t){var n=t.snapLine,r=$a.getBoundsFromPoints(n);return e.createElement(e.Fragment,null,e.createElement("line",{className:"tl-snap-line",x1:r.minX,y1:r.minY,x2:r.maxX,y2:r.maxY}),n.map((function(t,n){var r=b(t,2),i=r[0],o=r[1];return e.createElement("use",{key:n,href:"#tl-snap-point",x:i,y:o})})))})),Hs=[[-1,.15,64],[.05,.375,16],[.15,1,4],[.7,2.5,1]];function Us(t){var n=t.grid,r=t.camera;return e.createElement("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e.createElement("defs",null,Hs.map((function(t,i){var o=b(t,3),a=o[0],s=o[1],u=o[2]*n*r.zoom,l=r.point[0]*r.zoom,c=r.point[1]*r.zoom,d=l>0?l%u:u+l%u,f=c>0?c%u:u+c%u,h=r.zoom<s?$a.modulate(r.zoom,[a,s],[0,1]):1;return e.createElement("pattern",{key:"grid-pattern-".concat(i),id:"grid-".concat(i),width:u,height:u,patternUnits:"userSpaceOnUse"},e.createElement("circle",{className:"tl-grid-dot",cx:d,cy:f,r:1,opacity:h}))}))),Hs.map((function(t,n){return e.createElement("rect",{key:"grid-rect-".concat(n),width:"100%",height:"100%",fill:"url(#grid-".concat(n,")")})})))}var Vs=Ur((function(t){var n=t.camera,r=n.zoom,i=n.point,o=t.children,a=2.5/r;return e.createElement("svg",{className:"tl-overlay"},e.createElement("defs",null,e.createElement("g",{id:"tl-snap-point"},e.createElement("path",{className:"tl-snap-point",d:"M ".concat(-a,",").concat(-a," L ").concat(a,",").concat(a," M ").concat(-a,",").concat(a," L ").concat(a,",").concat(-a)}))),e.createElement("g",{transform:"scale(".concat(r,") translate(").concat(i,")")},o))})),Ks=Ur((function(t){var n=t.id,r=t.page,i=t.pageState,o=t.assets,a=t.snapLines,s=t.grid,u=t.users,l=t.userId,c=t.meta,d=t.performanceMode,f=t.externalContainerRef,h=t.showDashedBrush,p=t.hideHandles,v=t.hideBounds,g=t.hideIndicators,m=t.hideBindingHandles,y=t.hideCloneHandles,b=t.hideResizeHandles,w=t.hideRotateHandle,k=t.hideGrid,S=t.onBoundsChange,C=e.useRef(null),_=e.useRef(null),E=e.useRef(null);js.zoom=i.camera.zoom,function(t,n){var r=Ua(),i=r.inputs,o=r.callbacks,a=e.useRef(!1),s=e.useCallback((function(){var e,r;if(a.current){var s=null==(e=t.current)?void 0:e.getBoundingClientRect();if(s){var u={minX:s.left,maxX:s.left+s.width,minY:s.top,maxY:s.top+s.height,width:s.width,height:s.height};i.bounds=u,n(u),null==(r=o.onBoundsChange)||r.call(o,u)}}else a.current=!0}),[t,i,o.onBoundsChange]);e.useEffect((function(){var e=Xa.debounce(s,100);return window.addEventListener("scroll",e),window.addEventListener("resize",e),function(){window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}}),[]),e.useEffect((function(){var e=new Wo((function(e){i.isPinching||e[0].contentRect&&s()}));return t.current&&e.observe(t.current),function(){e.disconnect()}}),[t,i]),e.useEffect((function(){s()}),[t])}(C,S),Va(i.camera.zoom,f||C),function(){var t=Ua().callbacks;(0,e.useEffect)((function(){function e(){var e;null==(e=t.onShapeBlur)||e.call(t)}return $a.isMobileSafari()?(document.addEventListener("focusout",e),function(){return document.removeEventListener("focusout",e)}):function(){return null}}),[t])}(),function(t){var n=Ua().bounds;e.useEffect((function(){var e=function(e){e.preventDefault()},r=function(e){var t=e.touches[0].pageX,r=e.touches[0].radiusX||0;(t-r<10||t+r>n.width-10)&&e.preventDefault()},i=t.current;return i?(i.addEventListener("touchstart",e),i.addEventListener("gestureend",e),i.addEventListener("gesturechange",e),i.addEventListener("gesturestart",e),i.addEventListener("touchstart",r),function(){i&&(i.removeEventListener("touchstart",e),i.removeEventListener("gestureend",e),i.removeEventListener("gesturechange",e),i.removeEventListener("gesturestart",e),i.removeEventListener("touchstart",r))}):function(){}}),[t,n.width])}(C),function(t,n,r){var i=e.useRef(),o=e.useRef();e.useLayoutEffect((function(){return Jt((function(){var e=r.camera,a=e.zoom,s=e.point,u=a!==i.current,l=s!==o.current;if(i.current=a,o.current=s,u||l){var c=t.current;if(n&&"current"in n){var d=n.current;u&&d&&d.style.setProperty("--tl-zoom",a.toString()),c&&c.style.setProperty("transform","scale(".concat(a,") translateX(").concat(s[0],"px) translateY(").concat(s[1],"px)"))}}}))}),[r])}(E,_,i),function(t,n){e.useLayoutEffect((function(){if(n&&"current"in n){var e=null==n?void 0:n.current;if(!e)return;switch(t){case"transform_selected":e.style.setProperty("--tl-performance-all","auto"),e.style.setProperty("--tl-performance-selected","transform, contents");break;case"transform_all":e.style.setProperty("--tl-performance-all","transform, contents"),e.style.setProperty("--tl-performance-selected","transform, contents");break;case"translate_selected":e.style.setProperty("--tl-performance-all","auto"),e.style.setProperty("--tl-performance-selected","transform");break;case"translate_all":e.style.setProperty("--tl-performance-all","transform"),e.style.setProperty("--tl-performance-selected","transform");break;default:e.style.setProperty("--tl-performance-all","auto"),e.style.setProperty("--tl-performance-selected","auto")}}}),[t])}(d,_),function(){var t=Ua(),n=t.inputs,r=t.callbacks;e.useEffect((function(){var e=function(e){var t;null==(t=r.onKeyDown)||t.call(r,e.key,n.keydown(e),e)},t=function(e){var t;n.keyup(e),null==(t=r.onKeyUp)||t.call(r,e.key,n.keyup(e),e)};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}}),[n,r])}();var x=function(){var t=Ua(),n=t.callbacks,r=t.inputs;return e.useMemo((function(){return{onPointerDown:function(e){var t,i;if(!e.dead&&(e.dead=!0,r.pointerIsValid(e)&&(0===e.button||1===e.button)&&r.pointerIsValid(e))){e.currentTarget.setPointerCapture(e.pointerId);var o=r.pointerDown(e,"canvas");0!==e.button&&1!==e.button||(null==(t=n.onPointCanvas)||t.call(n,o,e),null==(i=n.onPointerDown)||i.call(n,o,e))}},onPointerMove:function(e){var t,i;if(!e.dead&&(e.dead=!0,r.pointerIsValid(e))){var o=r.pointerMove(e,"canvas");e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(t=n.onDragCanvas)||t.call(n,o,e)),null==(i=n.onPointerMove)||i.call(n,o,e)}},onPointerUp:function(e){var t,i,o,a;if(!e.dead&&(e.dead=!0,(0===e.button||1===e.button)&&(r.activePointer=void 0,r.pointerIsValid(e)))){var s=r.isDoubleClick(),u=r.pointerUp(e,"canvas");e.currentTarget.hasPointerCapture(e.pointerId)&&(null==(t=e.currentTarget)||t.releasePointerCapture(e.pointerId)),!s||u.altKey||u.metaKey||null==(i=n.onDoubleClickCanvas)||i.call(n,u,e),null==(o=n.onReleaseCanvas)||o.call(n,u,e),null==(a=n.onPointerUp)||a.call(n,u,e)}},onDrop:n.onDrop,onDragOver:n.onDragOver}}),[n,r])}();return e.createElement("div",{id:n,className:"tl-container",ref:_},e.createElement("div",ja({id:"canvas",className:"tl-absolute tl-canvas",ref:C},x),!k&&s&&e.createElement(Us,{grid:s,camera:i.camera}),e.createElement("div",{ref:E,className:"tl-absolute tl-layer","data-testid":"layer"},e.createElement(Ds,{page:r,pageState:i,assets:o,hideBounds:v,hideIndicators:g,hideHandles:p,hideBindingHandles:m,hideCloneHandles:y,hideResizeHandles:b,hideRotateHandle:w,meta:c}),u&&l&&e.createElement(Ns,{userId:l,users:u,page:r,meta:c}),i.brush&&e.createElement(ds,{brush:i.brush,dashed:h,zoom:i.camera.zoom}),u&&e.createElement(Ls,{userId:l,users:u})),e.createElement(Vs,{camera:i.camera},a&&e.createElement(Fs,{snapLines:a}))))})),Zs=Ur((function(t){var n=t,r=n.id,i=void 0===r?"tl":r,o=n.shapeUtils,a=n.page,s=n.pageState,u=n.assets,l=void 0===u?Ws:u,c=n.users,d=n.userId,f=n.theme,h=n.meta,p=n.snapLines,v=n.grid,g=n.containerRef,m=n.performanceMode,y=n.hideHandles,w=void 0!==y&&y,k=n.hideIndicators,S=void 0!==k&&k,C=n.hideCloneHandles,_=void 0!==C&&C,E=n.hideBindingHandles,x=void 0!==E&&E,I=n.hideResizeHandles,P=void 0!==I&&I,M=n.hideRotateHandles,T=void 0!==M&&M,O=n.hideBounds,R=void 0!==O&&O,D=n.hideGrid,A=void 0===D||D,L=n.showDashedBrush,B=void 0!==L&&L,j=Fa(n,["id","shapeUtils","page","pageState","assets","users","userId","theme","meta","snapLines","grid","containerRef","performanceMode","hideHandles","hideIndicators","hideCloneHandles","hideBindingHandles","hideResizeHandles","hideRotateHandles","hideBounds","hideGrid","showDashedBrush"]);is(f,"#"+i);var N=e.useRef(null),F=e.useRef(s);e.useEffect((function(){F.current=s}),[s]);var z=b(e.useState((function(){return{callbacks:j,shapeUtils:o,rSelectionBounds:N,rPageState:F,bounds:{minX:0,minY:0,maxX:1/0,maxY:1/0,width:1/0,height:1/0},inputs:new Bs}})),2),H=z[0],U=z[1],V=e.useCallback((function(e){U((function(t){return Na(ja({},t),{bounds:e})}))}),[]);return e.createElement(Ha.Provider,{value:H},e.createElement(Ks,{id:i,page:a,pageState:s,assets:l,snapLines:p,grid:v,users:c,userId:d,externalContainerRef:g,hideBounds:R,hideIndicators:S,hideHandles:w,hideCloneHandles:_,hideBindingHandles:x,hideRotateHandle:T,hideResizeHandles:P,hideGrid:A,showDashedBrush:B,onBoundsChange:V,performanceMode:m,meta:h}))})),Ws={},Ys=e.forwardRef((function(t,n){var r=t,i=r.children,o=r.className,a=void 0===o?"":o,s=Fa(r,["children","className"]);return e.createElement(Kr,null,(function(){return e.createElement("div",ja({ref:n,className:"tl-positioned-div ".concat(a),draggable:!1},s),e.createElement("div",{className:"tl-inner-div"},i))}))})),Xs=k((function t(){var n=this;S(this,t),za(this,"refMap",new Map),za(this,"boundsCache",new WeakMap),za(this,"showCloneHandles",!1),za(this,"hideBounds",!1),za(this,"isStateful",!1),za(this,"shouldRender",(function(e,t){return!0})),za(this,"getRef",(function(t){return n.refMap.has(t.id)||n.refMap.set(t.id,e.createRef()),n.refMap.get(t.id)})),za(this,"hitTestBounds",(function(e,t){var r=n.getBounds(e),i=$a.getRotatedCorners(r,e.rotation);return i.every((function(e){return $a.pointInBounds(e,t)}))||Ma(i,t).length>0})),za(this,"getRotatedBounds",(function(e){return $a.getBoundsFromPoints($a.getRotatedCorners(n.getBounds(e),e.rotation))}))}));function $s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}za(Xs,"Component",(function(t){return e.forwardRef(t)})),za(Xs,"Indicator",(function(e){return e}));var Gs,qs,Qs=["variants","compoundVariants","defaultVariants"],Js=["css"],eu=["css"],tu="colors",nu="sizes",ru="space",iu={gap:ru,gridGap:ru,columnGap:ru,gridColumnGap:ru,rowGap:ru,gridRowGap:ru,inset:ru,insetBlock:ru,insetBlockEnd:ru,insetBlockStart:ru,insetInline:ru,insetInlineEnd:ru,insetInlineStart:ru,margin:ru,marginTop:ru,marginRight:ru,marginBottom:ru,marginLeft:ru,marginBlock:ru,marginBlockEnd:ru,marginBlockStart:ru,marginInline:ru,marginInlineEnd:ru,marginInlineStart:ru,padding:ru,paddingTop:ru,paddingRight:ru,paddingBottom:ru,paddingLeft:ru,paddingBlock:ru,paddingBlockEnd:ru,paddingBlockStart:ru,paddingInline:ru,paddingInlineEnd:ru,paddingInlineStart:ru,top:ru,right:ru,bottom:ru,left:ru,scrollMargin:ru,scrollMarginTop:ru,scrollMarginRight:ru,scrollMarginBottom:ru,scrollMarginLeft:ru,scrollMarginX:ru,scrollMarginY:ru,scrollMarginBlock:ru,scrollMarginBlockEnd:ru,scrollMarginBlockStart:ru,scrollMarginInline:ru,scrollMarginInlineEnd:ru,scrollMarginInlineStart:ru,scrollPadding:ru,scrollPaddingTop:ru,scrollPaddingRight:ru,scrollPaddingBottom:ru,scrollPaddingLeft:ru,scrollPaddingX:ru,scrollPaddingY:ru,scrollPaddingBlock:ru,scrollPaddingBlockEnd:ru,scrollPaddingBlockStart:ru,scrollPaddingInline:ru,scrollPaddingInlineEnd:ru,scrollPaddingInlineStart:ru,fontSize:"fontSizes",background:tu,backgroundColor:tu,backgroundImage:tu,borderImage:tu,border:tu,borderBlock:tu,borderBlockEnd:tu,borderBlockStart:tu,borderBottom:tu,borderBottomColor:tu,borderColor:tu,borderInline:tu,borderInlineEnd:tu,borderInlineStart:tu,borderLeft:tu,borderLeftColor:tu,borderRight:tu,borderRightColor:tu,borderTop:tu,borderTopColor:tu,caretColor:tu,color:tu,columnRuleColor:tu,fill:tu,outline:tu,outlineColor:tu,stroke:tu,textDecorationColor:tu,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:nu,minBlockSize:nu,maxBlockSize:nu,inlineSize:nu,minInlineSize:nu,maxInlineSize:nu,width:nu,minWidth:nu,maxWidth:nu,height:nu,minHeight:nu,maxHeight:nu,flexBasis:nu,gridTemplateColumns:nu,gridTemplateRows:nu,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},ou=function(e,t){return"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t},au=function(){var e=Object.create(null);return function(t,n){for(var r=function(e){return JSON.stringify(e,ou)}(t),i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return r in e?e[r]:e[r]=n.apply(void 0,[t].concat(o))}},su=Symbol.for("sxs.internal"),uu=function(e,t){return Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))},lu=function(e){for(var t in e)return!0;return!1},cu=Object.prototype.hasOwnProperty,du=function(e){return e.includes("-")?e:e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},fu=/\s+(?![^()]*\))/,hu=function(e){return function(t){return e.apply(void 0,(0,c.Z)("string"==typeof t?String(t).split(fu):[t]))}},pu={appearance:function(e){return{WebkitAppearance:e,appearance:e}},backfaceVisibility:function(e){return{WebkitBackfaceVisibility:e,backfaceVisibility:e}},backdropFilter:function(e){return{WebkitBackdropFilter:e,backdropFilter:e}},backgroundClip:function(e){return{WebkitBackgroundClip:e,backgroundClip:e}},boxDecorationBreak:function(e){return{WebkitBoxDecorationBreak:e,boxDecorationBreak:e}},clipPath:function(e){return{WebkitClipPath:e,clipPath:e}},content:function(e){return{content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}},hyphens:function(e){return{WebkitHyphens:e,hyphens:e}},maskImage:function(e){return{WebkitMaskImage:e,maskImage:e}},maskSize:function(e){return{WebkitMaskSize:e,maskSize:e}},tabSize:function(e){return{MozTabSize:e,tabSize:e}},textSizeAdjust:function(e){return{WebkitTextSizeAdjust:e,textSizeAdjust:e}},userSelect:function(e){return{WebkitUserSelect:e,userSelect:e}},marginBlock:hu((function(e,t){return{marginBlockStart:e,marginBlockEnd:t||e}})),marginInline:hu((function(e,t){return{marginInlineStart:e,marginInlineEnd:t||e}})),maxSize:hu((function(e,t){return{maxBlockSize:e,maxInlineSize:t||e}})),minSize:hu((function(e,t){return{minBlockSize:e,minInlineSize:t||e}})),paddingBlock:hu((function(e,t){return{paddingBlockStart:e,paddingBlockEnd:t||e}})),paddingInline:hu((function(e,t){return{paddingInlineStart:e,paddingInlineEnd:t||e}}))},vu=/([\d.]+)([^]*)/,gu=function(e,t){return e.length?e.reduce((function(e,n){return e.push.apply(e,(0,c.Z)(t.map((function(e){return e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?":is(".concat(n,")"):n):n+" "+e})))),e}),[]):t},mu=function(e,t){return e in yu&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(function(t,n,r,i){return n+("stretch"===r?"-moz-available".concat(i,";").concat(du(e),":").concat(n,"-webkit-fill-available"):"-moz-fit-content".concat(i,";").concat(du(e),":").concat(n,"fit-content"))+i})):String(t)},yu={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},bu=function(e){return e?e+"-":""},wu=function(e,t,n){return e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(function(e,r,i,o,a){return"$"==o==!!i?e:(r||"--"==o?"calc(":"")+"var(--"+("$"===o?bu(t)+(a.includes("$")?"":bu(n))+a.replace(/\$/g,"-"):a)+")"+(r||"--"==o?"*"+(r||"")+(i||"1")+")":"")}))},ku=/\s*,\s*(?![^()]*\))/,Su=Object.prototype.toString,Cu=function(e,t,n,r,i){var o,a,s;!function e(t,n,u){var l,d;(function t(f){for(l in f){var h,p=64===l.charCodeAt(0),v=C(p&&Array.isArray(f[l])?f[l]:[f[l]]);try{for(v.s();!(h=v.n()).done;){d=h.value;var g=/[A-Z]/.test(E=l)?E:E.replace(/-[^]/g,(function(e){return e[1].toUpperCase()})),m="object"==typeof d&&d&&d.toString===Su&&(!r.utils[g]||!n.length);if(g in r.utils&&!m){var y=r.utils[g];if(y!==a){a=y,t(y(d)),a=null;continue}}else if(g in pu){var w=pu[g];if(w!==s){s=w,t(w(d)),s=null;continue}}if(p&&(_=l.slice(1)in r.media?"@media "+r.media[l.slice(1)]:l,l=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(function(e,t,n,r,i,o){var a=vu.test(t),s=.0625*(a?-1:1),u=b(a?[r,t]:[t,r],2),l=u[0],c=u[1];return"("+("="===n[0]?"":">"===n[0]===a?"max-":"min-")+l+":"+("="!==n[0]&&1===n.length?c.replace(vu,(function(e,t,r){return Number(t)+s*(">"===n?1:-1)+r})):c)+(i?") and ("+(">"===i[0]?"min-":"max-")+l+":"+(1===i.length?o.replace(vu,(function(e,t,n){return Number(t)+s*(">"===i?-1:1)+n})):o):"")+")"}))),m){var k=p?u.concat(l):(0,c.Z)(u),S=p?(0,c.Z)(n):gu(n,l.split(ku));void 0!==o&&i(_u.apply(void 0,(0,c.Z)(o))),o=void 0,e(d,S,k)}else void 0===o&&(o=[[],n,u]),l=p||36!==l.charCodeAt(0)?l:"--".concat(bu(r.prefix)).concat(l.slice(1).replace(/\$/g,"-")),d=m?d:"number"==typeof d?d&&g in Eu?String(d)+"px":String(d):wu(mu(g,null==d?"":d),r.prefix,r.themeMap[g]),o[0].push("".concat(p?"".concat(l," "):"".concat(du(l),":")).concat(d))}}catch(x){v.e(x)}finally{v.f()}}var _,E})(t),void 0!==o&&i(_u.apply(void 0,(0,c.Z)(o))),o=void 0}(e,t,n)},_u=function(e,t,n){return"".concat(n.map((function(e){return"".concat(e,"{")})).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(n.length?n.length+1:0).join("}"))},Eu={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},xu=function(e){return String.fromCharCode(e+(e>25?39:97))},Iu=function(e){return function(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=xu(t%52)+n;return xu(t%52)+n}(function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e}(5381,JSON.stringify(e))>>>0)},Pu=["themed","global","styled","onevar","resonevar","allvar","inline"],Mu=function(e){if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},Tu=function(e){var t=e.group,n=t.cssRules.length;e.apply=function(e){try{t.insertRule(e,n),++n}catch(e){}}},Ou=Symbol(),Ru=au(),Du=function(e,t){return Ru(e,(function(){return function(){for(var n={type:null,composers:new Set},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var a=0,s=i;a<s.length;a++){var u=s[a];if(null!=u)if(u[su]){null==n.type&&(n.type=u[su].type);var l,c=C(u[su].composers);try{for(c.s();!(l=c.n()).done;){var d=l.value;n.composers.add(d)}}catch(f){c.e(f)}finally{c.f()}}else u.constructor!==Object||u.$$typeof?null==n.type&&(n.type=u):n.composers.add(Au(u,e))}return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),Lu(e,n,t)}}))},Au=function(e,t){var n,r,o=e.variants,a=e.compoundVariants,s=e.defaultVariants,u=$s(e,Qs),l="".concat(bu(t.prefix),"c-").concat(Iu(u)),c=[],d=[],f=Object.create(null),h=[];for(var p in s)f[p]=String(s[p]);if("object"==typeof o&&o)for(var v in o){n=f,r=v,cu.call(n,r)||(f[v]="undefined");var g=o[v];for(var m in g){var y=i({},v,String(m));"undefined"===String(m)&&h.push(v);var b=g[m],w=[y,b,!lu(b)];c.push(w)}}if("object"==typeof a&&a){var k,S=C(a);try{for(S.s();!(k=S.n()).done;){var _=k.value,E=_.css,x=$s(_,Js);for(var I in E="object"==typeof E&&E||{},x)x[I]=String(x[I]);var P=[x,E,!lu(E)];d.push(P)}}catch(M){S.e(M)}finally{S.f()}}return[l,u,c,d,f,h]},Lu=function(e,t,n){var r,o=b(Bu(t.composers),4),s=o[0],u=o[1],l=o[2],d=o[3],f="function"==typeof t.type||t.type.$$typeof?function(e){function t(){for(var n=0;n<t[Ou].length;n++){var r=b(t[Ou][n],2),i=r[0],o=r[1];e.rules[i].apply(o)}return t[Ou]=[],null}return t[Ou]=[],t.rules={},Pu.forEach((function(e){return t.rules[e]={apply:function(n){return t[Ou].push([e,n])}}})),t}(n):null,h=(f||n).rules,p=".".concat(s).concat(u.length>1?":where(.".concat(u.slice(1).join("."),")"):""),v=function(r){var i=r="object"==typeof r&&r||Nu,o=i.css,v=$s(i,eu),g={};for(var m in l)if(delete v[m],m in r){var y=r[m];"object"==typeof y&&y?g[m]=a({"@initial":l[m]},y):(y=String(y),g[m]="undefined"!==y||d.has(m)?y:l[m])}else g[m]=l[m];var w,k=new Set((0,c.Z)(u)),S=C(t.composers);try{for(S.s();!(w=S.n()).done;){var _=b(w.value,4),E=_[0],x=_[1],I=_[2],P=_[3];n.rules.styled.cache.has(E)||(n.rules.styled.cache.add(E),Cu(x,[".".concat(E)],[],e,(function(e){h.styled.apply(e)})));var M,T=ju(I,g,e.media),O=ju(P,g,e.media,!0),R=C(T);try{for(R.s();!(M=R.n()).done;){var D=M.value;if(void 0!==D){var A,L=C(D);try{var B=function(){var t=b(A.value,3),r=t[0],i=t[1],o=t[2],a="".concat(E,"-").concat(Iu(i),"-").concat(r);k.add(a);var s=(o?n.rules.resonevar:n.rules.onevar).cache,u=o?h.resonevar:h.onevar;s.has(a)||(s.add(a),Cu(i,[".".concat(a)],[],e,(function(e){u.apply(e)})))};for(L.s();!(A=L.n()).done;)B()}catch(q){L.e(q)}finally{L.f()}}}}catch(q){R.e(q)}finally{R.f()}var j,N=C(O);try{for(N.s();!(j=N.n()).done;){var F=j.value;if(void 0!==F){var z,H=C(F);try{for(H.s();!(z=H.n()).done;){var U=b(z.value,2),V=U[0],K=U[1],Z="".concat(E,"-").concat(Iu(K),"-").concat(V);k.add(Z),n.rules.allvar.cache.has(Z)||(n.rules.allvar.cache.add(Z),Cu(K,[".".concat(Z)],[],e,(function(e){h.allvar.apply(e)})))}}catch(q){H.e(q)}finally{H.f()}}}}catch(q){N.e(q)}finally{N.f()}}}catch(q){S.e(q)}finally{S.f()}if("object"==typeof o&&o){var W="".concat(s,"-i").concat(Iu(o),"-css");k.add(W),n.rules.inline.cache.has(W)||(n.rules.inline.cache.add(W),Cu(o,[".".concat(W)],[],e,(function(e){h.inline.apply(e)})))}var Y,X=C(String(r.className||"").trim().split(/\s+/));try{for(X.s();!(Y=X.n()).done;){var $=Y.value;$&&k.add($)}}catch(q){X.e(q)}finally{X.f()}var G=v.className=(0,c.Z)(k).join(" ");return{type:t.type,className:G,selector:p,props:v,toString:function(){return G},deferredInjector:f}};return uu(v,(i(r={className:s,selector:p},su,t),i(r,"toString",(function(){return n.rules.styled.cache.has(s)||v(),s})),r))},Bu=function(e){var t,n="",r=[],i={},o=[],a=C(e);try{for(a.s();!(t=a.n()).done;){var s=b(t.value,6),u=s[0],l=s[4],d=s[5];for(var f in""===n&&(n=u),r.push(u),o.push.apply(o,(0,c.Z)(d)),l){var h=l[f];(void 0===i[f]||"undefined"!==h||d.includes(h))&&(i[f]=h)}}}catch(p){a.e(p)}finally{a.f()}return[n,r,i,new Set(o)]},ju=function(e,t,n,r){var o,a=[],s=C(e);try{e:for(s.s();!(o=s.n()).done;){var u=b(o.value,3),l=u[0],c=u[1];if(!u[2]){var d=void 0,f=0,h=!1;for(d in l){var p=l[d],v=t[d];if(v!==p){if("object"!=typeof v||!v)continue e;var g=void 0,m=void 0,y=0;for(var w in v){if(p===String(v[w])){if("@initial"!==w){var k=w.slice(1);(m=m||[]).push(k in n?n[k]:w.replace(/^@media ?/,"")),h=!0}f+=y,g=!0}++y}if(m&&m.length&&(c=i({},"@media "+m.join(", "),c)),!g)continue e}}(a[f]=a[f]||[]).push([r?"cv":"".concat(d,"-").concat(l[d]),c,h])}}}catch(S){s.e(S)}finally{s.f()}return a},Nu={},Fu=au(),zu=function(e,t){return Fu(e,(function(){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(){var n,i=C(r);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=Iu(o="object"==typeof o&&o||{});if(!t.rules.global.cache.has(a)){if(t.rules.global.cache.add(a),"@import"in o){var s,u=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1,l=C([].concat(o["@import"]));try{for(l.s();!(s=l.n()).done;){var c=s.value;c=c.includes('"')||c.includes("'")?c:'"'.concat(c,'"'),t.sheet.insertRule("@import ".concat(c,";"),u++)}}catch(d){l.e(d)}finally{l.f()}delete o["@import"]}Cu(o,[],[],e,(function(e){t.rules.global.apply(e)}))}}}catch(d){i.e(d)}finally{i.f()}return""};return uu(o,{toString:o})}}))},Hu=au(),Uu=function(e,t){return Hu(e,(function(){return function(n){var r="".concat(bu(e.prefix),"k-").concat(Iu(n)),i=function(){if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);var i=[];Cu(n,[],[],e,(function(e){return i.push(e)}));var o="@keyframes ".concat(r,"{").concat(i.join(""),"}");t.rules.global.apply(o)}return r};return uu(i,{get name(){return i()},toString:i})}}))},Vu=function(){function e(t,n,r,i){S(this,e),this.token=null==t?"":String(t),this.value=null==n?"":String(n),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}return k(e,[{key:"computedValue",get:function(){return"var("+this.variable+")"}},{key:"variable",get:function(){return"--"+bu(this.prefix)+bu(this.scale)+this.token}},{key:"toString",value:function(){return this.computedValue}}]),e}(),Ku=au(),Zu=function(e,t){return Ku(e,(function(){return function(n,r){r="object"==typeof n&&n||Object(r);var i=".".concat(n=(n="string"==typeof n?n:"")||"".concat(bu(e.prefix),"t-").concat(Iu(r))),o={},s=[];for(var u in r)for(var l in o[u]={},r[u]){var c="--".concat(bu(e.prefix)).concat(u,"-").concat(l),d=wu(String(r[u][l]),e.prefix,u);o[u][l]=new Vu(l,d,u,e.prefix),s.push("".concat(c,":").concat(d))}var f=function(){if(s.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);var i="".concat(r===e.theme?":root,":"",".").concat(n,"{").concat(s.join(";"),"}");t.rules.themed.apply(i)}return n};return a(a({},o),{},{get className(){return f()},selector:i,toString:f})}}))},Wu=au(),Yu=au(),Xu=function(t){var n=function(e){var t=!1,n=Wu(e,(function(e){t=!0;var n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},s={prefix:n,media:r,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||a({},iu),utils:"object"==typeof e.utils&&e.utils||{}},u=function(e){var t,n=function(){var e=t.sheet.cssRules;return[].map.call(e,(function(n,r){var i=n.cssText,o="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(o=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(var a in t.rules)if(t.rules[a].group===n)return"--sxs{--sxs:".concat((0,c.Z)(t.rules[a].cache).join(" "),"}").concat(i);return n.cssRules.length?"".concat(o).concat(i):""}return i})).join("")};return function r(){if(t){var i=t,o=i.rules,a=i.sheet;if(!a.deleteRule){for(;3===Object(Object(a.cssRules)[0]).type;)a.cssRules.splice(0,1);a.cssRules=[]}for(var s in o)delete o[s]}var u,l=C(Object(e).styleSheets||[]);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(Mu(c)){for(var d=0,f=c.cssRules;f[d];++d){var h=Object(f[d]);if(1===h.type){var p=Object(f[d+1]);if(4===p.type){++d;var v=h.cssText;if(v.startsWith("--sxs")){var g=v.slice(14,-3).trim().split(/\s+/),m=Pu[g[0]];m&&(t||(t={sheet:c,reset:r,rules:{},toString:n}),t.rules[m]={group:p,index:d,cache:new Set(g)})}}}}if(t)break}}}catch(x){l.e(x)}finally{l.f()}t||(t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:function e(t,n){return{type:n,cssRules:[],insertRule:function(t,n){this.cssRules.splice(n,0,e(t,{import:3,undefined:1}[(t.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===t?"@media{".concat([].map.call(this.cssRules,(function(e){return e.cssText})).join(""),"}"):t}}}("","text/css"),rules:{},reset:r,toString:n});for(var y=t,b=y.sheet,w=y.rules,k=Pu.length-1;k>=0;--k){var S=Pu[k];if(!w[S]){var _=Pu[k+1],E=w[_]?w[_].index:b.cssRules.length;b.insertRule("@media{}",E),b.insertRule("--sxs{--sxs:".concat(k,"}"),E),w[S]={group:b.cssRules[E+1],index:E,cache:new Set([k])}}Tu(w[S])}}(),t}(i),l={css:Du(s,u),globalCss:zu(s,u),keyframes:Uu(s,u),createTheme:Zu(s,u),reset:function(){u.reset(),l.theme.toString()},theme:{},sheet:u,config:s,prefix:n,getCssText:u.toString,toString:u.toString};return String(l.theme=l.createTheme(o)),l}));return t||n.reset(),n}(t);return n.styled=function(t){var n=t.config,r=t.sheet;return Yu(n,(function(){var t=Du(n,r);return function(){var n=t.apply(void 0,arguments),r=n[su].type,i=e.forwardRef((function(t,i){var o=t&&t.as||r,a=n(t),s=a.props,u=a.deferredInjector;return delete s.as,s.ref=i,u?e.createElement(e.Fragment,null,e.createElement(o,s),e.createElement(u,null)):e.createElement(o,s)}));return i.className=n.className,i.displayName="Styled.".concat(r.displayName||r.name||r),i.selector=n.selector,i.toString=function(){return n.selector},i[su]=n[su],i}}))}(n),n},$u=function(){return Gs||(Gs=Xu())},Gu=function(){var e;return(e=$u()).styled.apply(e,arguments)};function qu(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function Qu(){return qs||(qs=function(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=qu(n);return function(e,n){return r.then((function(r){return n(r.transaction(t,e).objectStore(t))}))}}("keyval-store","keyval")),qs}function Ju(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qu();return t("readonly",(function(t){return qu(t.get(e))}))}function el(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qu();return n("readwrite",(function(n){return n.put(t,e),qu(n.transaction)}))}var tl=n(11);function nl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e*r(.5-t*(.5-n))}function rl(e){return[-e[0],-e[1]]}function il(e,t){return[e[0]+t[0],e[1]+t[1]]}function ol(e,t){return[e[0]-t[0],e[1]-t[1]]}function al(e,t){return[e[0]*t,e[1]*t]}function sl(e){return[e[1],-e[0]]}function ul(e,t){return e[0]*t[0]+e[1]*t[1]}function ll(e,t){return e[0]===t[0]&&e[1]===t[1]}function cl(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(ol(e,t))}function dl(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function fl(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function hl(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*r+a*i;return[o*i-a*r+t[0],s+t[1]]}function pl(e,t,n){return il(e,al(ol(t,e),n))}function vl(e,t,n){return il(e,al(t,n))}var gl=Math.min,ml=Math.PI,yl=.275,bl=ml+1e-4;function wl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,i=t.smoothing,o=void 0===i?.5:i,a=t.thinning,s=void 0===a?.5:a,u=t.simulatePressure,l=void 0===u||u,c=t.easing,d=void 0===c?function(e){return e}:c,f=t.start,h=void 0===f?{}:f,p=t.end,v=void 0===p?{}:p,g=t.last,m=void 0!==g&&g,y=h.cap,b=void 0===y||y,w=h.easing,k=void 0===w?function(e){return e*(2-e)}:w,S=v.cap,C=void 0===S||S,_=v.easing,E=void 0===_?function(e){return--e*e*e+1}:_;if(0===e.length||r<=0)return[];for(var x,I=e[e.length-1].runningLength,P=!1===h.taper?0:!0===h.taper?Math.max(r,I):h.taper,M=!1===v.taper?0:!0===v.taper?Math.max(r,I):v.taper,T=Math.pow(r*o,2),O=[],R=[],D=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(l){var i=gl(1,t.distance/r),o=gl(1,1-i);n=gl(1,e+i*yl*(o-e))}return(e+n)/2}),e[0].pressure),A=nl(r,s,e[e.length-1].pressure,d),L=e[0].vector,B=e[0].point,j=B,N=B,F=j,z=!1,H=0;H<e.length;H++){var U=e[H].pressure,V=e[H],K=V.point,Z=V.vector,W=V.distance,Y=V.runningLength;if(!(H<e.length-1&&I-Y<3)){if(s){if(l){var X=gl(1,W/r),$=gl(1,1-X);U=gl(1,D+X*yl*($-D))}A=nl(r,s,U,d)}else A=r/2;void 0===x&&(x=A);var G=Y<P?k(Y/P):1,q=I-Y<M?E((I-Y)/M):1;A=Math.max(.01,A*Math.min(G,q));var Q=(H<e.length-1?e[H+1]:e[H]).vector,J=H<e.length-1?ul(Z,Q):1,ee=ul(Z,L)<0&&!z,te=null!==J&&J<0;if(ee||te){for(var ne=al(sl(L),A),re=1/13,ie=0;ie<=1;ie+=re)N=hl(ol(K,ne),K,bl*ie),O.push(N),F=hl(il(K,ne),K,bl*-ie),R.push(F);B=N,j=F,te&&(z=!0)}else if(z=!1,H!==e.length-1){var oe=al(sl(pl(Q,Z,J)),A);N=ol(K,oe),(H<=1||cl(B,N)>T)&&(O.push(N),B=N),F=il(K,oe),(H<=1||cl(j,F)>T)&&(R.push(F),j=F),D=U,L=Z}else{var ae=al(sl(Z),A);O.push(ol(K,ae)),R.push(il(K,ae))}}}var se=e[0].point.slice(0,2),ue=e.length>1?e[e.length-1].point.slice(0,2):il(e[0].point,[1,1]),le=[],ce=[];if(1===e.length){if(!P&&!M||m){for(var de=vl(se,dl(sl(ol(se,ue))),-(x||A)),fe=[],he=1/13,pe=he;pe<=1;pe+=he)fe.push(hl(de,se,2*bl*pe));return fe}}else{if(!(P||M&&1===e.length))if(b)for(var ve=1/13,ge=ve;ge<=1;ge+=ve){var me=hl(R[0],se,bl*ge);le.push(me)}else{var ye=ol(O[0],R[0]),be=al(ye,.5),we=al(ye,.51);le.push(ol(se,be),ol(se,we),il(se,we),il(se,be))}var ke=sl(rl(e[e.length-1].vector));if(M||P&&1===e.length)ce.push(ue);else if(C)for(var Se=vl(ue,ke,A),Ce=1/29,_e=Ce;_e<1;_e+=Ce)ce.push(hl(Se,ue,3*bl*_e));else ce.push(il(ue,al(ke,A)),il(ue,al(ke,.99*A)),ol(ue,al(ke,.99*A)),ol(ue,al(ke,A)))}return O.concat(ce,R.reverse(),le)}function kl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,i=void 0===r?.5:r,o=n.size,a=void 0===o?16:o,s=n.last,u=void 0!==s&&s;if(0===e.length)return[];var l=.15+.85*(1-i),d=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===d.length){var f=d[1];d=d.slice(0,-1);for(var h=1;h<5;h++)d.push(pl(d[0],f,h/4))}1===d.length&&(d=[].concat((0,c.Z)(d),[[].concat((0,c.Z)(il(d[0],[1,1])),(0,c.Z)(d[0].slice(2)))]));for(var p=[{point:[d[0][0],d[0][1]],pressure:d[0][2]>=0?d[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],v=!1,g=0,m=p[0],y=d.length-1,b=1;b<d.length;b++){var w=u&&b===y?d[b].slice(0,2):pl(m.point,d[b],l);if(!ll(m.point,w)){var k=fl(w,m.point);if(g+=k,b<y&&!v){if(g<a)continue;v=!0}m={point:w,pressure:d[b][2]>=0?d[b][2]:.5,vector:dl(ol(m.point,w)),distance:k,runningLength:g},p.push(m)}}return p[0].vector=(null==(t=p[1])?void 0:t.vector)||[0,0],p}var Sl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return wl(kl(e,t),t)};function Cl(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e,r,o){return r||o?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function s(){var n=r(t);if(!o(a,n)){var i=a;e(a=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,o):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,o),o}function _l(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e,r,o){return r||o?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var a=r(t);function s(){var n=r(t);if(!o(a,n)){var i=a;e(a=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,o):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,o),o}var El="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?e.useEffect:e.useLayoutEffect;var xl="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function Il(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function Pl(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function Ml(e){"string"!==typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var Tl={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":xl?173:189,"=":xl?61:187,";":xl?59:186,"'":222,"[":219,"]":221,"\\":220},Ol={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Rl={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Dl={16:!1,18:!1,17:!1,91:!1},Al={},Ll=1;Ll<20;Ll++)Tl["f".concat(Ll)]=111+Ll;var Bl=[],jl=!1,Nl="all",Fl=[],zl=function(e){return Tl[e.toLowerCase()]||Ol[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function Hl(e){Nl=e||"all"}function Ul(){return Nl||"all"}var Vl=function(e){var t=e.key,n=e.scope,r=e.method,i=e.splitKey,o=void 0===i?"+":i;Ml(t).forEach((function(e){var t=e.split(o),i=t.length,a=t[i-1],s="*"===a?"*":zl(a);if(Al[s]){n||(n=Ul());var u=i>1?Pl(Ol,t):[];Al[s]=Al[s].filter((function(e){return!((!r||e.method===r)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,o=0;o<n.length;o++)-1===r.indexOf(n[o])&&(i=!1);return i}(e.mods,u))}))}}))};function Kl(e,t,n,r){var i;if(t.element===r&&(t.scope===n||"all"===t.scope)){for(var o in i=t.mods.length>0,Dl)Object.prototype.hasOwnProperty.call(Dl,o)&&(!Dl[o]&&t.mods.indexOf(+o)>-1||Dl[o]&&-1===t.mods.indexOf(+o))&&(i=!1);(0!==t.mods.length||Dl[16]||Dl[18]||Dl[17]||Dl[91])&&!i&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function Zl(e,t){var n=Al["*"],r=e.keyCode||e.which||e.charCode;if(Wl.filter.call(this,e)){if(93!==r&&224!==r||(r=91),-1===Bl.indexOf(r)&&229!==r&&Bl.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=Rl[t];e[t]&&-1===Bl.indexOf(n)?Bl.push(n):!e[t]&&Bl.indexOf(n)>-1?Bl.splice(Bl.indexOf(n),1):"metaKey"===t&&e[t]&&3===Bl.length&&(e.ctrlKey||e.shiftKey||e.altKey||(Bl=Bl.slice(Bl.indexOf(n))))})),r in Dl){for(var i in Dl[r]=!0,Ol)Ol[i]===r&&(Wl[i]=!0);if(!n)return}for(var o in Dl)Object.prototype.hasOwnProperty.call(Dl,o)&&(Dl[o]=e[Rl[o]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===Bl.indexOf(17)&&Bl.push(17),-1===Bl.indexOf(18)&&Bl.push(18),Dl[17]=!0,Dl[18]=!0);var a=Ul();if(n)for(var s=0;s<n.length;s++)n[s].scope===a&&("keydown"===e.type&&n[s].keydown||"keyup"===e.type&&n[s].keyup)&&Kl(e,n[s],a,t);if(r in Al)for(var u=0;u<Al[r].length;u++)if(("keydown"===e.type&&Al[r][u].keydown||"keyup"===e.type&&Al[r][u].keyup)&&Al[r][u].key){for(var l=Al[r][u],c=l.splitKey,d=l.key.split(c),f=[],h=0;h<d.length;h++)f.push(zl(d[h]));f.sort().join("")===Bl.sort().join("")&&Kl(e,l,a,t)}}}function Wl(e,t,n){Bl=[];var r=Ml(e),i=[],o="all",a=document,s=0,u=!1,l=!0,c="+",d=!1;for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(o=t.scope),t.element&&(a=t.element),t.keyup&&(u=t.keyup),void 0!==t.keydown&&(l=t.keydown),void 0!==t.capture&&(d=t.capture),"string"===typeof t.splitKey&&(c=t.splitKey)),"string"===typeof t&&(o=t);s<r.length;s++)i=[],(e=r[s].split(c)).length>1&&(i=Pl(Ol,e)),(e="*"===(e=e[e.length-1])?"*":zl(e))in Al||(Al[e]=[]),Al[e].push({keyup:u,keydown:l,scope:o,mods:i,shortcut:r[s],method:n,key:r[s],splitKey:c,element:a});"undefined"!==typeof a&&!function(e){return Fl.indexOf(e)>-1}(a)&&window&&(Fl.push(a),Il(a,"keydown",(function(e){Zl(e,a)}),d),jl||(jl=!0,Il(window,"focus",(function(){Bl=[]}),d)),Il(a,"keyup",(function(e){Zl(e,a),function(e){var t=e.keyCode||e.which||e.charCode,n=Bl.indexOf(t);if(n>=0&&Bl.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&Bl.splice(0,Bl.length),93!==t&&224!==t||(t=91),t in Dl)for(var r in Dl[t]=!1,Ol)Ol[r]===t&&(Wl[r]=!1)}(e)}),d))}var Yl={setScope:Hl,getScope:Ul,deleteScope:function(e,t){var n,r;for(var i in e||(e=Ul()),Al)if(Object.prototype.hasOwnProperty.call(Al,i))for(n=Al[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Ul()===e&&Hl(t||"all")},getPressedKeyCodes:function(){return Bl.slice(0)},isPressed:function(e){return"string"===typeof e&&(e=zl(e)),-1!==Bl.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(r=!1),r},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(Al).forEach((function(n){var r=Al[n].find((function(n){return n.scope===t&&n.shortcut===e}));r&&r.method&&r.method()}))},unbind:function(e){if("undefined"===typeof e)Object.keys(Al).forEach((function(e){return delete Al[e]}));else if(Array.isArray(e))e.forEach((function(e){e.key&&Vl(e)}));else if("object"===typeof e)e.key&&Vl(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];"function"===typeof i&&(o=i,i=""),Vl({key:e,scope:i,method:o,splitKey:"+"})}},keyMap:Tl,modifier:Ol,modifierMap:Rl};for(var Xl in Yl)Object.prototype.hasOwnProperty.call(Yl,Xl)&&(Wl[Xl]=Yl[Xl]);if("undefined"!==typeof window){var $l=window.hotkeys;Wl.noConflict=function(e){return e&&window.hotkeys===Wl&&(window.hotkeys=$l),Wl},window.hotkeys=Wl}Wl.filter=function(){return!0};var Gl=function(e,t){var n=e.target,r=n&&n.tagName;return Boolean(r&&t&&t.includes(r))};function ql(t,n,r,i){r instanceof Array&&(i=r,r=void 0);var o=r||{},a=o.enableOnTags,s=o.filter,u=o.keyup,l=o.keydown,c=o.filterPreventDefault,d=void 0===c||c,f=o.enabled,h=void 0===f||f,p=o.enableOnContentEditable,v=void 0!==p&&p,g=(0,e.useRef)(null),m=(0,e.useCallback)((function(e,t){var r,i;return s&&!s(e)?!d:!!(Gl(e,["INPUT","TEXTAREA","SELECT"])&&!Gl(e,a)||null!=(r=e.target)&&r.isContentEditable&&!v)||!!(null===g.current||document.activeElement===g.current||null!=(i=g.current)&&i.contains(document.activeElement))&&(n(e,t),!0)}),i?[g,a,s].concat(i):[g,a,s]);return(0,e.useEffect)((function(){if(h)return u&&!0!==l&&(r.keydown=!1),Wl(t,r||{},m),function(){return Wl.unbind(t,m)};Wl.unbind(t,m)}),[m,t,h]),g}Wl.isPressed;var Ql=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?e.useLayoutEffect:function(){},Jl=t["useId".toString()]||function(){},ec=0;function tc(t){var n=b(e.useState(Jl()),2),r=n[0],i=n[1];return Ql((function(){t||i((function(e){return null!=e?e:String(ec++)}))}),[t]),t||(r?"radix-".concat(r):"")}var nc=0;function rc(){e.useEffect((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:ic()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:ic()),nc++,function(){1===nc&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),nc--}}),[])}function ic(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}function oc(t){var n=e.useRef(t);return e.useEffect((function(){n.current=t})),e.useMemo((function(){return function(){for(var e,t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null===(t=n.current)||void 0===t?void 0:(e=t).call.apply(e,[n].concat(i))}}),[])}function ac(t){var n=t.prop,r=t.defaultProp,i=t.onChange,o=void 0===i?function(){}:i,a=function(t){var n=t.defaultProp,r=t.onChange,i=e.useState(n),o=b(i,1)[0],a=e.useRef(o),s=oc(r);return e.useEffect((function(){a.current!==o&&(s(o),a.current=o)}),[o,a,s]),i}({defaultProp:r,onChange:o}),s=b(a,2),u=s[0],l=s[1],c=void 0!==n,d=c?n:u,f=oc(o);return[d,e.useCallback((function(e){if(c){var t="function"==typeof e?e(n):e;t!==n&&f(t)}else l(e)}),[c,n,l,f])]}function sc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)}))}}function uc(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.useCallback(sc.apply(void 0,n),n)}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}var cc=["children"],dc=["children"],fc=e.forwardRef((function(t,n){var r=t.children,i=$s(t,cc);return e.Children.toArray(r).some(vc)?e.createElement(e.Fragment,null,e.Children.map(r,(function(t){return vc(t)?e.createElement(hc,lc({},i,{ref:n}),t.props.children):t}))):e.createElement(hc,lc({},i,{ref:n}),r)}));fc.displayName="Slot";var hc=e.forwardRef((function(t,n){var r=t.children,i=$s(t,dc);return e.isValidElement(r)?e.cloneElement(r,a(a({},function(e,t){var n=a({},t),r=function(r){var i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=function(){null==o||o.apply(void 0,arguments),null==i||i.apply(void 0,arguments)}:"style"===r?n[r]=a(a({},i),o):"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))};for(var i in t)r(i);return a(a({},e),n)}(i,r.props)),{},{ref:sc(n,r.ref)})):e.Children.count(r)>1?e.Children.only(null):null}));hc.displayName="SlotClone";var pc=function(t){var n=t.children;return e.createElement(e.Fragment,null,n)};function vc(t){return e.isValidElement(t)&&t.type===pc}var gc=["asChild"],mc=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((function(t,n){return a(a({},t),{},i({},n,e.forwardRef((function(t,r){var i=t.asChild,o=$s(t,gc),a=i?fc:n;return e.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),e.createElement(a,lc({},o,{ref:r}))}))))}),{}),yc=["children"],bc=["scope","children"];function wc(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],o=function(){var n=r.map((function(t){return e.createContext(t)}));return function(r){var o=(null==r?void 0:r[t])||n;return e.useMemo((function(){return i({},"__scope".concat(t),a(a({},r),{},i({},t,o)))}),[r,o])}};return o.scopeName=t,[function(n,i){var o=e.createContext(i),a=r.length;function s(n){var r=n.scope,i=n.children,s=$s(n,bc),u=(null==r?void 0:r[t][a])||o,l=e.useMemo((function(){return s}),Object.values(s));return e.createElement(u.Provider,{value:l},i)}return r=[].concat((0,c.Z)(r),[i]),s.displayName=n+"Provider",[s,function(r,s){var u=(null==s?void 0:s[t][a])||o,l=e.useContext(u);if(l)return l;if(void 0!==i)return i;throw new Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},kc.apply(void 0,[o].concat((0,c.Z)(n)))]}function kc(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(1===n.length)return o;var s=function(){var t=n.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(n){var r=t.reduce((function(e,t){var r=t.useScope,i=t.scopeName;return a(a({},e),r(n)["__scope".concat(i)])}),{});return e.useMemo((function(){return i({},"__scope".concat(o.scopeName),r)}),[r])}};return s.scopeName=o.scopeName,s}var Sc=["scope","children"];function Cc(t){var n=t+"CollectionProvider",r=b(wc(n),2),o=r[0],s=r[1],u=b(o(n,{collectionRef:{current:null},itemMap:new Map}),2),l=u[0],c=u[1],d=t+"CollectionSlot",f=e.forwardRef((function(t,n){var r=t.scope,i=t.children,o=uc(n,c(d,r).collectionRef);return e.createElement(fc,{ref:o},i)})),h=t+"CollectionItemSlot",p="data-radix-collection-item",v=e.forwardRef((function(t,n){var r,o=t.scope,s=t.children,u=$s(t,Sc),l=e.useRef(null),d=uc(n,l),f=c(h,o);return e.useEffect((function(){return f.itemMap.set(l,a({ref:l},u)),function(){f.itemMap.delete(l)}})),e.createElement(fc,(i(r={},p,""),i(r,"ref",d),r),s)}));return[{Provider:function(t){var n=t.scope,r=t.children,i=e.useRef(null),o=e.useRef(new Map).current;return e.createElement(l,{scope:n,itemMap:o,collectionRef:i},r)},Slot:f,ItemSlot:v},function(n){var r=c(t+"CollectionConsumer",n);return e.useCallback((function(){var e=r.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(r.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[r.collectionRef,r.itemMap])},s]}function _c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkForDefaultPrevented,i=void 0===r||r;return function(n){if(null==e||e(n),!1===i||!n.defaultPrevented)return null==t?void 0:t(n)}}var Ec=["__scopeRovingFocusGroup","orientation","dir","loop","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"],xc=["__scopeRovingFocusGroup","focusable","active"],Ic={bubbles:!1,cancelable:!0},Pc=b(Cc("RovingFocusGroup"),3),Mc=Pc[0],Tc=Pc[1],Oc=b(wc("RovingFocusGroup",[Pc[2]]),2),Rc=Oc[0],Dc=Oc[1],Ac=b(Rc("RovingFocusGroup"),2),Lc=Ac[0],Bc=Ac[1],jc=e.forwardRef((function(t,n){return e.createElement(Mc.Provider,{scope:t.__scopeRovingFocusGroup},e.createElement(Mc.Slot,{scope:t.__scopeRovingFocusGroup},e.createElement(Nc,lc({},t,{ref:n}))))})),Nc=e.forwardRef((function(t,n){var r=t.__scopeRovingFocusGroup,i=t.orientation,o=t.dir,s=void 0===o?"ltr":o,u=t.loop,l=void 0!==u&&u,d=t.currentTabStopId,f=t.defaultCurrentTabStopId,h=t.onCurrentTabStopIdChange,p=t.onEntryFocus,v=$s(t,Ec),g=e.useRef(null),m=uc(n,g),y=b(ac({prop:d,defaultProp:f,onChange:h}),2),w=y[0],k=void 0===w?null:w,S=y[1],C=b(e.useState(!1),2),_=C[0],E=C[1],x=oc(p),I=Tc(r),P=e.useRef(!1);return e.useEffect((function(){var e=g.current;if(e)return e.addEventListener("rovingFocusGroup.onEntryFocus",x),function(){return e.removeEventListener("rovingFocusGroup.onEntryFocus",x)}}),[x]),e.createElement(Lc,{scope:r,orientation:i,dir:s,loop:l,currentTabStopId:k,onItemFocus:e.useCallback((function(e){return S(e)}),[S]),onItemShiftTab:e.useCallback((function(){return E(!0)}),[])},e.createElement(mc.div,lc({tabIndex:_?-1:0,"data-orientation":i},v,{ref:m,style:a({outline:"none"},t.style),onMouseDown:_c(t.onMouseDown,(function(){P.current=!0})),onFocus:_c(t.onFocus,(function(e){var t=!P.current;if(e.target===e.currentTarget&&t&&!_){var n=new Event("rovingFocusGroup.onEntryFocus",Ic);if(e.currentTarget.dispatchEvent(n),!n.defaultPrevented){var r=I().filter((function(e){return e.focusable}));Hc([r.find((function(e){return e.active})),r.find((function(e){return e.id===k}))].concat((0,c.Z)(r)).filter(Boolean).map((function(e){return e.ref.current})))}}P.current=!1})),onBlur:_c(t.onBlur,(function(){return E(!1)}))})))})),Fc=e.forwardRef((function(t,n){var r=t.__scopeRovingFocusGroup,i=t.focusable,o=void 0===i||i,a=t.active,s=void 0!==a&&a,u=$s(t,xc),l=tc(),c=Bc("RovingFocusGroupItem",r),d=c.currentTabStopId===l,f=Tc(r);return e.createElement(Mc.ItemSlot,{scope:r,id:l,focusable:o,active:s},e.createElement(mc.span,lc({tabIndex:d?0:-1,"data-orientation":c.orientation},u,{ref:n,onMouseDown:_c(t.onMouseDown,(function(e){o?c.onItemFocus(l):e.preventDefault()})),onFocus:_c(t.onFocus,(function(){return c.onItemFocus(l)})),onKeyDown:_c(t.onKeyDown,(function(e){if("Tab"===e.key&&e.shiftKey)c.onItemShiftTab();else if(e.target===e.currentTarget){var t,n,r=function(e,t,n){var r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:zc[r]}(e,c.orientation,c.dir);if(void 0!==r){e.preventDefault();var i=f().filter((function(e){return e.focusable})).map((function(e){return e.ref.current}));if("last"===r)i.reverse();else if("prev"===r||"next"===r){"prev"===r&&i.reverse();var o=i.indexOf(e.currentTarget);i=c.loop?(n=o+1,(t=i).map((function(e,r){return t[(n+r)%t.length]}))):i.slice(o+1)}setTimeout((function(){return Hc(i)}))}}}))})))})),zc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hc(e){var t,n=document.activeElement,r=C(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(o){r.e(o)}finally{r.f()}}var Uc,Vc=jc,Kc=Fc,Zc=["containerRef","style"],Wc=["container"],Yc=e.forwardRef((function(t,n){var r,i,o=t.containerRef,s=t.style,u=$s(t,Zc),l=null!==(r=null==o?void 0:o.current)&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,c=b(e.useState({}),2)[1];return Ql((function(){c({})}),[]),l?Sr.createPortal(e.createElement(mc.div,lc({"data-radix-portal":""},u,{ref:n,style:l===document.body?a({position:"absolute",top:0,left:0,zIndex:2147483647},s):void 0})),l):null})),Xc=e.forwardRef((function(t,n){var r,i=t.container,o=void 0===i?null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body:i,a=$s(t,Wc);return o?Sr.createPortal(e.createElement(mc.div,lc({},a,{ref:n})),o):null})),$c=["children","width","height"],Gc=e.forwardRef((function(t,n){var r=t.children,i=t.width,o=void 0===i?10:i,a=t.height,s=void 0===a?5:a,u=$s(t,$c);return e.createElement(mc.svg,lc({},u,{ref:n,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?r:e.createElement("polygon",{points:"0,0 30,0 15,10"}))})),qc=Gc;function Qc(t){var n=b(e.useState(void 0),2),r=n[0],i=n[1];return e.useEffect((function(){if(t){var e=new ResizeObserver((function(e){if(Array.isArray(e)&&e.length){var n,r,o=e[0];if("borderBoxSize"in o){var a=o.borderBoxSize,s=Array.isArray(a)?a[0]:a;n=s.inlineSize,r=s.blockSize}else{var u=t.getBoundingClientRect();n=u.width,r=u.height}i({width:n,height:r})}}));return e.observe(t,{box:"border-box"}),function(){return e.unobserve(t)}}i(void 0)}),[t]),r}var Jc=new Map;function ed(){var e=[];Jc.forEach((function(t,n){var r,i,o=n.getBoundingClientRect();i=o,((r=t.rect).width!==i.width||r.height!==i.height||r.top!==i.top||r.right!==i.right||r.bottom!==i.bottom||r.left!==i.left)&&(t.rect=o,e.push(t))})),e.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),Uc=requestAnimationFrame(ed)}function td(t){var n=b(e.useState(),2),r=n[0],i=n[1];return e.useEffect((function(){if(t){var e=function(e,t){var n=Jc.get(e);return void 0===n?(Jc.set(e,{rect:{},callbacks:[t]}),1===Jc.size&&(Uc=requestAnimationFrame(ed))):(n.callbacks.push(t),t(e.getBoundingClientRect())),function(){var n=Jc.get(e);if(void 0!==n){var r=n.callbacks.indexOf(t);r>-1&&n.callbacks.splice(r,1),0===n.callbacks.length&&(Jc.delete(e),0===Jc.size&&cancelAnimationFrame(Uc))}}}(t,i);return function(){i(void 0),e()}}}),[t]),r}function nd(e,t,n){var r=e["x"===n?"left":"top"],i="x"===n?"width":"height",o=e[i],a=t[i];return{before:r-a,start:r,center:r+(o-a)/2,end:r+o-a,after:r+o}}function rd(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:"translate3d(".concat(Math.round(e.x+window.scrollX),"px, ").concat(Math.round(e.y+window.scrollY),"px, 0)")}}function id(e,t,n,r,i){var o="top"===t||"bottom"===t,a=i?i.width:0,s=i?i.height:0,u=a/2+r,l="",c="";return o?(l={start:"".concat(u,"px"),center:"center",end:e.width-u+"px"}[n],c="top"===t?"".concat(e.height+s,"px"):-s+"px"):(l="left"===t?"".concat(e.width+s,"px"):-s+"px",c={start:"".concat(u,"px"),center:"center",end:e.height-u+"px"}[n]),"".concat(l," ").concat(c)}var od={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},ad={position:"absolute",opacity:0};function sd(e){var t,n=e.popperSize,r=e.arrowSize,o=e.arrowOffset,a=e.side,s=e.align,u=(n.width-r.width)/2,l=(n.height-r.width)/2,c={top:0,right:90,bottom:180,left:-90}[a],d=Math.max(r.width,r.height),f=(i(t={width:"".concat(d,"px"),height:"".concat(d,"px"),transform:"rotate(".concat(c,"deg)"),willChange:"transform",position:"absolute"},a,"100%"),i(t,"direction",function(e,t){return("top"!==e&&"right"!==e||"end"!==t)&&("bottom"!==e&&"left"!==e||"end"===t)?"ltr":"rtl"}(a,s)),t);return"top"!==a&&"bottom"!==a||("start"===s&&(f.left="".concat(o,"px")),"center"===s&&(f.left="".concat(u,"px")),"end"===s&&(f.right="".concat(o,"px"))),"left"!==a&&"right"!==a||("start"===s&&(f.top="".concat(o,"px")),"center"===s&&(f.top="".concat(l,"px")),"end"===s&&(f.bottom="".concat(o,"px"))),f}function ud(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function ld(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}var cd=["__scopePopper","virtualRef"],dd=["__scopePopper","side","sideOffset","align","alignOffset","collisionTolerance","avoidCollisions"],fd=["__scopePopper","offset"],hd=b(wc("Popper"),2),pd=hd[0],vd=hd[1],gd=b(pd("Popper"),2),md=gd[0],yd=gd[1],bd=e.forwardRef((function(t,n){var r=t.__scopePopper,i=t.virtualRef,o=$s(t,cd),a=yd("PopperAnchor",r),s=e.useRef(null),u=uc(n,s);return e.useEffect((function(){a.onAnchorChange((null==i?void 0:i.current)||s.current)})),i?null:e.createElement(mc.div,lc({},o,{ref:u}))})),wd=b(pd("PopperContent"),2),kd=wd[0],Sd=wd[1],Cd=e.forwardRef((function(t,n){var r=t.__scopePopper,i=t.side,o=void 0===i?"bottom":i,s=t.sideOffset,u=t.align,l=void 0===u?"center":u,c=t.alignOffset,d=t.collisionTolerance,f=t.avoidCollisions,h=void 0===f||f,p=$s(t,dd),v=yd("PopperContent",r),g=b(e.useState(),2),m=g[0],y=g[1],w=td(v.anchor),k=b(e.useState(null),2),S=k[0],C=k[1],_=Qc(S),E=b(e.useState(null),2),x=E[0],I=E[1],P=Qc(x),M=uc(n,(function(e){return C(e)})),T=function(){var t=b(e.useState(void 0),2),n=t[0],r=t[1];return e.useEffect((function(){var e;function t(){r({width:window.innerWidth,height:window.innerHeight})}function n(){window.clearTimeout(e),e=window.setTimeout(t,100)}return t(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),n}(),O=function(e){var t=e.anchorRect,n=e.popperSize,r=e.arrowSize,i=e.arrowOffset,o=void 0===i?0:i,s=e.side,u=e.sideOffset,l=void 0===u?0:u,c=e.align,d=e.alignOffset,f=void 0===d?0:d,h=e.shouldAvoidCollisions,p=void 0===h||h,v=e.collisionBoundariesRect,g=e.collisionTolerance,m=void 0===g?0:g;if(!t||!n||!v)return{popperStyles:od,arrowStyles:ad};var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=i?i.height:0,a=nd(t,e,"x"),s=nd(t,e,"y"),u=s.before-n-o,l=s.after+n+o,c=a.before-n-o,d=a.after+n+o;return{top:{start:{x:a.start+r,y:u},center:{x:a.center,y:u},end:{x:a.end-r,y:u}},right:{start:{x:d,y:s.start+r},center:{x:d,y:s.center},end:{x:d,y:s.end-r}},bottom:{start:{x:a.start+r,y:l},center:{x:a.center,y:l},end:{x:a.end-r,y:l}},left:{start:{x:c,y:s.start+r},center:{x:c,y:s.center},end:{x:c,y:s.end-r}}}}(n,t,l,f,r),b=y[s][c];if(!1===p){var w=rd(b),k=ad;return r&&(k=sd({popperSize:n,arrowSize:r,arrowOffset:o,side:s,align:c})),{popperStyles:a(a({},w),{},{"--radix-popper-transform-origin":id(n,s,c,o,r)}),arrowStyles:k,placedSide:s,placedAlign:c}}var S,C,_=DOMRect.fromRect(a(a({},n),b)),E=(S=v,C=m,DOMRect.fromRect({width:S.width-2*C,height:S.height-2*C,x:S.left+C,y:S.top+C})),x=ld(_,E),I=y[ud(s)][c],P=function(e,t,n){var r=ud(e);return t[e]&&!n[r]?r:e}(s,x,ld(DOMRect.fromRect(a(a({},n),I)),E)),M=function(e,t,n,r,i){var o="top"===n||"bottom"===n,a=o?"left":"top",s=o?"right":"bottom",u=o?"width":"height",l=t[u]>e[u];return"start"!==r&&"center"!==r||!(i[a]&&l||i[s]&&!l)?"end"!==r&&"center"!==r||!(i[s]&&l||i[a]&&!l)?r:"start":"end"}(n,t,s,c,x),T=rd(y[P][M]),O=ad;return r&&(O=sd({popperSize:n,arrowSize:r,arrowOffset:o,side:P,align:M})),{popperStyles:a(a({},T),{},{"--radix-popper-transform-origin":id(n,P,M,o,r)}),arrowStyles:O,placedSide:P,placedAlign:M}}({anchorRect:w,popperSize:_,arrowSize:P,arrowOffset:m,side:o,sideOffset:s,align:l,alignOffset:c,shouldAvoidCollisions:h,collisionBoundariesRect:T?DOMRect.fromRect(a(a({},T),{},{x:0,y:0})):void 0,collisionTolerance:d}),R=O.popperStyles,D=O.arrowStyles,A=O.placedSide,L=O.placedAlign,B=void 0!==A;return e.createElement("div",{style:R,"data-radix-popper-content-wrapper":""},e.createElement(kd,{scope:r,arrowStyles:D,onArrowChange:I,onArrowOffsetChange:y},e.createElement(mc.div,lc({"data-side":A,"data-align":L},p,{style:a(a({},p.style),{},{animation:B?void 0:"none"}),ref:M}))))})),_d=e.forwardRef((function(t,n){var r=t.__scopePopper,i=t.offset,o=$s(t,fd),s=Sd("PopperArrow",r),u=s.onArrowOffsetChange;return e.useEffect((function(){return u(i)}),[u,i]),e.createElement("span",{style:a(a({},s.arrowStyles),{},{pointerEvents:"none"})},e.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},e.createElement(qc,lc({},o,{ref:n,style:a(a({},o.style),{},{display:"block"})}))))})),Ed=function(t){var n=t.__scopePopper,r=t.children,i=b(e.useState(null),2),o=i[0],a=i[1];return e.createElement(md,{scope:n,anchor:o,onAnchorChange:a},r)},xd=bd,Id=Cd,Pd=_d,Md=function(t){var n=t.present,r=t.children,i=function(t){var n=b(e.useState(),2),r=n[0],i=n[1],o=e.useRef({}),a=e.useRef(t),s=e.useRef("none"),u=function(t,n){return e.useReducer((function(e,t){var r=n[e][t];return null!=r?r:e}),t)}(t?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),l=b(u,2),c=l[0],d=l[1];return e.useEffect((function(){var e=Td(o.current);s.current="mounted"===c?e:"none"}),[c]),Ql((function(){var e=o.current,n=a.current;if(n!==t){var r=s.current,i=Td(e);if(t)d("MOUNT");else if("none"===i||"none"===(null==e?void 0:e.display))d("UNMOUNT");else{d(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}a.current=t}}),[t,d]),Ql((function(){if(r){var e=function(e){var t=Td(o.current).includes(e.animationName);e.target===r&&t&&d("ANIMATION_END")},t=function(e){e.target===r&&(s.current=Td(o.current))};return r.addEventListener("animationstart",t),r.addEventListener("animationcancel",e),r.addEventListener("animationend",e),function(){r.removeEventListener("animationstart",t),r.removeEventListener("animationcancel",e),r.removeEventListener("animationend",e)}}d("ANIMATION_END")}),[r,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:e.useCallback((function(e){e&&(o.current=getComputedStyle(e)),i(e)}),[])}}(n),o="function"==typeof r?r({present:i.isPresent}):e.Children.only(r),a=uc(i.ref,o.ref);return"function"==typeof r||i.isPresent?e.cloneElement(o,{ref:a}):null};function Td(e){return(null==e?void 0:e.animationName)||"none"}Md.displayName="Presence";var Od=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],Rd={bubbles:!1,cancelable:!0},Dd=e.forwardRef((function(t,n){var r=t.loop,i=void 0!==r&&r,o=t.trapped,a=void 0!==o&&o,s=t.onMountAutoFocus,u=t.onUnmountAutoFocus,l=$s(t,Od),c=b(e.useState(null),2),d=c[0],f=c[1],h=oc(s),p=oc(u),v=e.useRef(null),g=uc(n,(function(e){return f(e)})),m=e.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;e.useEffect((function(){if(a){var e=function(e){if(!m.paused&&d){var t=e.target;d.contains(t)?v.current=t:jd(v.current,{select:!0})}},t=function(e){!m.paused&&d&&(d.contains(e.relatedTarget)||jd(v.current,{select:!0}))};return document.addEventListener("focusin",e),document.addEventListener("focusout",t),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[a,d,m.paused]),e.useEffect((function(){if(d){Nd.add(m);var e=document.activeElement;if(!d.contains(e)){var t=new Event("focusScope.autoFocusOnMount",Rd);d.addEventListener("focusScope.autoFocusOnMount",h),d.dispatchEvent(t),t.defaultPrevented||(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.select,i=void 0!==r&&r,o=document.activeElement,a=C(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(jd(s,{select:i}),document.activeElement!==o)return}}catch(u){a.e(u)}finally{a.f()}}(Ad(d).filter((function(e){return"A"!==e.tagName})),{select:!0}),document.activeElement===e&&jd(d))}return function(){d.removeEventListener("focusScope.autoFocusOnMount",h),setTimeout((function(){var t=new Event("focusScope.autoFocusOnUnmount",Rd);d.addEventListener("focusScope.autoFocusOnUnmount",p),d.dispatchEvent(t),t.defaultPrevented||jd(null!=e?e:document.body,{select:!0}),d.removeEventListener("focusScope.autoFocusOnUnmount",p),Nd.remove(m)}),0)}}}),[d,h,p,m]);var y=e.useCallback((function(e){if((i||a)&&!m.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var r=e.currentTarget,o=function(e){var t=Ad(e);return[Ld(t,e),Ld(t.reverse(),e)]}(r),s=b(o,2),u=s[0],l=s[1];u&&l?e.shiftKey||n!==l?e.shiftKey&&n===u&&(e.preventDefault(),i&&jd(l,{select:!0})):(e.preventDefault(),i&&jd(u,{select:!0})):n===r&&e.preventDefault()}}}),[i,a,m.paused]);return e.createElement(mc.div,lc({tabIndex:-1},l,{ref:g,onKeyDown:y}))}));function Ad(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function Ld(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!Bd(i,{upTo:t}))return i}}catch(o){r.e(o)}finally{r.f()}}function Bd(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function jd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.select,r=void 0!==n&&n;if(e&&e.focus){var i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&r&&e.select()}}var Nd=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&(null==n||n.pause()),(e=Fd(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=Fd(e,t))[0])||void 0===n||n.resume()}}}();function Fd(e,t){var n=(0,c.Z)(e),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}function zd(t){var n=oc(t);e.useEffect((function(){var e=function(e){"Escape"===e.key&&n(e)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[n])}var Hd,Ud=0;var Vd=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],Kd=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zd=e.forwardRef((function(t,n){var r=t.disableOutsidePointerEvents,i=void 0!==r&&r,o=t.onEscapeKeyDown,s=t.onPointerDownOutside,u=t.onFocusOutside,l=t.onInteractOutside,d=t.onDismiss,f=$s(t,Vd),h=e.useContext(Kd),p=b(e.useState(null),2),v=p[0],g=p[1],m=b(e.useState({}),2)[1],y=uc(n,(function(e){return g(e)})),w=Array.from(h.layers),k=b((0,c.Z)(h.layersWithOutsidePointerEventsDisabled).slice(-1),1)[0],S=w.indexOf(k),C=v?w.indexOf(v):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,E=C>=S,x=function(t){var n=oc((function(e){var t=e.target,n=(0,c.Z)(h.branches).some((function(e){return e.contains(t)}));E&&!n&&(null==s||s(e),null==l||l(e),e.defaultPrevented||null==d||d())})),r=e.useRef(!1);return e.useEffect((function(){var e=function(e){e.target&&!r.current&&Yd("dismissableLayer.pointerDownOutside",n,{originalEvent:e}),r.current=!1},t=window.setTimeout((function(){document.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(t),document.removeEventListener("pointerdown",e)}}),[n]),{onPointerDownCapture:function(){return r.current=!0}}}(),I=function(t){var n=oc((function(e){var t=e.target;(0,c.Z)(h.branches).some((function(e){return e.contains(t)}))||(null==u||u(e),null==l||l(e),e.defaultPrevented||null==d||d())})),r=e.useRef(!1);return e.useEffect((function(){var e=function(e){e.target&&!r.current&&Yd("dismissableLayer.focusOutside",n,{originalEvent:e})};return document.addEventListener("focusin",e),function(){return document.removeEventListener("focusin",e)}}),[n]),{onFocusCapture:function(){return r.current=!0},onBlurCapture:function(){return r.current=!1}}}();return zd((function(e){C===h.layers.size-1&&(null==o||o(e),e.defaultPrevented||null==d||d())})),function(t){var n=t.disabled,r=e.useRef(!1);Ql((function(){if(n){var e=function(){0===--Ud&&(document.body.style.pointerEvents=Hd)},t=function(e){r.current="mouse"!==e.pointerType};return 0===Ud&&(Hd=document.body.style.pointerEvents),document.body.style.pointerEvents="none",Ud++,document.addEventListener("pointerup",t),function(){r.current?document.addEventListener("click",e,{once:!0}):e(),document.removeEventListener("pointerup",t)}}}),[n])}({disabled:i}),e.useEffect((function(){v&&(i&&h.layersWithOutsidePointerEventsDisabled.add(v),h.layers.add(v),Wd())}),[v,i,h]),e.useEffect((function(){return function(){v&&(h.layers.delete(v),h.layersWithOutsidePointerEventsDisabled.delete(v),Wd())}}),[v,h]),e.useEffect((function(){var e=function(){return m({})};return document.addEventListener("dismissableLayer.update",e),function(){return document.removeEventListener("dismissableLayer.update",e)}}),[]),e.createElement(mc.div,lc({},f,{ref:y,style:a({pointerEvents:_?E?"auto":"none":void 0},t.style),onFocusCapture:_c(t.onFocusCapture,I.onFocusCapture),onBlurCapture:_c(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:_c(t.onPointerDownCapture,x.onPointerDownCapture)}))}));function Wd(){var e=new Event("dismissableLayer.update");document.dispatchEvent(e)}function Yd(e,t,n){var r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});return t&&r.addEventListener(e,t,{once:!0}),!r.dispatchEvent(i)}var Xd=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},$d=new WeakMap,Gd=new WeakMap,qd={},Qd=0,Jd=function(e,t,n,r){var i=Array.isArray(e)?e:[e];qd[n]||(qd[n]=new WeakMap);var o=qd[n],a=[],s=new Set,u=new Set(i);i.forEach((function e(t){t&&!s.has(t)&&(s.add(t),e(t.parentNode))}));return function e(t){t&&!u.has(t)&&Array.prototype.forEach.call(t.children,(function(t){if(s.has(t))e(t);else{var i=t.getAttribute(r),u=null!==i&&"false"!==i,l=($d.get(t)||0)+1,c=(o.get(t)||0)+1;$d.set(t,l),o.set(t,c),a.push(t),1===l&&u&&Gd.set(t,!0),1===c&&t.setAttribute(n,"true"),u||t.setAttribute(r,"true")}}))}(t),s.clear(),Qd++,function(){a.forEach((function(e){var t=$d.get(e)-1,i=o.get(e)-1;$d.set(e,t),o.set(e,i),t||(Gd.has(e)||e.removeAttribute(r),Gd.delete(e)),i||e.removeAttribute(n)})),--Qd||($d=new WeakMap,$d=new WeakMap,Gd=new WeakMap,qd={})}},ef=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||Xd(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Jd(r,i,n,"aria-hidden")):function(){return null}};var tf=function(){return tf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tf.apply(this,arguments)};function nf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var rf="right-scroll-bar-position",of="width-before-scroll-bar";function af(t,n){return function(t,n){var r=(0,e.useState)((function(){return{value:t,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(e){return t.forEach((function(t){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(t,e)}))}))}function sf(e){return e}function uf(e,t){void 0===t&&(t=sf);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return i}var lf=function(e){void 0===e&&(e={});var t=uf(null);return t.options=tf({async:!0,ssr:!1},e),t}(),cf=function(){},df=e.forwardRef((function(t,n){var r=e.useRef(null),i=e.useState({onScrollCapture:cf,onWheelCapture:cf,onTouchMoveCapture:cf}),o=i[0],a=i[1],s=t.forwardProps,u=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,v=t.inert,g=t.allowPinchZoom,m=t.as,y=void 0===m?"div":m,b=nf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=h,k=af([r,n]),S=tf(tf({},b),o);return e.createElement(e.Fragment,null,d&&e.createElement(w,{sideCar:lf,removeScrollBar:c,shards:f,noIsolation:p,inert:v,setCallbacks:a,allowPinchZoom:!!g,lockRef:r}),s?e.cloneElement(e.Children.only(u),tf(tf({},S),{ref:k})):e.createElement(y,tf({},S,{className:l,ref:k}),u))}));df.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},df.classNames={fullWidth:of,zeroRight:rf};var ff,hf=function(t){var n=t.sideCar,r=nf(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return e.createElement(i,tf({},r))};hf.isSideCarExport=!0;function pf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ff||n.nc;return t&&e.setAttribute("nonce",t),e}var vf=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=pf())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gf=function(){var t=function(){var t=vf();return function(n,r){e.useEffect((function(){return t.add(n),function(){t.remove()}}),[n&&r])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},mf={left:0,top:0,right:0,gap:0},yf=function(e){return parseInt(e||"",10)||0},bf=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return mf;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[yf(n),yf(r),yf(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},wf=gf(),kf=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(rf," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(of," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(rf," .").concat(rf," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(of," .").concat(of," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Sf=function(t){var n=t.noRelative,r=t.noImportant,i=t.gapMode,o=void 0===i?"margin":i,a=e.useMemo((function(){return bf(o)}),[o]);return e.createElement(wf,{styles:kf(a,!n,o,r?"":"!important")})},Cf=!1;if("undefined"!==typeof window)try{var _f=Object.defineProperty({},"passive",{get:function(){return Cf=!0,!0}});window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch(dR){Cf=!1}var Ef=!!Cf&&{passive:!1},xf=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},If=function(e,t){var n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),Pf(e,n)){var r=Mf(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Pf=function(e,t){return"v"===e?function(e){return xf(e,"overflowY")}(t):function(e){return xf(e,"overflowX")}(t)},Mf=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},Tf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Of=function(e){return[e.deltaX,e.deltaY]},Rf=function(e){return e&&"current"in e?e.current:e},Df=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Af=0,Lf=[];var Bf,jf=(Bf=function(t){var n=e.useRef([]),r=e.useRef([0,0]),i=e.useRef(),o=e.useState(Af++)[0],a=e.useState((function(){return gf()}))[0],s=e.useRef(t);e.useEffect((function(){s.current=t}),[t]),e.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var e=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([t.lockRef.current],(t.shards||[]).map(Rf),!0).filter(Boolean);return e.forEach((function(e){return e.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),e.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(o))}))}}}),[t.inert,t.lockRef.current,t.shards]);var u=e.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var n,o=Tf(e),a=r.current,u="deltaX"in e?e.deltaX:a[0]-o[0],l="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(u)>Math.abs(l)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var f=If(d,c);if(!f)return!0;if(f?n=d:(n="v"===d?"h":"v",f=If(d,c)),!f)return!1;if(!i.current&&"changedTouches"in e&&(u||l)&&(i.current=n),!n)return!0;var h=i.current||n;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,u=t.contains(s),l=!1,c=a>0,d=0,f=0;do{var h=Mf(e,s),p=h[0],v=h[1]-h[2]-o*p;(p||v)&&Pf(e,s)&&(d+=v,f+=p),s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(c&&(i&&0===d||!i&&a>d)||!c&&(i&&0===f||!i&&-a>f))&&(l=!0),l}(h,t,e,"h"===h?u:l,!0)}),[]),l=e.useCallback((function(e){var t=e;if(Lf.length&&Lf[Lf.length-1]===a){var r="deltaY"in t?Of(t):Tf(t),i=n.current.filter((function(e){return e.name===t.type&&e.target===t.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)t.cancelable&&t.preventDefault();else if(!i){var o=(s.current.shards||[]).map(Rf).filter(Boolean).filter((function(e){return e.contains(t.target)}));(o.length>0?u(t,o[0]):!s.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),c=e.useCallback((function(e,t,r,i){var o={name:e,delta:t,target:r,should:i};n.current.push(o),setTimeout((function(){n.current=n.current.filter((function(e){return e!==o}))}),1)}),[]),d=e.useCallback((function(e){r.current=Tf(e),i.current=void 0}),[]),f=e.useCallback((function(e){c(e.type,Of(e),e.target,u(e,t.lockRef.current))}),[]),h=e.useCallback((function(e){c(e.type,Tf(e),e.target,u(e,t.lockRef.current))}),[]);e.useEffect((function(){return Lf.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ef),document.addEventListener("touchmove",l,Ef),document.addEventListener("touchstart",d,Ef),function(){Lf=Lf.filter((function(e){return e!==a})),document.removeEventListener("wheel",l,Ef),document.removeEventListener("touchmove",l,Ef),document.removeEventListener("touchstart",d,Ef)}}),[]);var p=t.removeScrollBar,v=t.inert;return e.createElement(e.Fragment,null,v?e.createElement(a,{styles:Df(o)}):null,p?e.createElement(Sf,{gapMode:"margin"}):null)},lf.useMedium(Bf),hf),Nf=e.forwardRef((function(t,n){return e.createElement(df,tf({},t,{ref:n,sideCar:jf}))}));Nf.classNames=df.classNames;var Ff=Nf,zf=["__scopeMenu"],Hf=["forceMount"],Uf=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll","allowPinchZoom","portalled"],Vf=["__scopeMenu"],Kf=["disabled","onSelect"],Zf=["__scopeMenu","disabled","textValue"],Wf=["checked","onCheckedChange"],Yf=["value","onValueChange"],Xf=["value"],$f=["__scopeMenu","forceMount"],Gf=["__scopeMenu"],qf=["__scopeMenu"],Qf=["Enter"," "],Jf=["ArrowUp","PageDown","End"],eh=["ArrowDown","PageUp","Home"].concat(Jf),th={ltr:[].concat(Qf,["ArrowRight"]),rtl:[].concat(Qf,["ArrowLeft"])},nh={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rh=b(Cc("Menu"),3),ih=rh[0],oh=rh[1],ah=b(wc("Menu",[rh[2],vd,Dc]),2),sh=ah[0],uh=ah[1],lh=vd(),ch=Dc(),dh=b(sh("Menu"),2),fh=dh[0],hh=dh[1],ph=e.forwardRef((function(t,n){var r=t.__scopeMenu,i=$s(t,zf),o=lh(r);return e.createElement(xd,lc({},o,i,{ref:n}))})),vh=b(sh("MenuContent"),2),gh=vh[0],mh=vh[1],yh=e.forwardRef((function(t,n){var r=t.forceMount,i=$s(t,Hf),o=hh("MenuContent",t.__scopeMenu);return e.createElement(ih.Provider,{scope:t.__scopeMenu},e.createElement(Md,{present:r||o.open},e.createElement(ih.Slot,{scope:t.__scopeMenu},o.isSubmenu?e.createElement(Sh,lc({},i,{ref:n})):e.createElement(bh,lc({},i,{ref:n})))))})),bh=e.forwardRef((function(t,n){return hh("MenuContent",t.__scopeMenu).modal?e.createElement(wh,lc({},t,{ref:n})):e.createElement(kh,lc({},t,{ref:n}))})),wh=e.forwardRef((function(t,n){var r=hh("MenuContent",t.__scopeMenu),i=e.useRef(null),o=uc(n,i);return e.useEffect((function(){var e=i.current;if(e)return ef(e)}),[]),e.createElement(Ch,lc({},t,{ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:_c(t.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1}),onDismiss:function(){return r.onOpenChange(!1)}}))})),kh=e.forwardRef((function(t,n){var r=hh("MenuContent",t.__scopeMenu);return e.createElement(Ch,lc({},t,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:function(){return r.onOpenChange(!1)}}))})),Sh=e.forwardRef((function(t,n){var r=hh("MenuContent",t.__scopeMenu),i=e.useRef(null),o=uc(n,i);return r.isSubmenu?e.createElement(Ch,lc({id:r.contentId,"aria-labelledby":r.triggerId},t,{ref:o,align:"start",side:"rtl"===r.dir?"left":"right",portalled:!0,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:function(e){var t;r.isUsingKeyboardRef.current&&(null===(t=i.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:function(e){return e.preventDefault()},onFocusOutside:_c(t.onFocusOutside,(function(e){e.target!==r.trigger&&r.onOpenChange(!1)})),onEscapeKeyDown:_c(t.onEscapeKeyDown,r.onRootClose),onKeyDown:_c(t.onKeyDown,(function(e){var t,n=e.currentTarget.contains(e.target),i=nh[r.dir].includes(e.key);n&&i&&(r.onOpenChange(!1),null===(t=r.trigger)||void 0===t||t.focus(),e.preventDefault())}))})):null})),Ch=e.forwardRef((function(t,n){var r=t.__scopeMenu,i=t.loop,o=void 0!==i&&i,s=t.trapFocus,u=t.onOpenAutoFocus,l=t.onCloseAutoFocus,c=t.disableOutsidePointerEvents,d=t.onEscapeKeyDown,f=t.onPointerDownOutside,h=t.onFocusOutside,p=t.onInteractOutside,v=t.onDismiss,g=t.disableOutsideScroll,m=t.allowPinchZoom,y=t.portalled,w=$s(t,Uf),k=hh("MenuContent",r),S=lh(r),_=ch(r),E=oh(r),x=b(e.useState(null),2),I=x[0],P=x[1],M=e.useRef(null),T=uc(n,M,k.onContentChange),O=e.useRef(0),R=e.useRef(""),D=e.useRef(0),A=e.useRef(null),L=e.useRef("right"),B=e.useRef(0),j=y?Yc:e.Fragment,N=g?Ff:e.Fragment,F=g?{allowPinchZoom:m}:void 0;e.useEffect((function(){return function(){return window.clearTimeout(O.current)}}),[]),rc();var z=e.useCallback((function(e){var t,n;return L.current===(null===(t=A.current)||void 0===t?void 0:t.side)&&function(e,t){return!!t&&function(e,t){for(var n=e.x,r=e.y,i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o].x,u=t[o].y,l=t[a].x,c=t[a].y;u>r!=c>r&&n<(l-s)*(r-u)/(c-u)+s&&(i=!i)}return i}({x:e.clientX,y:e.clientY},t)}(e,null===(n=A.current)||void 0===n?void 0:n.area)}),[]);return e.createElement(j,null,e.createElement(N,F,e.createElement(gh,{scope:r,searchRef:R,onItemEnter:e.useCallback((function(e){z(e)&&e.preventDefault()}),[z]),onItemLeave:e.useCallback((function(e){var t;z(e)||(null===(t=M.current)||void 0===t||t.focus(),P(null))}),[z]),onTriggerLeave:e.useCallback((function(e){z(e)&&e.preventDefault()}),[z]),pointerGraceTimerRef:D,onPointerGraceIntentChange:e.useCallback((function(e){A.current=e}),[])},e.createElement(Dd,{asChild:!0,trapped:s,onMountAutoFocus:_c(u,(function(e){var t;e.preventDefault(),null===(t=M.current)||void 0===t||t.focus()})),onUnmountAutoFocus:l},e.createElement(Zd,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:v},e.createElement(Vc,lc({asChild:!0},_,{dir:k.dir,orientation:"vertical",loop:o,currentTabStopId:I,onCurrentTabStopIdChange:P,onEntryFocus:function(e){k.isUsingKeyboardRef.current||e.preventDefault()}}),e.createElement(Id,lc({role:"menu","aria-orientation":"vertical","data-state":jh(k.open),dir:k.dir},S,w,{ref:T,style:a({outline:"none"},w.style),onKeyDown:_c(w.onKeyDown,(function(e){var t=e.target,n=e.currentTarget.contains(t),r=e.ctrlKey||e.altKey||e.metaKey,i=1===e.key.length;n&&("Tab"===e.key&&e.preventDefault(),!r&&i&&function(e){var t,n,r=R.current+e,i=E().filter((function(e){return!e.disabled})),o=document.activeElement,a=null===(t=i.find((function(e){return e.ref.current===o})))||void 0===t?void 0:t.textValue,s=function(e,t,n){var r,i,o=t.length>1&&Array.from(t).every((function(e){return e===t[0]}))?t[0]:t,a=n?e.indexOf(n):-1,s=(r=e,i=Math.max(a,0),r.map((function(e,t){return r[(i+t)%r.length]})));1===o.length&&(s=s.filter((function(e){return e!==n})));var u=s.find((function(e){return e.toLowerCase().startsWith(o.toLowerCase())}));return u!==n?u:void 0}(i.map((function(e){return e.textValue})),r,a),u=null===(n=i.find((function(e){return e.textValue===s})))||void 0===n?void 0:n.ref.current;!function e(t){R.current=t,window.clearTimeout(O.current),""!==t&&(O.current=window.setTimeout((function(){return e("")}),1e3))}(r),u&&setTimeout((function(){return u.focus()}))}(e.key));var o=M.current;if(e.target===o&&eh.includes(e.key)){e.preventDefault();var a=E().filter((function(e){return!e.disabled})).map((function(e){return e.ref.current}));Jf.includes(e.key)&&a.reverse(),function(e){var t,n=document.activeElement,r=C(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(dR){r.e(dR)}finally{r.f()}}(a)}})),onBlur:_c(t.onBlur,(function(e){e.currentTarget.contains(e.target)||(window.clearTimeout(O.current),R.current="")})),onPointerMove:_c(t.onPointerMove,Fh((function(e){var t=e.target,n=B.current!==e.clientX;if(e.currentTarget.contains(t)&&n){var r=e.clientX>B.current?"right":"left";L.current=r,B.current=e.clientX}})))}))))))))})),_h=e.forwardRef((function(t,n){t.__scopeMenu;var r=$s(t,Vf);return e.createElement(mc.div,lc({role:"group"},r,{ref:n}))})),Eh=e.forwardRef((function(t,n){var r=t.disabled,i=void 0!==r&&r,o=t.onSelect,a=$s(t,Kf),s=e.useRef(null),u=hh("MenuItem",t.__scopeMenu),l=mh("MenuItem",t.__scopeMenu),c=uc(n,s),d=e.useRef(!1);return e.createElement(Ih,lc({},a,{ref:c,disabled:i,onClick:_c(t.onClick,(function(){var e=s.current;if(!i&&e){var t=new Event("menu.itemSelect",{bubbles:!0,cancelable:!0});e.addEventListener("menu.itemSelect",(function(e){return null==o?void 0:o(e)}),{once:!0}),e.dispatchEvent(t),t.defaultPrevented?d.current=!1:u.onRootClose()}})),onPointerDown:function(e){var n;null===(n=t.onPointerDown)||void 0===n||n.call(t,e),d.current=!0},onPointerUp:_c(t.onPointerUp,(function(e){var t;d.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:_c(t.onKeyDown,(function(e){var t=""!==l.searchRef.current;i||t&&" "===e.key||Qf.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),xh=e.forwardRef((function(t,n){var r=hh("MenuSubTrigger",t.__scopeMenu),i=mh("MenuSubTrigger",t.__scopeMenu),o=e.useRef(null),a=i.pointerGraceTimerRef,s=i.onPointerGraceIntentChange,u={__scopeMenu:t.__scopeMenu},l=e.useCallback((function(){o.current&&window.clearTimeout(o.current),o.current=null}),[]);return e.useEffect((function(){return l}),[l]),e.useEffect((function(){var e=a.current;return function(){window.clearTimeout(e),s(null)}}),[a,s]),r.isSubmenu?e.createElement(ph,lc({asChild:!0},u),e.createElement(Ih,lc({id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":jh(r.open)},t,{ref:sc(n,r.onTriggerChange),onClick:function(e){var n;null===(n=t.onClick)||void 0===n||n.call(t,e),t.disabled||e.defaultPrevented||(e.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:_c(t.onPointerMove,Fh((function(e){i.onItemEnter(e),e.defaultPrevented||t.disabled||r.open||o.current||(i.onPointerGraceIntentChange(null),o.current=window.setTimeout((function(){r.onOpenChange(!0),l()}),100))}))),onPointerLeave:_c(t.onPointerLeave,Fh((function(e){var t;l();var n=null===(t=r.content)||void 0===t?void 0:t.getBoundingClientRect();if(n){var o,s=null===(o=r.content)||void 0===o?void 0:o.dataset.side,u="right"===s,c=u?-5:5,d=n[u?"left":"right"],f=n[u?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+c,y:e.clientY},{x:d,y:n.top},{x:f,y:n.top},{x:f,y:n.bottom},{x:d,y:n.bottom}],side:s}),window.clearTimeout(a.current),a.current=window.setTimeout((function(){return i.onPointerGraceIntentChange(null)}),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}}))),onKeyDown:_c(t.onKeyDown,(function(e){var n,o=""!==i.searchRef.current;t.disabled||o&&" "===e.key||th[r.dir].includes(e.key)&&(r.onOpenChange(!0),null===(n=r.content)||void 0===n||n.focus(),e.preventDefault())}))}))):null})),Ih=e.forwardRef((function(t,n){var r=t.__scopeMenu,i=t.disabled,o=void 0!==i&&i,a=t.textValue,s=$s(t,Zf),u=mh("MenuItem",r),l=ch(r),c=e.useRef(null),d=uc(n,c),f=b(e.useState(""),2),h=f[0],p=f[1];return e.useEffect((function(){var e,t=c.current;t&&p((null!==(e=t.textContent)&&void 0!==e?e:"").trim())}),[s.children]),e.createElement(ih.ItemSlot,{scope:r,disabled:o,textValue:null!=a?a:h},e.createElement(Kc,lc({asChild:!0},l,{focusable:!o}),e.createElement(mc.div,lc({role:"menuitem","aria-disabled":o||void 0,"data-disabled":o?"":void 0},s,{ref:d,onPointerMove:_c(t.onPointerMove,Fh((function(e){o?u.onItemLeave(e):(u.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())}))),onPointerLeave:_c(t.onPointerLeave,Fh((function(e){return u.onItemLeave(e)})))}))))})),Ph=e.forwardRef((function(t,n){var r=t.checked,i=void 0!==r&&r,o=t.onCheckedChange,a=$s(t,Wf);return e.createElement(Lh,{scope:t.__scopeMenu,checked:i},e.createElement(Eh,lc({role:"menuitemcheckbox","aria-checked":i},a,{ref:n,"data-state":Nh(i),onSelect:_c(a.onSelect,(function(){return null==o?void 0:o(!i)}),{checkForDefaultPrevented:!1})})))})),Mh=b(sh("MenuRadioGroup",{value:void 0,onValueChange:function(){}}),2),Th=Mh[0],Oh=Mh[1],Rh=e.forwardRef((function(t,n){var r=t.value,i=t.onValueChange,o=$s(t,Yf),a=oc(i);return e.createElement(Th,{scope:t.__scopeMenu,value:r,onValueChange:a},e.createElement(_h,lc({},o,{ref:n})))})),Dh=e.forwardRef((function(t,n){var r=t.value,i=$s(t,Xf),o=Oh("MenuRadioItem",t.__scopeMenu),a=r===o.value;return e.createElement(Lh,{scope:t.__scopeMenu,checked:a},e.createElement(Eh,lc({role:"menuitemradio","aria-checked":a},i,{ref:n,"data-state":Nh(a),onSelect:_c(i.onSelect,(function(){var e;return null===(e=o.onValueChange)||void 0===e?void 0:e.call(o,r)}),{checkForDefaultPrevented:!1})})))})),Ah=b(sh("MenuItemIndicator",{checked:!1}),2),Lh=Ah[0],Bh=Ah[1];function jh(e){return e?"open":"closed"}function Nh(e){return e?"checked":"unchecked"}function Fh(e){return function(t){return"mouse"===t.pointerType?e(t):void 0}}var zh=function(t){var n=t.__scopeMenu,r=t.open,i=void 0!==r&&r,o=t.children,a=t.onOpenChange,s=t.modal,u=void 0===s||s,l=lh(n),c=b(e.useState(null),2),d=c[0],f=c[1],h=e.useRef(!1),p=oc(a),v=function(t,n){var r=b(e.useState("ltr"),2),i=r[0],o=r[1],a=b(e.useState(),2),s=a[0],u=a[1],l=e.useRef(0);return e.useEffect((function(){if(void 0===n&&null!=t&&t.parentElement){var e=getComputedStyle(t.parentElement);u(e)}}),[t,n]),e.useEffect((function(){return void 0===n&&function e(){l.current=requestAnimationFrame((function(){var t=null==s?void 0:s.direction;t&&o(t),e()}))}(),function(){return cancelAnimationFrame(l.current)}}),[s,n,o]),n||i}(d,t.dir);return e.useEffect((function(){var e=function(){h.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=function(){return h.current=!1};return document.addEventListener("keydown",e,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),e.createElement(Ed,l,e.createElement(fh,{scope:n,isSubmenu:!1,isUsingKeyboardRef:h,dir:v,open:i,onOpenChange:p,content:d,onContentChange:f,onRootClose:e.useCallback((function(){return p(!1)}),[p]),modal:u},o))},Hh=function(t){var n=t.__scopeMenu,r=t.children,i=t.open,o=void 0!==i&&i,a=t.onOpenChange,s=hh("MenuSub",n),u=lh(n),l=b(e.useState(null),2),c=l[0],d=l[1],f=b(e.useState(null),2),h=f[0],p=f[1],v=oc(a);return e.useEffect((function(){return!1===s.open&&v(!1),function(){return v(!1)}}),[s.open,v]),e.createElement(Ed,u,e.createElement(fh,{scope:n,isSubmenu:!0,isUsingKeyboardRef:s.isUsingKeyboardRef,dir:s.dir,open:o,onOpenChange:v,content:h,onContentChange:p,onRootClose:s.onRootClose,contentId:tc(),trigger:c,onTriggerChange:d,triggerId:tc(),modal:!1},r))},Uh=ph,Vh=xh,Kh=yh,Zh=Eh,Wh=Ph,Yh=Rh,Xh=Dh,$h=e.forwardRef((function(t,n){var r=t.__scopeMenu,i=t.forceMount,o=$s(t,$f),a=Bh("MenuItemIndicator",r);return e.createElement(Md,{present:i||a.checked},e.createElement(mc.span,lc({},o,{ref:n,"data-state":Nh(a.checked)})))})),Gh=e.forwardRef((function(t,n){t.__scopeMenu;var r=$s(t,Gf);return e.createElement(mc.div,lc({role:"separator","aria-orientation":"horizontal"},r,{ref:n}))})),qh=e.forwardRef((function(t,n){var r=t.__scopeMenu,i=$s(t,qf),o=lh(r);return e.createElement(Pd,lc({},o,i,{ref:n}))})),Qh=["__scopeDropdownMenu","disabled"],Jh=["__scopeDropdownMenu"],ep=["__scopeDropdownMenu","portalled"],tp=["__scopeDropdownMenu"],np=["__scopeDropdownMenu"],rp=["__scopeDropdownMenu"],ip=["__scopeDropdownMenu"],op=["__scopeDropdownMenu"],ap=["__scopeDropdownMenu"],sp=["__scopeDropdownMenu"],up=["__scopeDropdownMenu"],lp=b(wc("DropdownMenu",[uh]),2),cp=lp[0],dp=(lp[1],uh()),fp=b(cp("DropdownMenu"),2),hp=fp[0],pp=fp[1],vp=function(t){var n=t.__scopeDropdownMenu,r=t.children,i=t.dir,o=t.open,a=t.onOpenChange,s=t.onOpenToggle,u=t.modal,l=void 0===u||u,c=dp(n),d=e.useRef(null);return e.createElement(hp,{scope:n,isRootMenu:!0,triggerId:tc(),triggerRef:d,contentId:tc(),open:o,onOpenChange:a,onOpenToggle:s,modal:l},e.createElement(zh,lc({},c,{open:o,onOpenChange:a,dir:i,modal:l}),r))},gp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=t.disabled,o=void 0!==i&&i,a=$s(t,Qh),s=pp("DropdownMenuTrigger",r),u=dp(r);return s.isRootMenu?e.createElement(Uh,lc({asChild:!0},u),e.createElement(mc.button,lc({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":!!s.open||void 0,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,disabled:o},a,{ref:sc(n,s.triggerRef),onPointerDown:_c(t.onPointerDown,(function(e){o||0!==e.button||!1!==e.ctrlKey||(s.open||e.preventDefault(),s.onOpenToggle())})),onKeyDown:_c(t.onKeyDown,(function(e){o||(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),[" ","ArrowDown"].includes(e.key)&&e.preventDefault())}))}))):null})),mp=b(cp("DropdownMenuContent",{isInsideContent:!1}),2),yp=mp[0],bp=mp[1],wp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,Jh),o=pp("DropdownMenuContent",r),s=dp(r),u=a(a({},i),{},{style:a(a({},t.style),{},{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return e.createElement(yp,{scope:r,isInsideContent:!0},o.isRootMenu?e.createElement(kp,lc({__scopeDropdownMenu:r},u,{ref:n})):e.createElement(Kh,lc({},s,u,{ref:n})))})),kp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=t.portalled,o=void 0===i||i,a=$s(t,ep),s=pp("DropdownMenuContent",r),u=dp(r),l=e.useRef(!1);return s.isRootMenu?e.createElement(Kh,lc({id:s.contentId,"aria-labelledby":s.triggerId},u,a,{ref:n,portalled:o,onCloseAutoFocus:_c(t.onCloseAutoFocus,(function(e){var t;l.current||null===(t=s.triggerRef.current)||void 0===t||t.focus(),l.current=!1,e.preventDefault()})),onInteractOutside:_c(t.onInteractOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;s.modal&&!r||(l.current=!0)}))})):null})),Sp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,tp),o=dp(r);return e.createElement(Zh,lc({},o,i,{ref:n}))})),Cp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,np),o=dp(r);return e.createElement(Vh,lc({},o,i,{ref:n}))})),_p=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,rp),o=dp(r);return e.createElement(Wh,lc({},o,i,{ref:n}))})),Ep=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,ip),o=dp(r);return e.createElement(Yh,lc({},o,i,{ref:n}))})),xp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,op),o=dp(r);return e.createElement(Xh,lc({},o,i,{ref:n}))})),Ip=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,ap),o=dp(r);return e.createElement($h,lc({},o,i,{ref:n}))})),Pp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,sp),o=dp(r);return e.createElement(Gh,lc({},o,i,{ref:n}))})),Mp=e.forwardRef((function(t,n){var r=t.__scopeDropdownMenu,i=$s(t,up),o=dp(r);return e.createElement(qh,lc({},o,i,{ref:n}))})),Tp=function(t){var n=t.__scopeDropdownMenu,r=t.children,i=t.open,o=t.defaultOpen,a=t.onOpenChange,s=bp("DropdownMenu",n),u=dp(n),l=b(ac({prop:i,defaultProp:o,onChange:a}),2),c=l[0],d=void 0!==c&&c,f=l[1],h=e.useCallback((function(){return f((function(e){return!e}))}),[f]);return s.isInsideContent?e.createElement(hp,{scope:n,isRootMenu:!1,open:d,onOpenChange:f,onOpenToggle:h},e.createElement(Hh,lc({},u,{open:d,onOpenChange:f}),r)):e.createElement(vp,lc({},t,{open:d,onOpenChange:f,onOpenToggle:h}),r)},Op=gp,Rp=wp,Dp=Sp,Ap=Cp,Lp=_p,Bp=Ep,jp=xp,Np=Ip,Fp=Pp,zp=Mp;function Hp(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Up=["color"],Vp=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Up);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M9 3C9 2.44772 8.55229 2 8 2H7C6.44772 2 6 2.44772 6 3L6 14H1.5C1.22386 14 1 14.2239 1 14.5C1 14.7761 1.22386 15 1.5 15L6 15H9H13.5C13.7761 15 14 14.7761 14 14.5C14 14.2239 13.7761 14 13.5 14H9V3Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Kp=["color"],Zp=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Kp);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M1.99988 6C1.44759 6 0.999877 6.44772 0.999877 7L0.999877 8C0.999877 8.55228 1.44759 9 1.99988 9L6.99988 9L6.99988 13.5C6.99988 13.7761 7.22374 14 7.49988 14C7.77602 14 7.99988 13.7761 7.99988 13.5L7.99988 9L12.9999 9C13.5522 9 13.9999 8.55228 13.9999 8L13.9999 7C13.9999 6.44772 13.5522 6 12.9999 6L7.99988 6L7.99988 1.5C7.99988 1.22386 7.77602 1 7.49988 1C7.22373 1 6.99988 1.22386 6.99988 1.5L6.99988 6L1.99988 6Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Wp=["color"],Yp=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Wp);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M6.99988 1C6.44759 1 5.99988 1.44772 5.99988 2V7H1.49988C1.22374 7 0.999878 7.22386 0.999878 7.5C0.999878 7.77614 1.22374 8 1.49988 8H5.99988V13C5.99988 13.5523 6.44759 14 6.99988 14H7.99988C8.55216 14 8.99988 13.5523 8.99988 13V8H13.4999C13.776 8 13.9999 7.77614 13.9999 7.5C13.9999 7.22386 13.776 7 13.4999 7H8.99988V2C8.99988 1.44772 8.55216 1 7.99988 1L6.99988 1Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Xp=["color"],$p=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Xp);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M0.499995 0.999995C0.223855 0.999995 -5.58458e-07 1.22385 -5.46388e-07 1.49999L-2.18554e-08 13.4999C-9.78492e-09 13.776 0.223855 13.9999 0.499995 13.9999C0.776136 13.9999 0.999991 13.776 0.999991 13.4999L0.999991 8.99993L12 8.99993C12.5523 8.99993 13 8.55222 13 7.99993L13 6.99994C13 6.44766 12.5523 5.99995 12 5.99995L0.999991 5.99995L0.999991 1.49999C0.999991 1.22385 0.776135 0.999995 0.499995 0.999995Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Gp=["color"],qp=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Gp);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M14.4999 1C14.2237 1 13.9999 1.22386 13.9999 1.5L13.9999 6L2.99988 6C2.44759 6 1.99988 6.44772 1.99988 7L1.99988 8C1.99988 8.55228 2.44759 9 2.99988 9L13.9999 9L13.9999 13.5C13.9999 13.7761 14.2237 14 14.4999 14C14.776 14 14.9999 13.7761 14.9999 13.5L14.9999 9L14.9999 6L14.9999 1.5C14.9999 1.22386 14.776 1 14.4999 1Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Qp=["color"],Jp=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Qp);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M1.5 0C1.22386 0 1 0.223858 1 0.5C1 0.776142 1.22386 1 1.5 1H6V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V1H13.5C13.7761 1 14 0.776142 14 0.5C14 0.223858 13.7761 0 13.5 0H9H6H1.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),ev=["color"],tv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,ev);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),nv=["color"],rv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,nv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),iv=["color"],ov=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,iv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),av=["color"],sv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,av);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),uv=["color"],lv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,uv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),cv=["color"],dv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,cv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M12.5 2H2.5C2.22386 2 2 2.22386 2 2.5V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V2.5C13 2.22386 12.7761 2 12.5 2ZM2.5 1C1.67157 1 1 1.67157 1 2.5V12.5C1 13.3284 1.67157 14 2.5 14H12.5C13.3284 14 14 13.3284 14 12.5V2.5C14 1.67157 13.3284 1 12.5 1H2.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),fv=["color"],hv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,fv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),pv=["color"],vv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,pv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),gv=["color"],mv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,gv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),yv=["color"],bv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,yv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),wv=["color"],kv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,wv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Sv=["color"],Cv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Sv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M3.29227 0.048984C3.47033 -0.032338 3.67946 -0.00228214 3.8274 0.125891L12.8587 7.95026C13.0134 8.08432 13.0708 8.29916 13.0035 8.49251C12.9362 8.68586 12.7578 8.81866 12.5533 8.82768L9.21887 8.97474L11.1504 13.2187C11.2648 13.47 11.1538 13.7664 10.9026 13.8808L8.75024 14.8613C8.499 14.9758 8.20255 14.8649 8.08802 14.6137L6.15339 10.3703L3.86279 12.7855C3.72196 12.934 3.50487 12.9817 3.31479 12.9059C3.1247 12.8301 3 12.6461 3 12.4414V0.503792C3 0.308048 3.11422 0.130306 3.29227 0.048984ZM4 1.59852V11.1877L5.93799 9.14425C6.05238 9.02363 6.21924 8.96776 6.38319 8.99516C6.54715 9.02256 6.68677 9.12965 6.75573 9.2809L8.79056 13.7441L10.0332 13.178L8.00195 8.71497C7.93313 8.56376 7.94391 8.38824 8.03072 8.24659C8.11753 8.10494 8.26903 8.01566 8.435 8.00834L11.2549 7.88397L4 1.59852Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),_v=["color"],Ev=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,_v);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:i}))})),xv=["color"],Iv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,xv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Pv=["color"],Mv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Pv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Tv=["color"],Ov=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Tv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Rv=["color"],Dv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Rv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Av=["color"],Lv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Av);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Bv=["color"],jv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Bv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Nv=["color"],Fv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Nv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M7.4986 0C6.3257 0 5.36107 0.38943 4.73753 1.19361C4.23745 1.83856 4 2.68242 4 3.63325H5C5 2.84313 5.19691 2.23312 5.5278 1.80636C5.91615 1.30552 6.55152 1 7.4986 1C8.35683 1 8.96336 1.26502 9.35846 1.68623C9.75793 2.11211 10 2.76044 10 3.63601V6H3C2.44772 6 2 6.44772 2 7V13C2 13.5523 2.44772 14 3 14H12C12.5523 14 13 13.5523 13 13V7C13 6.44771 12.5523 6 12 6H11V3.63601C11 2.58135 10.7065 1.66167 10.0878 1.0021C9.46477 0.337871 8.57061 0 7.4986 0ZM3 7H12V13H3V7Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),zv=["color"],Hv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,zv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M5 1.5C5 1.22386 4.77614 1 4.5 1C4.22386 1 4 1.22386 4 1.5L4 7C4 7.01671 4.00082 7.03323 4.00242 7.04952C2.86009 7.28022 2 8.28967 2 9.5C2 10.7103 2.86009 11.7198 4.00242 11.9505C4.00082 11.9668 4 11.9833 4 12V13.5C4 13.7761 4.22386 14 4.5 14C4.77614 14 5 13.7761 5 13.5V12C5 11.9833 4.99918 11.9668 4.99758 11.9505C6.1399 11.7198 7 10.7103 7 9.5C7 8.28967 6.1399 7.28022 4.99758 7.04952C4.99918 7.03323 5 7.01671 5 7L5 1.5ZM11 1.5C11 1.22386 10.7761 1 10.5 1C10.2239 1 10 1.22386 10 1.5V3C10 3.01671 10.0008 3.03323 10.0024 3.04952C8.8601 3.28022 8 4.28967 8 5.5C8 6.71033 8.8601 7.71978 10.0024 7.95048C10.0008 7.96677 10 7.98329 10 8V13.5C10 13.7761 10.2239 14 10.5 14C10.7761 14 11 13.7761 11 13.5V8C11 7.98329 10.9992 7.96677 10.9976 7.95048C12.1399 7.71978 13 6.71033 13 5.5C13 4.28967 12.1399 3.28022 10.9976 3.04952C10.9992 3.03323 11 3.01671 11 3V1.5ZM4.5 8C3.67157 8 3 8.67157 3 9.5C3 10.3284 3.67157 11 4.5 11C5.32843 11 6 10.3284 6 9.5C6 8.67157 5.32843 8 4.5 8ZM9 5.5C9 4.67157 9.67157 4 10.5 4C11.3284 4 12 4.67157 12 5.5C12 6.32843 11.3284 7 10.5 7C9.67157 7 9 6.32843 9 5.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Uv=["color"],Vv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Uv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Kv=["color"],Zv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Kv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Wv=["color"],Yv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Wv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Xv=["color"],$v=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Xv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Gv=["color"],qv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Gv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Qv=["color"],Jv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Qv);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M7.59664 2.93628C7.76085 3.06401 8.00012 2.94698 8.00012 2.73895V1.99998C9.98143 2 11.1848 2.3637 11.9105 3.08945C12.6363 3.81522 13 5.0186 13 6.99998C13 7.27613 13.2239 7.49998 13.5 7.49998C13.7761 7.49998 14 7.27613 14 6.99998C14 4.9438 13.6325 3.39719 12.6176 2.38234C11.6028 1.36752 10.0562 0.999999 8.00012 0.999984V0.261266C8.00012 0.0532293 7.76085 -0.0637944 7.59664 0.063928L6.00384 1.30277C5.87516 1.40286 5.87516 1.59735 6.00384 1.69744L7.59664 2.93628ZM9.5 5H2.5C2.22386 5 2 5.22386 2 5.5V12.5C2 12.7761 2.22386 13 2.5 13H9.5C9.77614 13 10 12.7761 10 12.5V5.5C10 5.22386 9.77614 5 9.5 5ZM2.5 4C1.67157 4 1 4.67157 1 5.5V12.5C1 13.3284 1.67157 14 2.5 14H9.5C10.3284 14 11 13.3284 11 12.5V5.5C11 4.67157 10.3284 4 9.5 4H2.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),eg=["color"],tg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,eg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992ZM0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992ZM1.99998 6.99994C1.99998 6.44766 2.44769 5.99995 2.99998 5.99995L5.99995 5.99995C6.55223 5.99995 6.99994 6.44766 6.99994 6.99994L6.99994 7.99993C6.99994 8.55221 6.55223 8.99992 5.99995 8.99992L2.99998 8.99992C2.4477 8.99992 1.99998 8.55221 1.99998 7.99993L1.99998 6.99994ZM8.99993 5.99995C8.44765 5.99995 7.99993 6.44766 7.99993 6.99994L7.99993 7.99993C7.99993 8.55221 8.44765 8.99992 8.99993 8.99992L11.9999 8.99992C12.5522 8.99992 12.9999 8.55221 12.9999 7.99993L12.9999 6.99994C12.9999 6.44766 12.5522 5.99995 11.9999 5.99995L8.99993 5.99995Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),ng=["color"],rg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,ng);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM7 2C6.44772 2 6 2.44772 6 3V6C6 6.55228 6.44772 7 7 7H8C8.55228 7 9 6.55228 9 6V3C9 2.44772 8.55228 2 8 2H7ZM7 8C6.44772 8 6 8.44771 6 9V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V9C9 8.44772 8.55228 8 8 8H7ZM1.49988 14C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H1.49988Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),ig=["color"],og=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,ig);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M1 1H1.5H13.5H14V1.5V13.5V14H13.5H1.5H1V13.5V1.5V1ZM2 2V13H13V2H2Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),ag=["color"],sg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,ag);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 5.99995L0.999992 5.99995L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 8.99992L13.9999 8.99992L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),ug=["color"],lg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,ug);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H6H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM9 14V1L6 1V14H1.49988C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H9Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),cg=["color"],dg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,cg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),fg=["color"],hg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,fg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),pg=["color"],vg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,pg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),gg=["color"],mg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,gg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),yg=["color"],bg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,yg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),wg=["color"],kg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,wg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M7.23336 4.69629C7.23336 2.96884 8.63335 1.56857 10.36 1.56857C11.3736 1.56857 12.183 2.04804 12.7254 2.74385C13.3079 2.62467 13.8557 2.40913 14.3513 2.11508C14.1559 2.72598 13.7424 3.2396 13.2033 3.56463C13.2038 3.56568 13.2042 3.56674 13.2047 3.56779C13.7334 3.50361 14.2364 3.36302 14.7048 3.15546L14.7037 3.15715C14.3667 3.66183 13.9431 4.10736 13.4561 4.47034C13.4823 4.64672 13.4956 4.82427 13.4956 5.00079C13.4956 8.6871 10.6873 12.9746 5.52122 12.9746C3.93906 12.9746 2.46544 12.511 1.22505 11.7152C0.992632 11.5661 0.925108 11.2568 1.07423 11.0244C1.0874 11.0038 1.10183 10.9846 1.11734 10.9666C1.20582 10.8202 1.37438 10.7309 1.5554 10.7522C2.47066 10.8601 3.38568 10.7485 4.19219 10.3962C3.39226 10.0434 2.77129 9.35975 2.50204 8.51974C2.45359 8.3686 2.48835 8.20311 2.59351 8.08422C2.59716 8.0801 2.60087 8.07606 2.60464 8.0721C1.96391 7.50819 1.55973 6.68208 1.55973 5.76143V5.72759C1.55973 5.56814 1.64411 5.42059 1.78155 5.33974C1.82671 5.31317 1.87537 5.29511 1.92532 5.28558C1.70549 4.86154 1.58116 4.37984 1.58116 3.86958C1.58116 3.40165 1.58384 2.81192 1.91332 2.28081C1.98718 2.16175 2.10758 2.08915 2.2364 2.07195C2.42588 2.01237 2.64087 2.06969 2.77406 2.23302C3.86536 3.57126 5.44066 4.49583 7.23366 4.73961L7.23336 4.69629ZM5.52122 11.9746C4.73387 11.9746 3.97781 11.8435 3.27248 11.6023C4.13012 11.4538 4.95307 11.1159 5.66218 10.5602C5.81211 10.4427 5.87182 10.2435 5.81126 10.0629C5.7507 9.88234 5.583 9.75943 5.39255 9.75607C4.68968 9.74366 4.06712 9.39716 3.67793 8.86845C3.86828 8.85306 4.05428 8.82039 4.23445 8.77167C4.43603 8.71716 4.57363 8.53114 4.56674 8.32243C4.55985 8.11372 4.41029 7.93718 4.20555 7.89607C3.42694 7.73977 2.79883 7.16764 2.56169 6.42174C2.76255 6.47025 2.97102 6.4991 3.18482 6.5061C3.38563 6.51267 3.56646 6.38533 3.62795 6.19405C3.68943 6.00277 3.61666 5.79391 3.44963 5.68224C2.86523 5.29155 2.48116 4.62464 2.48116 3.86958C2.48116 3.70213 2.48352 3.55268 2.49355 3.41719C3.85115 4.79913 5.70873 5.68931 7.77588 5.79338C7.93225 5.80126 8.08328 5.73543 8.18395 5.61553C8.28463 5.49562 8.32332 5.33548 8.28851 5.18284C8.25255 5.02517 8.23336 4.86284 8.23336 4.69629C8.23336 3.52085 9.18591 2.56857 10.36 2.56857C11.5943 2.56857 12.4956 3.71208 12.4956 5.00079C12.4956 8.25709 10.0202 11.9746 5.52122 11.9746Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),Sg=["color"],Cg=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=Hp(t,Sg);return(0,e.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:n}),(0,e.createElement)("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))})),_g=e.forwardRef((function(t,n){return e.createElement(mc.span,lc({},t,{ref:n,style:a({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"},t.style)}))}));function Eg(t){var n=e.useRef({value:t,previous:t});return e.useMemo((function(){return n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous}),[t])}var xg=["__scopeTooltip"],Ig=["forceMount"],Pg=["__scopeTooltip","children","aria-label","portalled"],Mg=["__scopeTooltip"],Tg=b(wc("Tooltip",[vd]),2),Og=Tg[0],Rg=(Tg[1],vd()),Dg=b(Og("TooltipProvider",{isOpenDelayed:!0,delayDuration:700,onOpen:function(){},onClose:function(){}}),2),Ag=(Dg[0],Dg[1]),Lg=b(Og("Tooltip"),2),Bg=Lg[0],jg=Lg[1],Ng=e.forwardRef((function(t,n){var r=t.__scopeTooltip,i=$s(t,xg),o=jg("TooltipTrigger",r),a=Rg(r),s=uc(n,o.onTriggerChange),u=e.useRef(!1),l=e.useCallback((function(){return u.current=!1}),[]);return e.useEffect((function(){return function(){return document.removeEventListener("mouseup",l)}}),[l]),e.createElement(xd,lc({asChild:!0},a),e.createElement(mc.button,lc({"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute},i,{ref:s,onMouseEnter:_c(t.onMouseEnter,o.onTriggerEnter),onMouseLeave:_c(t.onMouseLeave,o.onClose),onMouseDown:_c(t.onMouseDown,(function(){o.onClose(),u.current=!0,document.addEventListener("mouseup",l,{once:!0})})),onFocus:_c(t.onFocus,(function(){u.current||o.onOpen()})),onBlur:_c(t.onBlur,o.onClose),onClick:_c(t.onClick,(function(e){0===e.detail&&o.onClose()}))})))})),Fg=e.forwardRef((function(t,n){var r=t.forceMount,i=$s(t,Ig),o=jg("TooltipContent",t.__scopeTooltip);return e.createElement(Md,{present:r||o.open},e.createElement(zg,lc({ref:n},i)))})),zg=e.forwardRef((function(t,n){var r=t.__scopeTooltip,i=t.children,o=t["aria-label"],s=t.portalled,u=void 0===s||s,l=$s(t,Pg),c=jg("TooltipContent",r),d=Rg(r),f=u?Yc:e.Fragment,h=c.onClose;return zd((function(){return h()})),e.useEffect((function(){return document.addEventListener("tooltip.open",h),function(){return document.removeEventListener("tooltip.open",h)}}),[h]),e.createElement(f,null,e.createElement(Hg,{__scopeTooltip:r}),e.createElement(Id,lc({"data-state":c.stateAttribute},d,l,{ref:n,style:a(a({},l.style),{},{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"})}),e.createElement(pc,null,i),e.createElement(_g,{id:c.contentId,role:"tooltip"},o||i)))}));function Hg(t){var n=t.__scopeTooltip,r=jg("CheckTriggerMoved",n),i=td(r.trigger),o=null==i?void 0:i.left,a=Eg(o),s=null==i?void 0:i.top,u=Eg(s),l=r.onClose;return e.useEffect((function(){(void 0!==a&&a!==o||void 0!==u&&u!==s)&&l()}),[l,a,u,o,s]),null}var Ug=function(t){var n=t.__scopeTooltip,r=t.children,i=t.open,o=t.defaultOpen,a=void 0!==o&&o,s=t.onOpenChange,u=t.delayDuration,l=Ag("Tooltip",n),c=Rg(n),d=b(e.useState(null),2),f=d[0],h=d[1],p=tc(),v=e.useRef(0),g=null!=u?u:l.delayDuration,m=e.useRef(!1),y=l.onOpen,w=l.onClose,k=b(ac({prop:i,defaultProp:a,onChange:function(e){e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),y()),null==s||s(e)}}),2),S=k[0],C=void 0!==S&&S,_=k[1],E=e.useMemo((function(){return C?m.current?"delayed-open":"instant-open":"closed"}),[C]),x=e.useCallback((function(){window.clearTimeout(v.current),m.current=!1,_(!0)}),[_]),I=e.useCallback((function(){window.clearTimeout(v.current),v.current=window.setTimeout((function(){m.current=!0,_(!0)}),g)}),[g,_]);return e.useEffect((function(){return function(){return window.clearTimeout(v.current)}}),[]),e.createElement(Ed,c,e.createElement(Bg,{scope:n,contentId:p,open:C,stateAttribute:E,trigger:f,onTriggerChange:h,onTriggerEnter:e.useCallback((function(){l.isOpenDelayed?I():x()}),[l.isOpenDelayed,I,x]),onOpen:e.useCallback(x,[x]),onClose:e.useCallback((function(){window.clearTimeout(v.current),_(!1),w()}),[_,w])},r))},Vg=Ng,Kg=Fg,Zg=e.forwardRef((function(t,n){var r=t.__scopeTooltip,i=$s(t,Mg),o=Rg(r);return e.createElement(Pd,lc({},o,i,{ref:n}))})),Wg=["__scopeDialog"],Yg=["forceMount"],Xg=["__scopeDialog"],$g=["forceMount"],Gg=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],qg=["__scopeDialog"],Qg=b(wc("Dialog"),2),Jg=Qg[0],em=Qg[1],tm=b(Jg("Dialog"),2),nm=tm[0],rm=tm[1],im=e.forwardRef((function(t,n){var r=t.__scopeDialog,i=$s(t,Wg),o=rm("DialogTrigger",r),a=uc(n,o.triggerRef);return e.createElement(mc.button,lc({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":fm(o.open)},i,{ref:a,onClick:_c(t.onClick,o.onOpenToggle)}))})),om=e.forwardRef((function(t,n){var r=t.forceMount,i=$s(t,Yg),o=rm("DialogOverlay",t.__scopeDialog);return o.modal?e.createElement(Md,{present:r||o.open},e.createElement(am,lc({},i,{ref:n}))):null})),am=e.forwardRef((function(t,n){var r=t.__scopeDialog,i=$s(t,Xg),o=rm("DialogOverlay",r);return e.createElement(Ff,{as:fc,allowPinchZoom:o.allowPinchZoom,shards:[o.contentRef]},e.createElement(mc.div,lc({"data-state":fm(o.open)},i,{ref:n,style:a({pointerEvents:"auto"},i.style)})))})),sm=e.forwardRef((function(t,n){var r=t.forceMount,i=$s(t,$g),o=rm("DialogContent",t.__scopeDialog);return e.createElement(Md,{present:r||o.open},o.modal?e.createElement(um,lc({},i,{ref:n})):e.createElement(lm,lc({},i,{ref:n})))})),um=e.forwardRef((function(t,n){var r=rm("DialogContent",t.__scopeDialog),i=e.useRef(null),o=uc(n,r.contentRef,i);return e.useEffect((function(){var e=i.current;if(e)return ef(e)}),[]),e.createElement(cm,lc({},t,{ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_c(t.onCloseAutoFocus,(function(e){var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:_c(t.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:_c(t.onFocusOutside,(function(e){return e.preventDefault()}))}))})),lm=e.forwardRef((function(t,n){var r=rm("DialogContent",t.__scopeDialog),i=e.useRef(!1);return e.createElement(cm,lc({},t,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(e){var n,o;null===(n=t.onCloseAutoFocus)||void 0===n||n.call(t,e),e.defaultPrevented||(i.current||null===(o=r.triggerRef.current)||void 0===o||o.focus(),e.preventDefault()),i.current=!1},onInteractOutside:function(e){var n,o;null===(n=t.onInteractOutside)||void 0===n||n.call(t,e),e.defaultPrevented||(i.current=!0);var a=e.target;(null===(o=r.triggerRef.current)||void 0===o?void 0:o.contains(a))&&e.preventDefault()}}))})),cm=e.forwardRef((function(t,n){var r=t.__scopeDialog,i=t.trapFocus,o=t.onOpenAutoFocus,a=t.onCloseAutoFocus,s=$s(t,Gg),u=rm("DialogContent",r),l=uc(n,e.useRef(null));return rc(),e.createElement(e.Fragment,null,e.createElement(Dd,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a},e.createElement(Zd,lc({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":fm(u.open)},s,{ref:l,onDismiss:function(){return u.onOpenChange(!1)}}))),!1)})),dm=e.forwardRef((function(t,n){var r=t.__scopeDialog,i=$s(t,qg),o=rm("DialogClose",r);return e.createElement(mc.button,lc({type:"button"},i,{ref:n,onClick:_c(t.onClick,(function(){return o.onOpenChange(!1)}))}))}));function fm(e){return e?"open":"closed"}var hm=b(function(t,n){var r=e.createContext(n);function i(t){var n=t.children,i=$s(t,yc),o=e.useMemo((function(){return i}),Object.values(i));return e.createElement(r.Provider,{value:o},n)}return i.displayName=t+"Provider",[i,function(i){var o=e.useContext(r);if(o)return o;if(void 0!==n)return n;throw new Error("`".concat(i,"` must be used within `").concat(t,"`"))}]}("DialogTitleWarning",{contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"}),2),pm=hm[0],vm=(hm[1],function(t){var n=t.__scopeDialog,r=t.children,i=t.open,o=t.defaultOpen,a=t.onOpenChange,s=t.modal,u=void 0===s||s,l=t.allowPinchZoom,c=e.useRef(null),d=e.useRef(null),f=b(ac({prop:i,defaultProp:o,onChange:a}),2),h=f[0],p=void 0!==h&&h,v=f[1];return e.createElement(nm,{scope:n,triggerRef:c,contentRef:d,contentId:tc(),titleId:tc(),descriptionId:tc(),open:p,onOpenChange:v,onOpenToggle:e.useCallback((function(){return v((function(e){return!e}))}),[v]),modal:u,allowPinchZoom:l},r)}),gm=im,mm=function(t){var n=t.__scopeDialog,r=t.forceMount,i=t.children,o=t.container,a=rm("DialogPortal",n);return e.createElement(e.Fragment,null,e.Children.map(i,(function(t){return e.createElement(Md,{present:r||a.open},e.createElement(Xc,{asChild:!0,container:o},t))})))},ym=om,bm=sm,wm=dm,km=["__scopeAlertDialog"],Sm=["__scopeAlertDialog"],Cm=["__scopeAlertDialog"],_m=["__scopeAlertDialog"],Em=["__scopeAlertDialog","children"],xm=["__scopeAlertDialog"],Im=["__scopeAlertDialog"],Pm=b(wc("AlertDialog",[em]),2),Mm=Pm[0],Tm=(Pm[1],em()),Om=e.forwardRef((function(t,n){var r=t.__scopeAlertDialog,i=$s(t,Sm),o=Tm(r);return e.createElement(gm,lc({},o,i,{ref:n}))})),Rm=e.forwardRef((function(t,n){var r=t.__scopeAlertDialog,i=$s(t,_m),o=Tm(r);return e.createElement(ym,lc({},o,i,{ref:n}))})),Dm=b(Mm("AlertDialogContent"),2),Am=Dm[0],Lm=Dm[1],Bm=e.forwardRef((function(t,n){var r=t.__scopeAlertDialog,i=t.children,o=$s(t,Em),a=Tm(r),s=uc(n,e.useRef(null)),u=e.useRef(null);return e.createElement(pm,{contentName:"AlertDialogContent",titleName:jm,docsSlug:"alert-dialog"},e.createElement(Am,{scope:r,cancelRef:u},e.createElement(bm,lc({role:"alertdialog"},a,o,{ref:s,onOpenAutoFocus:_c(o.onOpenAutoFocus,(function(e){var t;e.preventDefault(),null===(t=u.current)||void 0===t||t.focus({preventScroll:!0})})),onPointerDownOutside:function(e){return e.preventDefault()},onInteractOutside:function(e){return e.preventDefault()}}),e.createElement(pc,null,i),!1)))})),jm="AlertDialogTitle",Nm=e.forwardRef((function(t,n){var r=t.__scopeAlertDialog,i=$s(t,xm),o=Tm(r);return e.createElement(wm,lc({},o,i,{ref:n}))})),Fm=e.forwardRef((function(t,n){var r=t.__scopeAlertDialog,i=$s(t,Im),o=Lm("AlertDialogCancel",r).cancelRef,a=Tm(r),s=uc(n,o);return e.createElement(wm,lc({},a,i,{ref:s}))})),zm=function(t){var n=t.__scopeAlertDialog,r=$s(t,km),i=Tm(n);return e.createElement(vm,lc({},i,r,{modal:!0}))},Hm=Om,Um=function(t){var n=t.__scopeAlertDialog,r=$s(t,Cm),i=Tm(n);return e.createElement(mm,lc({},i,r))},Vm=Rm,Km=Bm,Zm=Nm,Wm=Fm,Ym=["__scopeContextMenu"],Xm=["__scopeContextMenu"],$m=["__scopeContextMenu"],Gm=["__scopeContextMenu"],qm=["__scopeContextMenu"],Qm=["__scopeContextMenu"],Jm=b(wc("ContextMenu",[uh]),2),ey=Jm[0],ty=(Jm[1],uh()),ny=b(ey("ContextMenu"),2),ry=ny[0],iy=ny[1],oy=e.forwardRef((function(t,n){var r=t.__scopeContextMenu,i=$s(t,Ym),o=iy("ContextMenuTrigger",r),s=ty(r),u=e.useRef({x:0,y:0}),l=e.useRef({getBoundingClientRect:function(){return DOMRect.fromRect(a({width:0,height:0},u.current))}}),c=e.useRef(0),d=e.useCallback((function(){return window.clearTimeout(c.current)}),[]),f=function(e){u.current={x:e.clientX,y:e.clientY},o.onOpenChange(!0)};return e.useEffect((function(){return d}),[d]),e.createElement(sy,{scope:r,isInsideContent:!1},e.createElement(Uh,lc({},s,{virtualRef:l})),e.createElement(mc.span,lc({},i,{ref:n,style:a({WebkitTouchCallout:"none"},t.style),onContextMenu:_c(t.onContextMenu,(function(e){d(),e.preventDefault(),f(e)})),onPointerDown:_c(t.onPointerDown,py((function(e){d(),c.current=window.setTimeout((function(){return f(e)}),700)}))),onPointerMove:_c(t.onPointerMove,py(d)),onPointerCancel:_c(t.onPointerCancel,py(d)),onPointerUp:_c(t.onPointerUp,py(d))})))})),ay=b(ey("ContextMenuContent",{isInsideContent:!1}),2),sy=ay[0],uy=ay[1],ly=e.forwardRef((function(t,n){var r=t.__scopeContextMenu,i=$s(t,Xm),o=iy("ContextMenuContent",r),s=ty(r),u=a(a({},i),{},{style:a(a({},t.style),{},{"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"})});return e.createElement(sy,{scope:r,isInsideContent:!0},o.isRootMenu?e.createElement(cy,lc({__scopeContextMenu:r},u,{ref:n})):e.createElement(Kh,lc({},s,u,{ref:n})))})),cy=e.forwardRef((function(t,n){var r=t.__scopeContextMenu,i=$s(t,$m),o=iy("ContextMenuContent",r),a=ty(r),s=e.useRef(!1);return e.createElement(Kh,lc({},a,i,{ref:n,portalled:!0,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:function(e){var n;null===(n=t.onCloseAutoFocus)||void 0===n||n.call(t,e),!e.defaultPrevented&&s.current&&e.preventDefault(),s.current=!1},onInteractOutside:function(e){var n;null===(n=t.onInteractOutside)||void 0===n||n.call(t,e),e.defaultPrevented||o.modal||(s.current=!0)}}))})),dy=e.forwardRef((function(t,n){var r=t.__scopeContextMenu,i=$s(t,Gm),o=ty(r);return e.createElement(Zh,lc({},o,i,{ref:n}))})),fy=e.forwardRef((function(t,n){var r=t.__scopeContextMenu,i=$s(t,qm),o=ty(r);return e.createElement(Vh,lc({},o,i,{ref:n}))})),hy=e.forwardRef((function(t,n){var r=t.__scopeContextMenu,i=$s(t,Qm),o=ty(r);return e.createElement(qh,lc({},o,i,{ref:n}))}));function py(e){return function(t){return"mouse"!==t.pointerType?e(t):void 0}}var vy,gy,my,yy,by,wy,ky,Sy,Cy,_y,Ey,xy,Iy,Py,My,Ty,Oy,Ry,Dy,Ay,Ly,By,jy,Ny,Fy,zy=function(t){var n=t.__scopeContextMenu,r=t.children,i=t.onOpenChange,o=t.dir,a=t.modal,s=void 0===a||a,u=b(e.useState(!1),2),l=u[0],c=u[1],d=uy("ContextMenu",n),f=ty(n),h=oc(i),p=e.useCallback((function(e){c(e),h(e)}),[h]);return d.isInsideContent?e.createElement(ry,{scope:n,isRootMenu:!1,open:l,onOpenChange:p,modal:s},e.createElement(Hh,lc({},f,{open:l,onOpenChange:p}),r)):e.createElement(ry,{scope:n,isRootMenu:!0,open:l,onOpenChange:p,modal:s},e.createElement(zh,lc({},f,{dir:o,open:l,onOpenChange:p,modal:s}),r))},Hy=oy,Uy=ly,Vy=Object.defineProperty,Ky=Object.defineProperties,Zy=Object.getOwnPropertyDescriptor,Wy=Object.getOwnPropertyDescriptors,Yy=Object.getOwnPropertyNames,Xy=Object.getOwnPropertySymbols,$y=Object.prototype.hasOwnProperty,Gy=Object.prototype.propertyIsEnumerable,qy=function(e,t,n){return t in e?Vy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Qy=function(e,t){for(var n in t||(t={}))$y.call(t,n)&&qy(e,n,t[n]);if(Xy){var r,i=C(Xy(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Gy.call(t,n)&&qy(e,n,t[n])}}catch(dR){i.e(dR)}finally{i.f()}}return e},Jy=function(e,t){return Ky(e,Wy(t))},eb=function(e,t){var n={};for(var r in e)$y.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Xy){var i,o=C(Xy(e));try{for(o.s();!(i=o.n()).done;){r=i.value;t.indexOf(r)<0&&Gy.call(e,r)&&(n[r]=e[r])}}catch(dR){o.e(dR)}finally{o.f()}}return n},tb=function(e,t,n){return qy(e,"symbol"!==typeof t?t+"":t,n),n},nb=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},rb=Xu({themeMap:Qy({},iu),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",sponsor:"#ec6cb9",sponsorContrast:"#ec6cb944",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:"0px 0px 16px -1px rgba(0, 0, 0, 0.05), \n        0px 0px 16px -8px rgba(0, 0, 0, 0.05), \n        0px 0px 16px -12px rgba(0, 0, 0, 0.12),\n        0px 0px 2px 0px rgba(0, 0, 0, 0.08)"},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px",6:"32px",7:"48px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:function(){return function(e){return Array.isArray(e)?{strokeWidth:"calc(".concat(e[0],"px / var(--camera-zoom))")}:{strokeWidth:"calc(".concat(e,"px / var(--camera-zoom))")}}}}}),ib=rb.styled,ob=(0,rb.createTheme)({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:"0px 0px 16px -1px rgba(0, 0, 0, 0.05), \n      0px 0px 16px -8px rgba(0, 0, 0, 0.09), \n      0px 0px 16px -12px rgba(0, 0, 0, 0.2)"}}),ab=k((function e(){S(this,e),tb(this,"onPinchStart"),tb(this,"onPinchEnd"),tb(this,"onPinch"),tb(this,"onKeyDown"),tb(this,"onKeyUp"),tb(this,"onPointerMove"),tb(this,"onPointerUp"),tb(this,"onPan"),tb(this,"onZoom"),tb(this,"onPointerDown"),tb(this,"onPointCanvas"),tb(this,"onDoubleClickCanvas"),tb(this,"onRightPointCanvas"),tb(this,"onDragCanvas"),tb(this,"onReleaseCanvas"),tb(this,"onPointShape"),tb(this,"onDoubleClickShape"),tb(this,"onRightPointShape"),tb(this,"onDragShape"),tb(this,"onHoverShape"),tb(this,"onUnhoverShape"),tb(this,"onReleaseShape"),tb(this,"onPointBounds"),tb(this,"onDoubleClickBounds"),tb(this,"onRightPointBounds"),tb(this,"onDragBounds"),tb(this,"onHoverBounds"),tb(this,"onUnhoverBounds"),tb(this,"onReleaseBounds"),tb(this,"onPointBoundsHandle"),tb(this,"onDoubleClickBoundsHandle"),tb(this,"onRightPointBoundsHandle"),tb(this,"onDragBoundsHandle"),tb(this,"onHoverBoundsHandle"),tb(this,"onUnhoverBoundsHandle"),tb(this,"onReleaseBoundsHandle"),tb(this,"onPointHandle"),tb(this,"onDoubleClickHandle"),tb(this,"onRightPointHandle"),tb(this,"onDragHandle"),tb(this,"onHoverHandle"),tb(this,"onUnhoverHandle"),tb(this,"onReleaseHandle"),tb(this,"onShapeBlur"),tb(this,"onShapeClone")})),sb=function(e){return e.Small="small",e.Medium="medium",e.Large="large",e}(sb||{}),ub=function(e){return e.Draw="draw",e.Solid="solid",e.Dashed="dashed",e.Dotted="dotted",e}(ub||{}),lb=function(e){return e.Start="start",e.Middle="middle",e.End="end",e.Justify="justify",e}(lb||{}),cb=function(e){return e.Script="script",e.Sans="sans",e.Serif="erif",e.Mono="mono",e}(cb||{}),db={};function fb(e,t){var n=e.version,r=void 0===n?0:n;"assets"in e||(e.assets={});var o=new Set;return Object.values(e.pages).forEach((function(e){return Object.values(e.shapes).forEach((function(t){var n=t.parentId,r=t.children,i=t.assetId;i&&o.add(i),n===e.id||e.shapes[n]||(console.warn("Encountered a shape with a missing parent!"),t.parentId=e.id),"group"===t.type&&r&&r.forEach((function(n){e.shapes[n]||(console.warn("Encountered a parent with a missing child!",t.id,n),null==r||r.splice(r.indexOf(n),1))}))}))})),Object.keys(e.assets).forEach((function(t){o.has(t)||delete e.assets[t]})),r===t||(r<14&&Object.values(e.pages).forEach((function(e){Object.values(e.shapes).filter((function(e){return"text"===e.type})).forEach((function(e){return"script"===e.style.font}))})),r<=13&&Object.values(e.pages).forEach((function(e){Object.values(e.bindings).forEach((function(e){Object.assign(e,e.meta)})),Object.values(e.shapes).forEach((function(e){Object.entries(e.style).forEach((function(t){var n=b(t,2),r=n[0],i=n[1];"string"===typeof i&&(e.style[r]=i.toLowerCase())})),"arrow"===e.type&&e.decorations&&Object.entries(e.decorations).forEach((function(t){var n=b(t,2),r=n[0];"Arrow"===n[1]&&(e.decorations=Jy(Qy({},e.decorations),i({},r,"arrow")))}))}))})),r<=13.1&&(e.name="New Document"),r<15&&(e.assets={}),Object.values(e.pages).forEach((function(e){Object.values(e.shapes).forEach((function(e){r<15.2&&("image"!==e.type&&"video"!==e.type||(e.style.isFilled=!0)),r<15.3&&("rectangle"!==e.type&&"triangle"!==e.type&&"ellipse"!==e.type&&"arrow"!==e.type||(e.label=e.text||"",e.labelPoint=[.5,.5]))}))})),Object.values(e.pageStates).forEach((function(t){t.selectedIds=t.selectedIds.filter((function(n){return void 0!==e.pages[t.id].shapes[n]})),t.bindingId=void 0,t.editingId=void 0,t.hoveredId=void 0,t.pointedId=void 0})),e.version=t),e}!function(e,t){for(var n in t)Vy(e,n,{get:t[n],enumerable:!0})}(db,{fileToBase64:function(){return Db},fileToText:function(){return Ab},getImageSizeFromSrc:function(){return Lb},getVideoSizeFromSrc:function(){return Bb},loadFileHandle:function(){return Pb},migrate:function(){return fb},openAssetFromFileSystem:function(){return Rb},openFromFileSystem:function(){return Ob},saveFileHandle:function(){return Mb},saveToFileSystem:function(){return Tb}});var hb="-0.03em",pb=16,vb=16,gb=32,mb=128,yb=10,bb=.3,wb=[.5,.5],kb=(Math.PI,{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return e<=0?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return e>=1?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}}),Sb=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],Cb="undefined"!==typeof Window&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_b=[".png",".svg",".jpg",".jpeg",".gif"],Eb=Cb?[]:[".mp4",".webm"],xb={mode:"readwrite"},Ib=function(e){return nb(void 0,null,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.queryPermission(xb);case 2:if(t.t1=t.sent,t.t0="granted"===t.t1,t.t0){t.next=9;break}return t.next=7,e.requestPermission(xb);case 7:t.t2=t.sent,t.t0="granted"===t.t2;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)})))};function Pb(){return nb(this,null,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Window&&"_location"in Window){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ju("Tldraw_file_handle_".concat(window.location.origin));case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))}function Mb(e){return nb(this,null,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",el("Tldraw_file_handle_".concat(window.location.origin),e));case 1:case"end":return t.stop()}}),t)})))}function Tb(e,t){return nb(this,null,(0,m.Z)().mark((function r(){var i,o,a,s,u,l;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i={name:e.name||"New Document",fileHandle:null!=t?t:null,document:e,assets:{}},o=JSON.stringify(i,null,2),a=new Blob([o],{type:"application/vnd.Tldraw+json"}),!t){r.next=9;break}return r.next=6,Ib(t);case 6:if(r.sent){r.next=9;break}return r.abrupt("return",null);case 9:return r.next=11,Promise.resolve().then(n.bind(n,11));case 11:return s=r.sent,u=s.fileSave,r.next=15,u(a,{fileName:"".concat(i.name,".tldr"),description:"Tldraw File",extensions:[".tldr"]},t);case 15:return l=r.sent,r.next=18,Mb(l);case 18:return r.abrupt("return",l);case 19:case"end":return r.stop()}}),r)})))}function Ob(){return nb(this,null,(0,m.Z)().mark((function e(){var t,r,i,o,a,s,u;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,11));case 2:return r=e.sent,i=r.fileOpen,e.next=6,i({description:"Tldraw File",extensions:[".tldr"],multiple:!1});case 6:if(o=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return e.next=11,new Promise((function(e){var t=new FileReader;t.onloadend=function(){t.readyState===FileReader.DONE&&e(t.result)},t.readAsText(o,"utf8")}));case 11:return a=e.sent,s=JSON.parse(a),u=null!=(t=o.handle)?t:null,e.next=16,Mb(u);case 16:return e.abrupt("return",{fileHandle:u,document:s.document});case 17:case"end":return e.stop()}}),e)})))}function Rb(){return nb(this,null,(0,m.Z)().mark((function e(){var t,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,11));case 2:return t=e.sent,r=t.fileOpen,e.abrupt("return",r({description:"Image or Video",extensions:[].concat(_b,Eb),multiple:!1}));case 5:case"end":return e.stop()}}),e)})))}function Db(e){return new Promise((function(t,n){if(e){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.onabort=function(e){return n(e)}}}))}function Ab(e){return new Promise((function(t,n){if(e){var r=new FileReader;r.readAsText(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)},r.onabort=function(e){return n(e)}}}))}function Lb(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t([r.width,r.height])},r.onerror=function(){return n(new Error("Could not get image size"))},r.src=e}))}function Bb(e){return new Promise((function(t,n){var r=document.createElement("video");r.onloadedmetadata=function(){return t([r.videoWidth,r.videoHeight])},r.onerror=function(){return n(new Error("Could not get video size"))},r.src=e}))}!function(e,t,n,r){if(t&&"object"===typeof t||"function"===typeof t){var i,o=C(Yy(t));try{var a=function(){var o=i.value;$y.call(e,o)||!n&&"default"===o||Vy(e,o,{get:function(){return t[o]},enumerable:!(r=Zy(t,o))||r.enumerable})};for(o.s();!(i=o.n()).done;)a()}catch(dR){o.e(dR)}finally{o.f()}}}(db,tl);var jb="#fafafa",Nb="#343d45",Fb=(i(vy={},"white","#f0f1f3"),i(vy,"lightGray","#c6cbd1"),i(vy,"gray","#788492"),i(vy,"black","#1d1d1d"),i(vy,"green","#36b24d"),i(vy,"cyan","#0e98ad"),i(vy,"blue","#1c7ed6"),i(vy,"indigo","#4263eb"),i(vy,"violet","#7746f1"),i(vy,"red","#ff2133"),i(vy,"orange","#ff9433"),i(vy,"yellow","#ffc936"),vy),zb={light:Jy(Qy({},Object.fromEntries(Object.entries(Fb).map((function(e){var t=b(e,2),n=t[0],r=t[1];return[n,Xa.lerpColor(r,jb,.45)]})))),(gy={},i(gy,"white","#ffffff"),i(gy,"black","#3d3d3d"),gy)),dark:Jy(Qy({},Object.fromEntries(Object.entries(Fb).map((function(e){var t=b(e,2),n=t[0],r=t[1];return[n,Xa.lerpColor(Xa.lerpColor(r,"#999999",.3),Nb,.4)]})))),(my={},i(my,"white","#1d1d1d"),i(my,"black","#bbbbbb"),my))},Hb={light:Jy(Qy({},Fb),i({},"white","#1d1d1d")),dark:Jy(Qy({},Object.fromEntries(Object.entries(Fb).map((function(e){var t=b(e,2),n=t[0],r=t[1];return[n,Xa.lerpColor(r,Nb,.1)]})))),(yy={},i(yy,"white","#cecece"),i(yy,"black","#cecece"),yy))},Ub={light:Jy(Qy({},Object.fromEntries(Object.entries(Fb).map((function(e){var t=b(e,2),n=t[0],r=t[1];return[n,Xa.lerpColor(r,jb,.82)]})))),i({},"white","#fefefe")),dark:Jy(Qy({},Object.fromEntries(Object.entries(Fb).map((function(e){var t=b(e,2),n=t[0],r=t[1];return[n,Xa.lerpColor(r,Nb,.82)]})))),(by={},i(by,"white","rgb(30,33,37)"),i(by,"black","#1e1e1f"),by))},Vb=(i(wy={},"small",2),i(wy,"medium",3.5),i(wy,"large",5),wy),Kb=(i(ky={},"small",28),i(ky,"medium",48),i(ky,"large",96),i(ky,"auto","auto"),ky),Zb=(i(Sy={},"script",'"Caveat Brush"'),i(Sy,"sans",'"Source Sans Pro"'),i(Sy,"erif",'"Crimson Pro"'),i(Sy,"mono",'"Source Code Pro"'),Sy),Wb=(i(Cy={},"script",1),i(Cy,"sans",1),i(Cy,"erif",1),i(Cy,"mono",1),Cy),Yb=(i(_y={},"small",24),i(_y,"medium",36),i(_y,"large",48),i(_y,"auto","auto"),_y);function Xb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";return Kb[e]*Wb[t]}function $b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"script";return Zb[e]}function Gb(e){var t=Xb(e.size,e.font),n=$b(e.font),r=e.scale;return"".concat(t*(void 0===r?1:r),"px/1 ").concat(n)}function qb(e){var t,n=(t=e.size,Yb[t]),r=$b(e.font),i=e.scale;return"".concat(n*(void 0===i?1:i),"px/1 ").concat(r)}function Qb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.color,r=t?"dark":"light",i="white"===n||"black"===n?"yellow":n;return{fill:zb[r][i],stroke:Hb[r][i],color:t?"#1d1d1d":"#0d0d0d"}}function Jb(e,t){var n=e.color,r=e.size,i=e.isFilled,o=function(e){return Vb[e]}(r),a=t?"dark":"light";return{stroke:Hb[a][n],fill:i?Ub[a][n]:"none",strokeWidth:o}}var ew,tw={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},nw=Jy(Qy({},tw),{font:"script",textAlign:"middle"}),rw=(i(Ey={},"start","left"),i(Ey,"middle","center"),i(Ey,"end","right"),i(Ey,"justify","justify"),Ey);function iw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start";return rw[e]}function ow(e,t,n){var r=Xb(t.size,t.font),i=document.createElementNS("http://www.w3.org/2000/svg","g"),o=e.split("\n").map((function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","text");return n.textContent=e,n.setAttribute("y",1.3*r*(.5+t)+""),i.appendChild(n),n}));switch(i.setAttribute("font-size",r+""),i.setAttribute("font-family",$b(t.font).slice(1,-1)),i.setAttribute("text-align",iw(t.textAlign)),t.textAlign){case"middle":i.setAttribute("text-align","center"),i.setAttribute("text-anchor","middle"),o.forEach((function(e){return e.setAttribute("x",n.width/2+"")}));break;case"end":i.setAttribute("text-align","right"),i.setAttribute("text-anchor","end"),o.forEach((function(e){return e.setAttribute("x",n.width+"")}));break;case"start":i.setAttribute("text-anchor","start"),i.setAttribute("alignment-baseline","central")}return i}"undefined"!==typeof window&&(ew=function(){var e;null==(e=document.getElementById("__textLabelMeasure"))||e.remove();var t=document.createElement("pre");return t.id="__textLabelMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:hb,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}());var aw="",sw="",uw=[0,0];function lw(){aw=""}function cw(e,t){if(!e)return[16,32];if(!ew)return[10,10];if(ew.parent||document.body.appendChild(ew),e===aw&&t===sw)return uw;aw=e,sw=t,ew.textContent=e,ew.style.font=t;var n=ew.offsetWidth||1,r=ew.offsetHeight||1;return uw=[n,r]}function dw(e,t){var n=Xa.getFromCache(t,e,(function(){var t=b(e.size,2),n=t[0],r=t[1];return{minX:0,maxX:n,minY:0,maxY:r,width:n,height:r}}));return Xa.translateBounds(n,e.point)}function fw(e,t,n){var r=n.initialShape,i=n.transformOrigin,o=n.scaleX,a=n.scaleY;return e.rotation||r.isAspectRatioLocked?{size:ko.toFixed(ko.mul(r.size,Math.min(Math.abs(o),Math.abs(a)))),point:ko.toFixed([t.minX+(t.width-e.size[0])*(o<0?1-i[0]:i[0]),t.minY+(t.height-e.size[1])*(a<0?1-i[1]:i[1])]),rotation:o<0&&a>=0||a<0&&o>=0?r.rotation?-r.rotation:0:r.rotation}:{point:ko.toFixed([t.minX,t.minY]),size:ko.toFixed([t.width,t.height])}}function hw(e,t){return{size:ko.toFixed([t.width,t.height]),point:ko.toFixed([t.minX,t.minY])}}var pw=function(){function e(){S(this,e)}return k(e,null,[{key:"insertTextFirefox",value:function(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}},{key:"insert",value:function(t,n){var r=t.ownerDocument,i=r.activeElement;i!==t&&t.focus(),r.execCommand("insertText",!1,n)||e.insertTextFirefox(t,n),i===r.body?t.blur():i instanceof HTMLElement&&i!==t&&i.focus()}},{key:"set",value:function(t,n){t.select(),e.insert(t,n)}},{key:"getSelection",value:function(e){var t=e.selectionStart,n=e.selectionEnd;return e.value.slice(t||void 0,n||void 0)}},{key:"wrapSelection",value:function(t,n,r){var i=t.selectionStart,o=t.selectionEnd,a=e.getSelection(t);e.insert(t,n+a+(null!=r?r:n)),t.selectionStart=(i||0)+n.length,t.selectionEnd=(o||0)+n.length}},{key:"replace",value:function(t,n,r){var i=0;t.value.replace(n,(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i+o[o.length-2],u=o[0].length;t.selectionStart=s,t.selectionEnd=s+u;var l="string"===typeof r?r:r.apply(void 0,o);return e.insert(t,l),t.selectionStart=s,i+=l.length-u,l}))}},{key:"findLineEnd",value:function(e,t){var n=e.lastIndexOf("\n",t-1)+1;return"\t"!==e.charAt(n)?t:n+1}},{key:"indent",value:function(t){var n,r=t.selectionStart,i=t.selectionEnd,o=t.value,a=o.slice(r,i),s=null==(n=/\n/g.exec(a))?void 0:n.length;if(s&&s>0){var u=o.lastIndexOf("\n",r-1)+1,l=t.value.slice(u,i-1),c=l.replace(/^|\n/g,"$&".concat("  ")),d=c.length-l.length;t.setSelectionRange(u,i-1),e.insert(t,c),t.setSelectionRange(r+1,i+d)}else e.insert(t,"  ")}},{key:"unindent",value:function(t){var n=t.selectionStart,r=t.selectionEnd,i=t.value,o=i.lastIndexOf("\n",n-1)+1,a=e.findLineEnd(i,r),s=t.value.slice(o,a),u=s.replace(/(^|\n)(\t| {1,2})/g,"$1"),l=s.length-u.length;t.setSelectionRange(o,a),e.insert(t,u);var c=/\t| {1,2}/.exec(i.slice(o,n)),d=c?c[0].length:0,f=n-d;t.setSelectionRange(n-d,Math.max(f,r-l))}}]),e}(),vw=function(e){return e.stopPropagation()};function gw(t){return e.useCallback((function(e){switch(e.metaKey&&e.stopPropagation(),e.key){case"Meta":e.stopPropagation();break;case"z":e.metaKey&&(e.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),e.preventDefault());break;case"Escape":e.currentTarget.blur();break;case"Enter":(e.ctrlKey||e.metaKey)&&e.currentTarget.blur();break;case"Tab":e.preventDefault(),e.shiftKey?pw.unindent(e.currentTarget):pw.indent(e.currentTarget),t(qk.normalizeText(e.currentTarget.value))}}),[t])}var mw=e.memo((function(t){var n=t.font,r=t.text,i=t.color,o=t.offsetX,a=void 0===o?0:o,s=t.offsetY,u=void 0===s?0:s,l=t.scale,c=void 0===l?1:l,d=t.isEditing,f=void 0!==d&&d,h=t.onBlur,p=t.onChange,v=e.useRef(null),g=e.useRef(!1),m=e.useRef(r),y=e.useCallback((function(e){m.current=qk.normalizeText(e.currentTarget.value),p(m.current)}),[p]),b=gw(p),w=e.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==h||h()}),[h]),k=e.useCallback((function(e){f&&g.current&&document.activeElement===e.currentTarget&&e.currentTarget.select()}),[f]),S=e.useCallback((function(e){f&&e.stopPropagation()}),[f]);e.useEffect((function(){f?(m.current=r,requestAnimationFrame((function(){g.current=!0;var e=v.current;e&&(e.focus(),e.select())}))):null==h||h()}),[f,h]);var C=e.useRef(null);return e.useLayoutEffect((function(){var e=C.current;if(e){var t=cw(r,n);e.style.transform="scale(".concat(c,", ").concat(c,") translate(").concat(a,"px, ").concat(u,"px)"),e.style.width=t[0]+1+"px",e.style.height=t[1]+1+"px"}}),[r,n,u,a,c]),e.createElement(yw,null,e.createElement(ww,{ref:C,hasText:!!r,isEditing:f,style:{font:n,color:i}},f?e.createElement(kw,{ref:v,style:{font:n,color:i},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:m.current,color:i,onFocus:k,onChange:y,onKeyDown:b,onBlur:w,onPointerDown:S,onContextMenu:vw}):r,"\u200b"))})),yw=ib("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:bb}}}}),bw={whiteSpace:"pre-wrap",overflowWrap:"break-word"},ww=ib("div",Qy({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:hb,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},bw)),kw=ib("textarea",Qy({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},bw)),Sw=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"canBind",!1),tb(d(t),"canEdit",!1),tb(d(t),"canClone",!1),tb(d(t),"isAspectRatioLocked",!1),tb(d(t),"hideResizeHandles",!1),tb(d(t),"bindingDistance",vb),tb(d(t),"hitTestPoint",(function(e,n){return Xa.pointInBounds(n,t.getRotatedBounds(e))})),tb(d(t),"hitTestLineSegment",(function(e,n,r){var i=Xa.getBoundsFromPoints([n,r]),o=t.getBounds(e);return Xa.boundsContain(o,i)||e.rotation?ha(n,r,Xa.getRotatedCorners(t.getBounds(e))).didIntersect:fa(n,r,t.getBounds(e)).length>0})),tb(d(t),"create",(function(n){return t.refMap.set(n.id,e.createRef()),t.getShape(n)})),tb(d(t),"getCenter",(function(e){return Xa.getBoundsCenter(t.getBounds(e))})),tb(d(t),"getExpandedBounds",(function(e){return Xa.expandBounds(t.getBounds(e),t.bindingDistance)})),tb(d(t),"getBindingPoint",(function(e,n,r,i,o,a){var s=t.getBounds(e),u=t.getExpandedBounds(e);if(Xa.pointInBounds(r,u)){var l=sa(i,o,u).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]}));if(l.length){var c,d,f=t.getCenter(e),h=l.sort((function(e,t){return wo.dist(t,i)-wo.dist(e,i)}))[0],p=wo.med(r,h);a?(c=wo.dist(r,f)<8?f:r,d=0):(c=wo.distanceToLineSegment(r,p,f)<8?f:p,d=Xa.pointInBounds(r,s)?t.bindingDistance:Math.max(t.bindingDistance,Xa.getBoundsSides(s).map((function(e){return wo.distanceToLineSegment(e[1][0],e[1][1],r)})).sort((function(e,t){return e-t}))[0]));var v=wo.divV(wo.sub(c,[u.minX,u.minY]),[u.width,u.height]);return{point:wo.clampV(v,0,1),distance:d}}}})),tb(d(t),"mutate",(function(e,t){return t})),tb(d(t),"transform",(function(e,t,n){return Jy(Qy({},e),{point:[t.minX,t.minY]})})),tb(d(t),"transformSingle",(function(e,n,r){return t.transform(e,n,r)})),tb(d(t),"updateChildren"),tb(d(t),"onChildrenChange"),tb(d(t),"onHandleChange"),tb(d(t),"onRightPointHandle"),tb(d(t),"onDoubleClickHandle"),tb(d(t),"onDoubleClickBoundsHandle"),tb(d(t),"onSessionComplete"),tb(d(t),"getSvgElement",(function(e){var n,r=null==(n=document.getElementById(e.id+"_svg"))?void 0:n.cloneNode(!0);if(r){if("label"in e&&void 0!==e.label){var i=e,o=document.createElementNS("http://www.w3.org/2000/svg","g"),a=t.getBounds(e),s=ow(i.label,e.style,a);s.setAttribute("fill",Jb(e.style).stroke);var u=Gb(e.style),l=cw(i.label,u);return s.setAttribute("transform-origin","top left"),s.setAttribute("transform","translate(".concat((a.width-l[0])/2,", ").concat((a.height-l[1])/2,")")),o.appendChild(r),o.appendChild(s),o}return r}})),t}return k(r)}(Xs);function Cw(e,t,n){var r=function(e,t,n){var r=Jb(t),i=Xa.rng(e),o=r.strokeWidth,a=Math.max(0,n[0]),s=Math.max(0,n[1]),u=Array.from(Array(4)).map((function(){return[i()*o*.75,i()*o*.75]})),l=ko.add([o/2,o/2],u[0]),d=ko.add([a-o/2,o/2],u[1]),f=ko.add([a-o/2,s-o/2],u[2]),h=ko.add([o/2,s-o/2],u[3]),p=Math.round(Math.abs(2*i()*4)),v=Math.min(a/2,2*o),g=Math.min(s/2,2*o),m=Math.max(8,Math.floor(a/16)),y=Math.max(8,Math.floor(s/16)),b=Xa.rotateArray([ko.pointsBetween(ko.add(l,[v,0]),ko.sub(d,[v,0]),m),ko.pointsBetween(ko.add(d,[0,g]),ko.sub(f,[0,g]),y),ko.pointsBetween(ko.sub(f,[v,0]),ko.add(h,[v,0]),m),ko.pointsBetween(ko.sub(h,[0,g]),ko.add(l,[0,g]),y)],p);return{points:[].concat((0,c.Z)(b.flat()),(0,c.Z)(b[0])).slice(5,Math.floor((p%2===0?m:y)/-2)+3)}}(e,t,n);return{points:r.points,options:{size:Jb(t).strokeWidth,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function _w(e,t,n){var r=Cw(e,t,n),i=kl(r.points,r.options);return Xa.getSvgPathFromStroke(i.map((function(e){return e.point.slice(0,2)})),!1)}var Ew=e.memo((function(t){var n=t.id,r=t.style,i=t.size,o=t.isSelected,a=t.isDarkMode,s=r.isFilled,u=Jb(r,a),l=u.stroke,c=u.strokeWidth,d=u.fill,f=function(e,t,n){var r=Cw(e,t,n),i=r.points,o=r.options,a=Sl(i,o);return Xa.getSvgPathFromStroke(a)}(n,r,i),h=_w(n,r,i);return e.createElement(e.Fragment,null,e.createElement("path",{className:r.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d:h}),s&&e.createElement("path",{d:h,fill:d,pointerEvents:"none"}),e.createElement("path",{d:f,fill:l,stroke:l,strokeWidth:c,pointerEvents:"none"}))})),xw=e.memo((function(t){var n=t.id,r=t.style,i=t.size,o=t.isSelected,a=t.isDarkMode,s=Jb(r,a),u=s.stroke,l=s.strokeWidth,c=s.fill,d=1+1.618*l,f=Math.max(0,i[0]-d/2),h=Math.max(0,i[1]-d/2),p=[[[d/2,d/2],[f,d/2],f-d/2],[[f,d/2],[f,h],h-d/2],[[f,h],[d/2,h],f-d/2],[[d/2,h],[d/2,d/2],h-d/2]].map((function(t,i){var o=b(t,3),a=o[0],s=o[1],u=o[2],c=Xa.getPerfectDashProps(u,1.618*l,r.dash),d=c.strokeDasharray,f=c.strokeDashoffset;return e.createElement("line",{key:n+"_"+i,x1:a[0],y1:a[1],x2:s[0],y2:s[1],strokeDasharray:d,strokeDashoffset:f})}));return e.createElement(e.Fragment,null,e.createElement("rect",{className:o||r.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:d/2,y:d/2,width:f,height:h,strokeWidth:vb}),r.isFilled&&e.createElement("rect",{x:d/2,y:d/2,width:f,height:h,fill:c,pointerEvents:"none"}),e.createElement("g",{pointerEvents:"none",stroke:u,strokeWidth:d,strokeLinecap:"round"},p))}));function Iw(t){var n=t.strokeWidth,r=t.size;return e.createElement("rect",{className:"tl-binding-indicator",x:n,y:n,width:Math.max(0,r[0]-n/2),height:Math.max(0,r[1]-n/2),strokeWidth:32})}var Pw=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","rectangle"),tb(d(t),"canBind",!0),tb(d(t),"canClone",!0),tb(d(t),"canEdit",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:tw,label:"",labelPoint:[.5,.5]},e)})),tb(d(t),"Component",Sw.Component((function(t,n){var r=t.shape,i=t.isEditing,o=t.isBinding,a=t.isSelected,s=t.isGhost,u=t.meta,l=t.bounds,c=t.events,d=t.onShapeBlur,f=t.onShapeChange,h=r.id,p=r.size,v=r.style,g=r.label,m=void 0===g?"":g,y=r.labelPoint,b=void 0===y?wb:y,w=Gb(v),k=Jb(v,u.isDarkMode),S="draw"===v.dash?Ew:xw,C=e.useCallback((function(e){return null==f?void 0:f({id:h,label:e})}),[f]);return e.createElement(Mw,Qy({ref:n},c),e.createElement(mw,{isEditing:i,onChange:C,onBlur:d,font:w,text:m,color:k.stroke,offsetX:(b[0]-.5)*l.width,offsetY:(b[1]-.5)*l.height}),e.createElement(Cs,{id:r.id+"_svg",opacity:s?bb:1},o&&e.createElement(Iw,{strokeWidth:k.strokeWidth,size:p}),e.createElement(S,{id:h,style:v,size:p,isSelected:a,isDarkMode:u.isDarkMode})))}))),tb(d(t),"Indicator",Sw.Indicator((function(t){var n=t.shape,r=n.id,i=n.style,o=n.size,a=Jb(i,!1).strokeWidth;return"draw"===i.dash?e.createElement("path",{d:_w(r,i,o)}):e.createElement("rect",{x:a,y:a,rx:1,ry:1,width:Math.max(1,o[0]-2*a),height:Math.max(1,o[1]-2*a)})}))),tb(d(t),"getBounds",(function(e){return dw(e,t.boundsCache)})),tb(d(t),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.label!==e.label})),tb(d(t),"transform",fw),tb(d(t),"transformSingle",hw),t}return k(r)}(Sw),Mw=ib("div",{width:"100%",height:"100%"}),Tw=2*Math.PI,Ow=function(){function e(){S(this,e)}return k(e,null,[{key:"inwardEdgeNormal",value:function(e){var t=ko.sub(e[1],e[0]),n=ko.len2(t);return[-t[0]/n,t[1]/n]}},{key:"outwardEdgeNormal",value:function(t){return ko.neg(e.inwardEdgeNormal(t))}},{key:"isReflexVertex",value:function(t,n){var r=t.length,i=t[(n+r-1)%r],o=t[n],a=t[(n+1)%r];return e.leftSide(i,a,o)<0}},{key:"getEdges",value:function(e){return e.map((function(t,n){return[t,e[(n+1)%e.length]]}))}},{key:"edgesIntersection",value:function(e,t){var n=b(e,2),r=n[0],i=n[1],o=b(t,2),a=o[0],s=o[1],u=(s[1]-a[1])*(i[0]-r[0])-(s[0]-a[0])*(i[1]-r[1]);if(0==u)return null;var l=((s[0]-a[0])*(r[1]-a[1])-(s[1]-a[1])*(r[0]-a[0]))/u,c=((i[0]-r[0])*(r[1]-a[1])-(i[1]-r[1])*(r[0]-a[0]))/u;return l<0||c<0||l>1||c>1?null:[r[0]+l*(i[0]-r[0]),r[1]+l*(i[1]-r[1])]}},{key:"appendArc",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=(0,c.Z)(e),s=Math.atan2(r[1]-t[1],r[0]-t[0]),u=Math.atan2(i[1]-t[1],i[0]-t[0]);s<0&&(s+=Tw),u<0&&(u+=Tw);var l=5,d=s>u?s-u:s+Tw-u,f=(o?-d:Tw-d)/l;a.push(r);for(var h=1;h<l;++h){var p=s+f*h;a.push([t[0]+Math.cos(p)*n,t[1]+Math.sin(p)*n])}return a.push(i),a}},{key:"createOffsetEdge",value:function(e,t){return e.map((function(e){return ko.add(e,t)}))}},{key:"getOffsetPolygon",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getEdges(t),i=r.map((function(t){return e.createOffsetEdge(t,ko.mul(e.outwardEdgeNormal(t),n))})),o=[],a=0;a<i.length;a++){var s=i[a],u=i[(a+i.length-1)%i.length],l=e.edgesIntersection(u,s);l?o.push(l):e.appendArc(o,r[a][0],n,u[1],s[0],!1)}return o}},{key:"createPaddingPolygon",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.map((function(t){return e.createOffsetEdge(t,e.inwardEdgeNormal(t))})),i=[],o=0;o<r.length;o++){var a=r[o],s=r[(o+r.length-1)%r.length],u=e.edgesIntersection(s,a);u?i.push(u):e.appendArc(i,t[o][0],n,s[1],a[0],!0)}return i}}]),e}();function Rw(e,t){if(e.length<3)throw Error("Polygon must have at least 3 points");var n=e.length;return e.map((function(t,r){return[t,e[(r+1)%n]]})).map((function(e){var n=b(e,2),r=n[0],i=n[1],o=ko.mul(ko.per(ko.uni(ko.sub(i,r))),t);return[ko.add(r,o),ko.add(i,o)]})).map((function(e,t,n){var r=function(e,t){var n=wo.slope(e[0],e[1]),r=wo.slope(t[0],t[1]);if(n!==r){if(Number.isNaN(n)&&!Number.isNaN(r))return[e[0][0],(e[0][0]-t[0][0])*r+t[0][1]];if(Number.isNaN(r)&&!Number.isNaN(n))return[t[0][0],(t[0][0]-e[0][0])*n+e[0][1]];var i=(n*e[0][0]-r*t[0][0]+t[0][1]-e[0][1])/(n-r);return[i,r*(i-t[0][0])+t[0][1]]}}(e,n[(t+1)%n.length]);if(void 0===r)throw Error("Expected an intersection");return r}))}function Dw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=b(e,2),i=r[0],o=r[1],a=[[i/2,0],[i,o],[0,o]];return t&&(a=Rw(a,t)),n&&(a=a.map((function(e){return ko.rotWith(e,[i/2,o/2],n)}))),a}function Aw(e){var t=b(e,2),n=t[0],r=t[1],i=[[n/2,0],[n,r],[0,r]];return[(i[0][0]+i[1][0]+i[2][0])/3,(i[0][1]+i[1][1]+i[2][1])/3]}function Lw(e,t,n){var r=Jb(n).strokeWidth,i=function(e,t,n){var r=b(t,2),i=r[0],o=r[1],a=Xa.rng(e),s=Array.from(Array(3)).map((function(){return[a()*n*.75,a()*n*.75]})),u=[ko.add([i/2,0],s[0]),ko.add([i,o],s[1]),ko.add([0,o],s[2])],l=Math.round(Math.abs(2*a()*3)),d=Xa.rotateArray([ko.pointsBetween(u[0],u[1],32),ko.pointsBetween(u[1],u[2],32),ko.pointsBetween(u[2],u[0],32)],l);return{points:[].concat((0,c.Z)(d.flat()),(0,c.Z)(d[0]))}}(e,t,r);return{points:i.points,options:{size:r,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}tb(Ow,"leftSide",ko.isLeft);var Bw=e.memo((function(t){var n=t.id,r=t.size,i=t.style,o=t.isSelected,a=Jb(i,t.isDarkMode),s=a.stroke,u=a.strokeWidth,l=a.fill,c=function(e,t,n){var r=Lw(e,t,n),i=r.points,o=r.options,a=Sl(i,o);return Xa.getSvgPathFromStroke(a)}(n,r,i),d=function(e,t,n){var r=Lw(e,t,n),i=kl(r.points,r.options);return Xa.getSvgPathFromStroke(i.map((function(e){return e.point.slice(0,2)})),!1)}(n,r,i);return e.createElement(e.Fragment,null,e.createElement("path",{className:i.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d:d}),i.isFilled&&e.createElement("path",{d:d,fill:l,pointerEvents:"none"}),e.createElement("path",{d:c,fill:s,stroke:s,strokeWidth:u,pointerEvents:"none"}))})),jw=e.memo((function(t){var n=t.id,r=t.size,i=t.style,o=t.isSelected,a=t.isDarkMode,s=Jb(i,a),u=s.stroke,l=s.strokeWidth,c=s.fill,d=1+1.618*l,f=Dw(r),h=Xa.pointsToLineSegments(f,!0).map((function(t,r){var o=b(t,2),a=o[0],s=o[1],c=Xa.getPerfectDashProps(ko.dist(a,s),1.618*l,i.dash),f=c.strokeDasharray,h=c.strokeDashoffset;return e.createElement("line",{key:n+"_"+r,x1:a[0],y1:a[1],x2:s[0],y2:s[1],stroke:u,strokeWidth:d,strokeLinecap:"round",strokeDasharray:f,strokeDashoffset:h})})),p=f.join();return e.createElement(e.Fragment,null,e.createElement("polygon",{className:i.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",points:p}),i.isFilled&&e.createElement("polygon",{fill:c,points:p,pointerEvents:"none"}),e.createElement("g",{pointerEvents:"stroke"},h))}));function Nw(t){var n=Dw(t.size).join();return e.createElement("polygon",{className:"tl-binding-indicator",points:n,strokeWidth:32})}var Fw=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","triangle"),tb(d(t),"canBind",!0),tb(d(t),"canClone",!0),tb(d(t),"canEdit",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:tw,label:"",labelPoint:[.5,.5]},e)})),tb(d(t),"Component",Sw.Component((function(t,n){var r=t.shape,i=t.bounds,o=t.isBinding,a=t.isEditing,s=t.isSelected,u=t.isGhost,l=t.meta,c=t.events,d=t.onShapeChange,f=t.onShapeBlur,h=r.id,p=r.label,v=void 0===p?"":p,g=r.size,m=r.style,y=r.labelPoint,b=void 0===y?wb:y,w=Gb(m),k=Jb(m,l.isDarkMode),S="draw"===m.dash?Bw:jw,C=e.useCallback((function(e){return null==d?void 0:d({id:h,label:e})}),[d]),_=e.useMemo((function(){var e=ko.div(g,2);return.72*(Aw(g)[1]-e[1])}),[g]);return e.createElement(zw,Qy({ref:n},c),e.createElement(mw,{font:w,text:v,color:k.stroke,offsetX:(b[0]-.5)*i.width,offsetY:_+(b[1]-.5)*i.height,isEditing:a,onChange:C,onBlur:f}),e.createElement(Cs,{id:r.id+"_svg",opacity:u?bb:1},o&&e.createElement(Nw,{size:g}),e.createElement(S,{id:h,style:m,size:g,isSelected:s,isDarkMode:l.isDarkMode})))}))),tb(d(t),"Indicator",Sw.Indicator((function(t){var n=t.shape.size;return e.createElement("polygon",{points:Dw(n).join()})}))),tb(d(t),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.label!==e.label})),tb(d(t),"getBounds",(function(e){return dw(e,t.boundsCache)})),tb(d(t),"getExpandedBounds",(function(e){return Xa.getBoundsFromPoints(Dw(e.size,t.bindingDistance).map((function(t){return ko.add(t,e.point)})))})),tb(d(t),"hitTestLineSegment",(function(e,n,r){return ha(n,r,t.getPoints(e)).didIntersect})),tb(d(t),"hitTestBounds",(function(e,n){return Xa.boundsContained(t.getBounds(e),n)||Pa(n,t.getPoints(e)).length>0})),tb(d(t),"getBindingPoint",(function(e,n,r,i,o,a){var s=t.getExpandedBounds(e);if(Xa.pointInBounds(r,s)){var u=Dw(e.size).map((function(t){return ko.add(t,e.point)})),l=Dw(e.size,t.bindingDistance).map((function(t){return ko.add(t,e.point)})),c=Xa.pointsToLineSegments(u,!0).map((function(e){var t=b(e,2),n=t[0],i=t[1];return ko.distanceToLineSegment(n,i,r)})).sort((function(e,t){return e-t}))[0];if(Xa.pointInPolygon(r,l)||c<t.bindingDistance){var d=Xa.pointsToLineSegments(l.concat([l[0]])).map((function(e){return ia(i,o,e[0],e[1])})).filter((function(e){return e.didIntersect})).flatMap((function(e){return e.points}));if(d.length){var f,h,p=ko.add(Aw(e.size),e.point),v=d.sort((function(e,t){return ko.dist(t,i)-ko.dist(e,i)}))[0],g=ko.med(r,v);a?(f=ko.dist(r,p)<8?p:r,h=0):(f=ko.distanceToLineSegment(r,g,p)<8?p:g,h=Xa.pointInPolygon(r,u)?t.bindingDistance:Math.max(t.bindingDistance,c));var m=ko.divV(ko.sub(f,[s.minX,s.minY]),[s.width,s.height]);return{point:ko.clampV(m,0,1),distance:h}}}}})),tb(d(t),"transform",fw),tb(d(t),"transformSingle",hw),t}return k(r,[{key:"getPoints",value:function(e){var t=this,n=e.rotation,r=void 0===n?0:n,i=b(e.point,2),o=i[0],a=i[1],s=b(e.size,2),u=s[0],l=s[1];return[[o+u/2,a],[o,a+l],[o+u,a+l]].map((function(n){return ko.rotWith(n,t.getCenter(e),r)}))}}]),r}(Sw),zw=ib("div",{width:"100%",height:"100%"});function Hw(e,t,n){for(var r=Jb(n).strokeWidth,i=Xa.rng(e),o=t[0]+i()*r*2,a=t[1]+i()*r*2,s=Xa.perimeterOfEllipse(o,a),u=[],l=Math.PI+Math.PI*i(),c=Math.abs(i()),d=Math.max(16,s/10),f=0;f<d;f++){var h=kb.easeInOutSine(f/(d+1)),p=2*l+Math.PI*(2+c)*h,v=Math.cos(p),g=Math.sin(p);u.push([o*v+t[0],a*g+t[1],h+.5+i()/2])}return kl(u,{size:1+2*r,thinning:.618,end:{taper:s/8},start:{taper:s/12},streamline:0,simulatePressure:!0})}function Uw(e,t,n){return Xa.getSvgPathFromStroke(Hw(e,t,n).map((function(e){return e.point.slice(0,2)})),!1)}var Vw=e.memo((function(t){var n=t.id,r=t.radius,i=t.style,o=t.isSelected,a=Jb(i,t.isDarkMode),s=a.stroke,u=a.strokeWidth,l=a.fill,c=function(e,t,n){var r=Jb(n).strokeWidth,i=Xa.rng(e),o=t[0]+i()*r*2,a=t[1]+i()*r*2,s=Xa.perimeterOfEllipse(o,a);return Xa.getSvgPathFromStroke(wl(Hw(e,t,n),{size:2+2*r,thinning:.618,end:{taper:s/8},start:{taper:s/12},streamline:0,simulatePressure:!0}))}(n,r,i);return e.createElement(e.Fragment,null,e.createElement("ellipse",{className:i.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",cx:r[0],cy:r[1],rx:r[0],ry:r[1]}),i.isFilled&&e.createElement("path",{d:Uw(n,r,i),stroke:"none",fill:l,pointerEvents:"none"}),e.createElement("path",{d:c,fill:s,stroke:s,strokeWidth:u,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))})),Kw=e.memo((function(t){var n=t.radius,r=t.style,i=t.isSelected,o=Jb(r,t.isDarkMode),a=o.stroke,s=o.strokeWidth,u=o.fill,l=1+1.618*s,c=Math.max(0,n[0]-l/2),d=Math.max(0,n[1]-l/2),f=Xa.perimeterOfEllipse(c,d),h=Xa.getPerfectDashProps(f<64?2*f:f,1.618*s,r.dash,4),p=h.strokeDasharray,v=h.strokeDashoffset;return e.createElement(e.Fragment,null,e.createElement("ellipse",{className:r.isFilled||i?"tl-fill-hitarea":"tl-stroke-hitarea",cx:n[0],cy:n[1],rx:n[0],ry:n[1]}),e.createElement("ellipse",{cx:n[0],cy:n[1],rx:c,ry:d,fill:u,stroke:a,strokeWidth:l,strokeDasharray:p,strokeDashoffset:v,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))})),Zw=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","ellipse"),tb(d(t),"canBind",!0),tb(d(t),"canClone",!0),tb(d(t),"canEdit",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:tw,label:"",labelPoint:[.5,.5]},e)})),tb(d(t),"Component",Sw.Component((function(n,r){var i=n.shape,o=n.isGhost,a=n.isSelected,s=n.isBinding,u=n.isEditing,l=n.meta,c=n.bounds,d=n.events,f=n.onShapeChange,h=n.onShapeBlur,p=i.id,v=i.radius,g=i.style,m=i.label,y=void 0===m?"":m,b=i.labelPoint,w=void 0===b?wb:b,k=Gb(i.style),S=Jb(g,l.isDarkMode),C=1+1.618*S.strokeWidth,_=Math.max(0,v[0]-C/2),E=Math.max(0,v[1]-C/2),x="draw"===g.dash?Vw:Kw,I=e.useCallback((function(e){return null==f?void 0:f({id:p,label:e})}),[f]);return e.createElement(Ww,Qy({ref:r},d),e.createElement(mw,{isEditing:u,onChange:I,onBlur:h,font:k,text:y,color:S.stroke,offsetX:(w[0]-.5)*c.width,offsetY:(w[1]-.5)*c.height}),e.createElement(Cs,{id:i.id+"_svg",opacity:o?bb:1},s&&e.createElement("ellipse",{className:"tl-binding-indicator",cx:v[0],cy:v[1],rx:_,ry:E,strokeWidth:t.bindingDistance}),e.createElement(x,{id:p,radius:v,style:g,isSelected:a,isDarkMode:l.isDarkMode})))}))),tb(d(t),"Indicator",Sw.Indicator((function(t){var n=t.shape,r=n.id,i=n.radius,o=n.style,a=1+1.618*Jb(o).strokeWidth,s=Math.max(0,i[0]-a/2),u=Math.max(0,i[1]-a/2);return"draw"===o.dash?e.createElement("path",{d:Uw(r,i,o)}):e.createElement("ellipse",{cx:i[0],cy:i[1],rx:s,ry:u})}))),tb(d(t),"hitTestPoint",(function(e,n){return Xa.pointInBounds(n,t.getRotatedBounds(e))&&Xa.pointInEllipse(n,t.getCenter(e),e.radius[0],e.radius[1],e.rotation||0)})),tb(d(t),"hitTestLineSegment",(function(e,n,r){return da(n,r,t.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect})),tb(d(t),"getBounds",(function(e){return Xa.getFromCache(t.boundsCache,e,(function(){return Xa.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0)}))})),tb(d(t),"getRotatedBounds",(function(e){return Xa.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation)})),tb(d(t),"hitTestBounds",(function(e,n){var r=t.getBounds(e);return Xa.boundsContained(r,n)||Ea(t.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,n).length>0})),tb(d(t),"shouldRender",(function(e,t){return t.radius!==e.radius||t.style!==e.style||t.label!==e.label})),tb(d(t),"getCenter",(function(e){return wo.add(e.point,e.radius)})),tb(d(t),"getBindingPoint",(function(e,n,r,i,o,a){var s,u,l=t.getExpandedBounds(e),c=t.getCenter(e);if(Xa.pointInEllipse(r,c,e.radius[0]+t.bindingDistance,e.radius[1]+t.bindingDistance)){if(a)s=wo.dist(r,t.getCenter(e))<12?[.5,.5]:wo.divV(wo.sub(r,[l.minX,l.minY]),[l.width,l.height]),u=0;else{var d=aa(i,o,c,e.radius[0],e.radius[1],e.rotation||0).points.sort((function(e,t){return wo.dist(e,i)-wo.dist(t,i)}))[0];if(d||(d=da(r,c,c,e.radius[0],e.radius[1],e.rotation||0).points.sort((function(e,t){return wo.dist(e,r)-wo.dist(t,r)}))[0]),!d)return;var f=wo.med(r,d);if(s=wo.distanceToLineSegment(r,f,t.getCenter(e))<12?[.5,.5]:wo.divV(wo.sub(f,[l.minX,l.minY]),[l.width,l.height]),Xa.pointInEllipse(r,c,e.radius[0],e.radius[1],e.rotation||0))u=t.bindingDistance/2;else{var h=da(r,c,c,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!h)return;u=Math.max(t.bindingDistance/2,wo.dist(r,h))}}return{point:s,distance:u}}})),tb(d(t),"transform",(function(e,t,n){var r=n.scaleX,i=n.scaleY,o=n.initialShape.rotation,a=void 0===o?0:o;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:r<0&&i>=0||i<0&&r>=0?-(a||0):a||0}})),tb(d(t),"transformSingle",(function(e,t){return{point:wo.toFixed([t.minX,t.minY]),radius:wo.div([t.width,t.height],2)}})),t}return k(r)}(Sw),Ww=ib("div",{width:"100%",height:"100%"});function Yw(e,t){var n=e.start,r=e.end,i=ko.dist(n.point,r.point),o=ko.med(n.point,r.point),a=i/2*t,s=ko.uni(ko.vec(n.point,r.point));return ko.toFixed(Math.abs(a)<10?o:ko.add(o,ko.mul(ko.per(s),a)))}function Xw(e,t,n){return Xa.circleFromThreePoints(e,n,t)}function $w(e,t,n,r,i){var o=function(e,t,n,r){var i=n[0]-e[0],o=n[1]-e[1],a=Math.sqrt(i*i+o*o),s=(a*a-r*r+t*t)/(2*a),u=Math.sqrt(t*t-s*s);return i/=a,o/=a,na("intersection",[e[0]+i*s-o*u,e[1]+o*s+i*u],[e[0]+i*s+o*u,e[1]+o*s-i*u])}(e,.618*t,n,r).points;if(!o)return qk.warn("Could not find an intersection for the arrow head."),{left:e,right:e};var a=i?o[0]:o[1];return{left:a?ko.nudge(ko.rotWith(a,e,Math.PI/6),e,-.382*t):e,right:a?ko.nudge(ko.rotWith(a,e,-Math.PI/6),e,-.382*t):e}}function Gw(e,t,n){var r=function(e,t,n,r){return ca(n,r,e,t)}(e,n,e,t).points;if(!r)return qk.warn("Could not find an intersection for the arrow head."),{left:e,right:e};var i=r[0];return{left:i?ko.rotWith(i,e,Math.PI/6):e,right:i?ko.rotWith(i,e,-Math.PI/6):e}}function qw(e,t,n,r,i){var o=$w(e,t,n,r,i),a=o.left,s=o.right;return"M ".concat(a," L ").concat(e," ").concat(s)}function Qw(e,t,n){var r=Gw(e,t,n),i=r.left,o=r.right;return"M ".concat(i," L ").concat(e," ").concat(o)}function Jw(e,t,n,r,i,o){var a=Jb(e,!1).strokeWidth,s=ko.dist(t,r),u=Math.min(s/3,8*a),l=[];if(ko.dist(n,ko.toFixed(ko.med(t,r)))<1)l.push("M ".concat(t," L ").concat(r)),i&&l.push(Qw(t,r,u)),o&&l.push(Qw(r,t,u));else{var c=Xw(t,n,r),d=[c[0],c[1]],f=c[2],h=nk(d,f,t,r);l.push("M ".concat(t," A ").concat(f," ").concat(f," 0 0 ").concat(h>0?"1":"0"," ").concat(r)),i&&l.push(qw(t,u,d,f,h<0)),o&&l.push(qw(r,u,d,f,h>=0))}return l.join(" ")}function ek(e,t,n){if(ko.dist2(t,ko.med(e,n))<=4)return[e,n];for(var r=[],i=Xw(e,t,n),o=[i[0],i[1]],a=i[2],s=ko.angle(o,e),u=ko.angle(o,n),l=.05;l<1;l+=.05){var c=Xa.lerpAngles(s,u,l);r.push(ko.nudgeAtAngle(o,c,a))}return r}function tk(e,t,n){if(n===e||n===t)return!0;var r=2*Math.PI,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!==o>i}function nk(e,t,n,r){var i=Xa.getSweep(e,n,r);return t*(2*Math.PI)*(i/(2*Math.PI))}function rk(t){var n=t.left,r=t.middle,i=t.right,o=t.stroke,a=t.strokeWidth;return e.createElement("g",null,e.createElement("path",{className:"tl-stroke-hitarea",d:"M ".concat(n," L ").concat(r," ").concat(i)}),e.createElement("path",{d:"M ".concat(n," L ").concat(r," ").concat(i),fill:"none",stroke:o,strokeWidth:a,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var ik=e.memo((function(t){var n=t.id,r=t.style,i=t.start,o=t.end,a=t.decorationStart,s=t.decorationEnd,u=t.isDraw,l=t.isDarkMode,c=ko.dist(i,o);if(c<2)return null;var d=Jb(r,l),f=d.strokeWidth,h=1+1.618*f,p=u?function(e,t,n,r,i,o){var a=Xa.rng(e),s=Jb(t).strokeWidth,u=i?ko.nudge(n,r,s):n,l=o?ko.nudge(r,n,s):r,c=Sl([u,l],{size:s,thinning:.618+.2*a(),easing:kb.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return Xa.getSvgPathFromStroke(c)}(n,r,i,o,a,s):"M"+ko.toFixed(i)+"L"+ko.toFixed(o),v=Xa.getPerfectDashProps(c,1.618*f,r.dash,2,!1),g=v.strokeDasharray,m=v.strokeDashoffset,y=Math.min(c/3,8*f),b=a?Gw(i,o,y):null,w=s?Gw(o,i,y):null;return e.createElement(e.Fragment,null,e.createElement("path",{className:"tl-stroke-hitarea",d:p}),e.createElement("path",{d:p,fill:d.stroke,stroke:d.stroke,strokeWidth:u?h/2:h,strokeDasharray:g,strokeDashoffset:m,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),b&&e.createElement(rk,{left:b.left,middle:i,right:b.right,stroke:d.stroke,strokeWidth:h}),w&&e.createElement(rk,{left:w.left,middle:o,right:w.right,stroke:d.stroke,strokeWidth:h}))})),ok=e.memo((function(t){var n=t.id,r=t.style,i=t.start,o=t.bend,a=t.end,s=t.arrowBend,u=t.decorationStart,l=t.decorationEnd,c=t.isDraw,d=t.isDarkMode,f=ko.dist(i,a);if(f<2)return null;var h=Jb(r,d),p=h.strokeWidth,v=1+1.618*p,g=Xw(i,o,a),m=[g[0],g[1]],y=g[2],b=nk(m,y,i,a),w=Xa.rng(n),k=kb[w()>0?"easeInOutSine":"easeInOutCubic"],S=c?function(e,t,n,r,i,o,a,s,u,l){for(var c=Xa.rng(e),d=Jb(t).strokeWidth,f=i?ko.rotWith(n,a,d/u):n,h=o?ko.rotWith(r,a,-d/u):r,p=ko.angle(a,f),v=ko.angle(a,h),g=[],m=8+Math.floor(Math.abs(u)/20*1+c()/2),y=0;y<m;y++){var b=l(y/m),w=Xa.lerpAngles(p,v,b);g.push(ko.toFixed(ko.nudgeAtAngle(a,w,s)))}var k=Sl([f].concat(g,[h]),{size:1+d,thinning:.618+.2*c(),easing:kb.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return Xa.getSvgPathFromStroke(k)}(n,r,i,a,u,l,m,y,b,k):function(e,t,n,r){return["M",e[0],e[1],"A",n[2],n[2],0,0,r<0?0:1,t[0],t[1]].join(" ")}(i,a,g,s),C=Xa.getPerfectDashProps(Math.abs(b),v,r.dash,2,!1),_=C.strokeDasharray,E=C.strokeDashoffset,x=Math.min(f/3,8*p),I=u?$w(i,x,m,y,b<0):null,P=l?$w(a,x,m,y,b>=0):null;return e.createElement(e.Fragment,null,e.createElement("path",{className:"tl-stroke-hitarea",d:S}),e.createElement("path",{d:S,fill:c?h.stroke:"none",stroke:h.stroke,strokeWidth:c?0:v,strokeDasharray:_,strokeDashoffset:E,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),I&&e.createElement(rk,{left:I.left,middle:i,right:I.right,stroke:h.stroke,strokeWidth:v}),P&&e.createElement(rk,{left:P.left,middle:a,right:P.right,stroke:h.stroke,strokeWidth:v}))}));function ak(t){var n=t.id,r=t.bounds,i=t.labelSize,o=t.offset,a=t.scale,s=void 0===a?1:a;return e.createElement("defs",null,e.createElement("mask",{id:n+"_clip"},e.createElement("rect",{x:-100,y:-100,width:r.width+200,height:r.height+200,fill:"white"}),e.createElement("rect",{x:r.width/2-i[0]/2*s+((null==o?void 0:o[0])||0),y:r.height/2-i[1]/2*s+((null==o?void 0:o[1])||0),width:i[0]*s,height:i[1]*s,rx:4*s,ry:4*s,fill:"black",opacity:Math.max(s,.8)})))}var sk,uk=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","arrow"),tb(d(t),"hideBounds",!0),tb(d(t),"canEdit",!0),tb(d(t),"pathCache",new WeakMap),tb(d(t),"getShape",(function(e){var t,n,r,i;return Qy({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:Qy({id:"start",index:0,point:[0,0],canBind:!0},null==(t=e.handles)?void 0:t.start),end:Qy({id:"end",index:1,point:[1,1],canBind:!0},null==(n=e.handles)?void 0:n.end),bend:Qy({id:"bend",index:2,point:[.5,.5]},null==(r=e.handles)?void 0:r.bend)},decorations:null!=(i=e.decorations)?i:{end:"arrow"},style:Qy(Jy(Qy({},tw),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)})),tb(d(t),"Component",Sw.Component((function(n,r){var i=n.shape,o=n.isEditing,a=n.isGhost,s=n.meta,u=n.events,l=n.onShapeChange,c=n.onShapeBlur,d=i.id,f=i.label,h=void 0===f?"":f,p=i.handles,v=p.start,g=p.bend,m=p.end,y=i.decorations,b=void 0===y?{}:y,w=i.style,k=wo.dist(g.point,wo.toFixed(wo.med(v.point,m.point)))<1,S=Gb(w),C=Jb(w,s.isDarkMode),_=h||o?cw(h,S):[0,0],E=t.getBounds(i),x=e.useMemo((function(){var e=i.handles,t=e.start,n=e.bend,r=e.end;if(k)return wo.dist(t.point,r.point);var o=Xw(t.point,n.point,r.point),a=nk(o.slice(0,2),o[2],t.point,r.point);return Math.abs(a)}),[i.handles]),I=Math.max(.5,Math.min(1,Math.max(x/(_[1]+128),x/(_[0]+128)))),P=e.useMemo((function(){var e=t.getBounds(i);return wo.sub(i.handles.bend.point,wo.toFixed([e.width/2,e.height/2]))}),[i,I]),M=e.useCallback((function(e){null==l||l({id:d,label:e})}),[l]),T=k?ik:ok;return e.createElement(lk,Qy({ref:r},u),e.createElement(mw,{font:S,text:h,color:C.stroke,offsetX:P[0],offsetY:P[1],scale:I,isEditing:o,onChange:M,onBlur:c}),e.createElement(Cs,{id:i.id+"_svg"},e.createElement("defs",null,e.createElement("mask",{id:i.id+"_clip"},e.createElement("rect",{x:-100,y:-100,width:E.width+200,height:E.height+200,fill:"white"}),e.createElement("rect",{x:E.width/2-_[0]/2*I+P[0],y:E.height/2-_[1]/2*I+P[1],width:_[0]*I,height:_[1]*I,rx:4*I,ry:4*I,fill:"black",opacity:1}))),e.createElement("g",{pointerEvents:"none",opacity:a?bb:1,mask:h||o?"url(#".concat(i.id,"_clip)"):""},e.createElement(T,{id:d,style:w,start:v.point,end:m.point,bend:g.point,arrowBend:i.bend,decorationStart:null==b?void 0:b.start,decorationEnd:null==b?void 0:b.end,isDraw:"draw"===w.dash,isDarkMode:s.isDarkMode}))))}))),tb(d(t),"Indicator",Sw.Indicator((function(n){var r=n.shape,i=n.bounds,o=r.style,a=r.decorations,s=r.label,u=r.handles,l=u.start,c=u.bend,d=u.end,f=Gb(o),h=s?cw(s,f):[0,0],p=wo.dist(c.point,wo.toFixed(wo.med(l.point,d.point)))<1,v=e.useMemo((function(){var e=r.handles,t=e.start,n=e.bend,i=e.end;if(p)return wo.dist(t.point,i.point);var o=Xw(t.point,n.point,i.point),a=nk(o.slice(0,2),o[2],t.point,i.point);return Math.abs(a)}),[r.handles]),g=Math.max(.5,Math.min(1,Math.max(v/(h[1]+128),v/(h[0]+128)))),m=e.useMemo((function(){var e=t.getBounds(r);return wo.sub(r.handles.bend.point,[e.width/2,e.height/2])}),[r,g]);return e.createElement(e.Fragment,null,e.createElement(ak,{id:r.id,scale:g,offset:m,bounds:i,labelSize:h}),e.createElement("path",{d:Jw(o,l.point,c.point,d.point,null==a?void 0:a.start,null==a?void 0:a.end),mask:s?"url(#".concat(r.id,"_clip)"):""}),s&&e.createElement("rect",{x:i.width/2-h[0]/2*g+m[0],y:i.height/2-h[1]/2*g+m[1],width:h[0]*g,height:h[1]*g,rx:4*g,ry:4*g,fill:"transparent"}))}))),tb(d(t),"getBounds",(function(e){var n=Xa.getFromCache(t.boundsCache,e,(function(){var t=e.handles,n=t.start,r=t.bend,i=t.end;return Xa.getBoundsFromPoints(ek(n.point,r.point,i.point))}));return Xa.translateBounds(n,e.point)})),tb(d(t),"getRotatedBounds",(function(e){var t=e.handles,n=t.start,r=t.bend,i=t.end,o=ek(n.point,r.point,i.point),a=Xa.getBoundsFromPoints(o),s=a.minX,u=a.minY,l=a.maxX,c=a.maxY;return 0!==e.rotation&&(o=o.map((function(t){return wo.rotWith(t,[(s+l)/2,(u+c)/2],e.rotation||0)}))),Xa.translateBounds(Xa.getBoundsFromPoints(o),e.point)})),tb(d(t),"getCenter",(function(e){var t=e.handles,n=t.start,r=t.end;return wo.add(e.point,wo.med(n.point,r.point))})),tb(d(t),"shouldRender",(function(e,t){return t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label})),tb(d(t),"hitTestPoint",(function(e,t){for(var n=e.handles,r=n.start,i=n.bend,o=n.end,a=wo.sub(t,e.point),s=ek(r.point,i.point,o.point),u=1;u<s.length;u++)if(wo.distanceToLineSegment(s[u-1],s[u],a)<1)return!0;return!1})),tb(d(t),"hitTestLineSegment",(function(e,t,n){for(var r=e.handles,i=r.start,o=r.bend,a=r.end,s=wo.sub(t,e.point),u=wo.sub(n,e.point),l=ek(i.point,o.point,a.point),c=1;c<l.length;c++)if(ua(l[c-1],l[c],s,u).didIntersect)return!0;return!1})),tb(d(t),"hitTestBounds",(function(e,t){var n=e.handles,r=n.start,i=n.end,o=n.bend,a=wo.add(e.point,r.point),s=wo.add(e.point,i.point);if(Xa.pointInBounds(a,t)||Xa.pointInBounds(s,t))return!0;if(wo.isEqual(wo.med(r.point,i.point),o.point))return fa(a,s,t).length>0;var u=b(Xw(r.point,o.point,i.point),3),l=u[0],c=u[1],d=u[2];return Ca(wo.add(e.point,[l,c]),d,a,s,t).length>0})),tb(d(t),"transform",(function(e,n,r){var i=r.initialShape,o=r.scaleX,a=r.scaleY,s=t.getBounds(i),u=Qy({},i.handles);["start","end"].forEach((function(e){var t=b(u[e].point,2),r=t[0],i=t[1],l=r/s.width,c=i/s.height;u[e]=Jy(Qy({},u[e]),{point:[n.width*(o<0?1-l:l),n.height*(a<0?1-c:c)]})}));var l=u.start,c=u.bend,d=u.end,f=wo.dist(l.point,d.point),h=wo.med(l.point,d.point),p=f/2*i.bend,v=wo.uni(wo.vec(l.point,d.point)),g=wo.add(h,wo.mul(wo.per(v),p));return u.bend=Jy(Qy({},c),{point:wo.toFixed(Math.abs(p)<10?h:g)}),{point:wo.toFixed([n.minX,n.minY]),handles:u}})),tb(d(t),"onDoubleClickHandle",(function(e,n){var r,i;switch(n){case"bend":return{bend:0,handles:Jy(Qy({},e.handles),{bend:Jy(Qy({},e.handles.bend),{point:Yw(e.handles,e.bend)})})};case"start":return{decorations:Jy(Qy({},e.decorations),{start:(null==(r=e.decorations)?void 0:r.start)?void 0:"arrow"})};case"end":return{decorations:Jy(Qy({},e.decorations),{end:(null==(i=e.decorations)?void 0:i.end)?void 0:"arrow"})}}return d(t)})),tb(d(t),"onHandleChange",(function(e,n){var r=Xa.deepMerge(e.handles,n),i=e.bend;if(r=Xa.deepMerge(r,{start:{point:wo.toFixed(r.start.point)},end:{point:wo.toFixed(r.end.point)}}),!wo.isEqual(r.start.point,r.end.point)){if("bend"in n){var o=r,a=o.start,s=o.end,u=o.bend,l=wo.dist(a.point,s.point),c=wo.med(a.point,s.point),d=wo.angle(a.point,s.point),f=wo.uni(wo.vec(a.point,s.point)),h=wo.add(c,wo.mul(wo.per(f),l)),p=wo.sub(c,wo.mul(wo.per(f),l)),v=wo.nearestPointOnLineSegment(h,p,u.point,!0),g=wo.dist(c,v)/(l/2);i=Xa.clamp(g,-.99,.99);var m=wo.angle(a.point,v);wo.isEqual(c,Yw(r,i))?i=0:tk(d,d+Math.PI,m)&&(i*=-1)}var y={point:e.point,bend:i,handles:Jy(Qy({},r),{bend:Jy(Qy({},r.bend),{point:Yw(r,i)})})},b=e.point,w=t.getBounds(Qy({},y)),k=wo.sub([w.minX,w.minY],b);return wo.isEqual(k,[0,0])||(Object.values(y.handles).forEach((function(e){e.point=wo.toFixed(wo.sub(e.point,k))})),y.point=wo.toFixed(wo.add(y.point,k))),y}})),t}return k(r)}(Sw),lk=ib("div",{width:"100%",height:"100%"}),ck=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","group"),tb(d(t),"canBind",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:tw},e)})),tb(d(t),"Component",Sw.Component((function(n,r){var i=n.shape,o=n.isBinding,a=n.isGhost,s=n.isHovered,u=n.isSelected,l=n.events,c=i.id,d=i.size,f=Math.max(0,d[0]-1),h=Math.max(0,d[1]-1),p=[[[1,1],[f,1],f-1],[[f,1],[f,h],h-1],[[f,h],[1,h],f-1],[[1,h],[1,1],h-1]].map((function(t,n){var r=b(t,2),i=r[0],o=r[1];return e.createElement("line",{key:c+"_"+n,x1:i[0],y1:i[1],x2:o[0],y2:o[1]})}));return e.createElement(Cs,Qy({ref:r},l),o&&e.createElement("rect",{className:"tl-binding-indicator",strokeWidth:t.bindingDistance}),e.createElement("g",{opacity:a?bb:1},e.createElement("rect",{x:0,y:0,width:d[0],height:d[1],fill:"transparent",pointerEvents:"all"}),e.createElement(dk,{stroke:"black",opacity:s||u?1:0,strokeLinecap:"round",pointerEvents:"stroke"},p)))}))),tb(d(t),"Indicator",Sw.Indicator((function(t){var n=t.shape,r=n.id,i=n.size,o=Math.max(0,i[0]-1),a=Math.max(0,i[1]-1),s=[[[1,1],[o,1],o-1],[[o,1],[o,a],a-1],[[o,a],[1,a],o-1],[[1,a],[1,1],a-1]].map((function(t,n){var i=b(t,2),o=i[0],a=i[1];return e.createElement("line",{key:r+"_"+n,x1:o[0],y1:o[1],x2:a[0],y2:a[1]})}));return e.createElement(dk,{strokeLinecap:"round",pointerEvents:"stroke"},s)}))),tb(d(t),"getBounds",(function(e){return dw(e,t.boundsCache)})),tb(d(t),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style})),t}return k(r)}(Sw),dk=ib("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"}),fk=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","sticky"),tb(d(t),"canBind",!0),tb(d(t),"canEdit",!0),tb(d(t),"canClone",!0),tb(d(t),"hideResizeHandles",!0),tb(d(t),"showCloneHandles",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:nw},e)})),tb(d(t),"Component",Sw.Component((function(n,r){var i=n.shape,o=n.meta,a=n.events,s=n.isGhost,u=n.isBinding,l=n.isEditing,c=n.onShapeBlur,d=n.onShapeChange,f=qb(i.style),h=Qb(i.style,o.isDarkMode),p=h.color,v=h.fill,g=e.useRef(null),m=e.useRef(null),y=e.useRef(null),b=e.useRef(i.text),w=e.useRef(!1),k=e.useCallback((function(e){e.stopPropagation()}),[]),S=e.useCallback((function(e){b.current=qk.normalizeText(e.currentTarget.value),null==d||d({id:i.id,type:i.type,text:b.current})}),[d]),C=e.useCallback((function(e){if("Escape"!==e.key)if("Tab"!==e.key||0!==i.text.length){if("Meta"===e.key||e.metaKey){if("z"===e.key&&e.metaKey)return e.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),e.stopPropagation(),void e.preventDefault()}else e.stopPropagation();"Tab"===e.key&&(e.preventDefault(),e.shiftKey?pw.unindent(e.currentTarget):pw.indent(e.currentTarget),b.current=qk.normalizeText(e.currentTarget.value),null==d||d(Jy(Qy({},i),{text:b.current})))}else e.preventDefault()}),[i,d]),_=e.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==c||c()}),[]),E=e.useCallback((function(e){l&&w.current&&e.currentTarget.select()}),[l]);e.useEffect((function(){if(l){b.current=i.text,w.current=!0;var e=m.current;e.focus(),e.select()}}),[l]),e.useEffect((function(){var e=y.current,t=i.size,n=e.offsetHeight,r=pk-2*hk;if(n!==t[1]-2*hk)if(n>r)null==d||d({id:i.id,size:[t[0],n+2*hk]});else if(n<r&&t[1]>pk)null==d||d({id:i.id,size:[t[0],pk]});else{var o=m.current;null==o||o.focus()}}),[i.text,i.size[1],i.style]);var x={font:f,color:p,textShadow:o.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return e.createElement(Ys,Qy({ref:r},a),e.createElement(vk,{ref:g,isDarkMode:o.isDarkMode,isGhost:s,style:Qy({backgroundColor:v},x)},u&&e.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-t.bindingDistance,left:-t.bindingDistance,width:"calc(100% + ".concat(2*t.bindingDistance,"px)"),height:"calc(100% + ".concat(2*t.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),e.createElement(mk,{ref:y,isEditing:l,alignment:i.style.textAlign},l?b.current:i.text,"\u200b"),l&&e.createElement(yk,{ref:m,onPointerDown:k,value:l?b.current:i.text,onChange:S,onKeyDown:C,onFocus:E,onBlur:_,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:i.style.textAlign,onContextMenu:vw})))}))),tb(d(t),"Indicator",Sw.Indicator((function(t){var n=b(t.shape.size,2),r=n[0],i=n[1];return e.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,r),height:Math.max(1,i)})}))),tb(d(t),"getBounds",(function(e){return dw(e,t.boundsCache)})),tb(d(t),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.text!==e.text})),tb(d(t),"transform",(function(e,t,n){var r=n.scaleX,i=n.scaleY,o=n.transformOrigin;return{point:wo.toFixed([t.minX+(t.width-e.size[0])*(r<0?1-o[0]:o[0]),t.minY+(t.height-e.size[1])*(i<0?1-o[1]:o[1])])}})),tb(d(t),"transformSingle",(function(e){return e})),tb(d(t),"getSvgElement",(function(e){var n=t.getBounds(e),r=Xa.expandBounds(n,-hk),i=ow(e.text,e.style,r),o=Qb(e.style);i.setAttribute("fill",o.color),i.setAttribute("transform","translate(".concat(hk,", ").concat(hk,")"));var a=document.createElementNS("http://www.w3.org/2000/svg","g"),s=document.createElementNS("http://www.w3.org/2000/svg","rect");return s.setAttribute("width",n.width+""),s.setAttribute("height",n.height+""),s.setAttribute("fill",o.fill),s.setAttribute("rx","3"),s.setAttribute("ry","3"),a.appendChild(s),a.appendChild(i),a})),t}return k(r)}(Sw),hk=16,pk=200,vk=ib("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:hk+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:bb}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),gk={whiteSpace:"pre-wrap",overflowWrap:"break-word"},mk=ib("div",Qy({position:"absolute",top:hk,left:hk,width:"calc(100% - ".concat(2*hk,"px)"),height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:(xy={},i(xy,"start",{textAlign:"left"}),i(xy,"middle",{textAlign:"center"}),i(xy,"end",{textAlign:"right"}),i(xy,"justify",{textAlign:"justify"}),xy)}},gk)),yk=ib("textarea",Jy(Qy({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},gk),{variants:{alignment:(Iy={},i(Iy,"start",{textAlign:"left"}),i(Iy,"middle",{textAlign:"center"}),i(Iy,"end",{textAlign:"right"}),i(Iy,"justify",{textAlign:"justify"}),Iy)}})),bk=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","text"),tb(d(t),"isAspectRatioLocked",!0),tb(d(t),"canEdit",!0),tb(d(t),"canBind",!0),tb(d(t),"canClone",!0),tb(d(t),"bindingDistance",8),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:nw},e)})),tb(d(t),"texts",new Map),tb(d(t),"Component",Sw.Component((function(n,r){var i=n.shape,o=n.isBinding,a=n.isGhost,s=n.isEditing,u=n.onShapeBlur,l=n.onShapeChange,c=n.meta,d=n.events,f=i.text,h=i.style,p=Jb(h,c.isDarkMode),v=Gb(i.style),g=e.useRef(null),m=e.useRef(!1),y=e.useCallback((function(e){var n=[0,0],r=qk.normalizeText(e.currentTarget.value),o=t.getBounds(i);t.texts.set(i.id,r);var a=t.getBounds(Jy(Qy({},i),{text:r}));switch(i.style.textAlign){case"start":break;case"middle":n=wo.div([a.width-o.width,0],2);break;case"end":n=[a.width-o.width,0]}null==l||l(Jy(Qy({},i),{id:i.id,point:wo.sub(i.point,n),text:r}))}),[i.id,i.point]),b=gw(e.useCallback((function(e){t.texts.set(i.id,qk.normalizeText(e)),null==l||l({id:i.id,text:t.texts.get(i.id)})}),[i.id])),w=e.useCallback((function(e){e.currentTarget.setSelectionRange(0,0),null==u||u()}),[]),k=e.useCallback((function(e){s&&m.current&&document.activeElement===e.currentTarget&&e.currentTarget.select()}),[s]),S=e.useCallback((function(e){s&&e.stopPropagation()}),[s]);return e.useEffect((function(){s?(t.texts.set(i.id,f),requestAnimationFrame((function(){m.current=!0;var e=g.current;e&&(e.focus(),e.select())}))):null==u||u()}),[s]),e.createElement(Ys,Qy({ref:r},d),e.createElement(wk,{isGhost:a,isEditing:s,onPointerDown:S},e.createElement(Sk,{style:{font:v,color:p.stroke,textAlign:iw(h.textAlign)}},o&&e.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-t.bindingDistance,left:-t.bindingDistance,width:"calc(100% + ".concat(2*t.bindingDistance,"px)"),height:"calc(100% + ".concat(2*t.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),s?e.createElement(Ck,{ref:g,style:{font:v,color:p.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:f,color:p.stroke,onFocus:k,onChange:y,onKeyDown:b,onBlur:w,onPointerDown:S,onContextMenu:vw}):f,"\u200b")))}))),tb(d(t),"Indicator",Sw.Indicator((function(n){var r=n.shape,i=t.getBounds(r),o=i.width,a=i.height;return e.createElement("rect",{x:0,y:0,width:o,height:a})}))),tb(d(t),"getBounds",(function(e){var n=Xa.getFromCache(t.boundsCache,e,(function(){var n;if(!sk)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};sk.parentNode||document.body.appendChild(sk),sk.style.font=Gb(e.style),sk.textContent=null!=(n=t.texts.get(e.id))?n:e.text;var r=sk.offsetWidth||1,i=sk.offsetHeight||1;return{minX:0,maxX:r,minY:0,maxY:i,width:r,height:i}}));return Xa.translateBounds(n,e.point)})),tb(d(t),"shouldRender",(function(e,t){return t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style})),tb(d(t),"transform",(function(e,t,n){var r=n.initialShape,i=n.scaleX,o=n.scaleY,a=r.rotation,s=void 0===a?0:a,u=r.style.scale,l=(void 0===u?1:u)*Math.abs(Math.min(i,o));return{point:[t.minX,t.minY],rotation:i<0&&o>=0||o<0&&i>=0?-(s||0):s,style:Jy(Qy({},r.style),{scale:l})}})),tb(d(t),"transformSingle",(function(e,t,n){var r=n.initialShape,i=n.scaleX,o=n.scaleY,a=r.style.scale,s=void 0===a?1:a;return{point:wo.toFixed([t.minX,t.minY]),style:Jy(Qy({},r.style),{scale:s*Math.max(Math.abs(o),Math.abs(i))})}})),tb(d(t),"onDoubleClickBoundsHandle",(function(e){var n=t.getCenter(e),r=t.getCenter(Jy(Qy({},e),{style:Jy(Qy({},e.style),{scale:1})}));return{style:Jy(Qy({},e.style),{scale:1}),point:wo.toFixed(wo.add(e.point,wo.sub(n,r)))}})),tb(d(t),"getSvgElement",(function(e){var n=t.getBounds(e),r=ow(e.text,e.style,n);return r.setAttribute("fill",Jb(e.style).stroke),r})),t}return k(r)}(Sw);"undefined"!==typeof window&&(sk=function(){var e;null==(e=document.getElementById("__textMeasure"))||e.remove();var t=document.createElement("pre");return t.id="__textMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:hb,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}());var wk=ib("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:bb}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),kk={whiteSpace:"pre-wrap",overflowWrap:"break-word"},Sk=ib("div",Qy({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:hb,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},kk)),Ck=ib("textarea",Qy({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},kk)),_k={easing:function(e){return Math.sin(e*Math.PI/2)},simulatePressure:!0},Ek={easing:function(e){return e*e},simulatePressure:!1};function xk(e){var t=Jb(e.style);return Jy(Qy({size:1+1.5*t.strokeWidth,thinning:.65,streamline:.65,smoothing:.65},.5===e.points[1][2]?_k:Ek),{last:e.isComplete})}function Ik(e){return e.points.length<2?"":Xa.getSvgPathFromStroke(kl(e.points,xk(e)).map((function(e){return e.point})))}function Pk(e,t){return kl(e.points,t)}function Mk(e){if(e.points.length<2)return"";var t=xk(e),n=Pk(e,t);return Xa.getSvgPathFromStroke(wl(n,t))}function Tk(e){var t=e.points;if(t.length<2)return"M 0 0 L 0 0";var n=Pk(e,xk(e)).map((function(e){return e.point.slice(0,2)})),r=t[t.length-1].slice(0,2);return ko.isEqual(n[0],r)||n.push(r),Xa.getSvgPathFromStroke(n,!1)}var Ok=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","draw"),tb(d(t),"pointsBoundsCache",new WeakMap([])),tb(d(t),"shapeBoundsCache",new Map),tb(d(t),"rotatedCache",new WeakMap([])),tb(d(t),"pointCache",{}),tb(d(t),"canClone",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:tw,points:[],isComplete:!1},e)})),tb(d(t),"Component",Sw.Component((function(n,r){var o,a,s=n.shape,u=n.meta,l=n.isSelected,c=n.isGhost,d=n.events,f=s.points,h=s.style,p=s.isComplete,v=e.useMemo((function(){return Ik(s)}),[f,h.size]),g=e.useMemo((function(){return"draw"===h.dash?Mk(s):Tk(s)}),[f,h.size,h.dash,p]),m=Jb(h,u.isDarkMode),y=m.stroke,b=m.fill,w=m.strokeWidth,k=t.getBounds(s);if(k.width<=w/2&&k.height<=w/2){var S=1+w;return e.createElement(Cs,Qy({ref:r,id:s.id+"_svg"},d),e.createElement("circle",{r:S,fill:y,stroke:y,pointerEvents:"all",opacity:c?bb:1}))}var C=h.isFilled&&f.length>3&&wo.dist(f[0],f[f.length-1])<2*w;if("draw"===s.style.dash)return e.createElement(Cs,Qy({ref:r,id:s.id+"_svg"},d),e.createElement("g",{opacity:c?bb:1},e.createElement("path",{className:C||l?"tl-fill-hitarea":"tl-stroke-hitarea",d:g}),C&&e.createElement("path",{d:v,stroke:"none",fill:b,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),e.createElement("path",{d:g,fill:y,stroke:y,strokeWidth:w/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));var _=(o={},i(o,"draw","none"),i(o,"solid","none"),i(o,"dotted","0.1 ".concat(4*w)),i(o,"dashed","".concat(4*w," ").concat(4*w)),o)[h.dash],E=(a={},i(a,"draw","none"),i(a,"solid","none"),i(a,"dotted","0"),i(a,"dashed","0"),a)[h.dash],x=1+1.5*w;return e.createElement(Cs,Qy({ref:r,id:s.id+"_svg"},d),e.createElement("g",{opacity:c?bb:1},e.createElement("path",{className:C&&l?"tl-fill-hitarea":"tl-stroke-hitarea",d:g}),e.createElement("path",{d:g,fill:C?b:"none",stroke:"none",strokeWidth:Math.min(4,2*w),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),e.createElement("path",{d:g,fill:"none",stroke:y,strokeWidth:x,strokeDasharray:_,strokeDashoffset:E,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))}))),tb(d(t),"Indicator",Sw.Indicator((function(n){var r=n.shape,i=r.points,o=e.useMemo((function(){return Tk(r)}),[i]),a=t.getBounds(r);return a.width<4&&a.height<4?e.createElement("circle",{x:a.width/2,y:a.height/2,r:1}):e.createElement("path",{d:o})}))),tb(d(t),"transform",(function(e,n,r){var i=r.initialShape,o=r.scaleX,a=r.scaleY,s=Xa.getFromCache(t.boundsCache,i,(function(){return Xa.getBoundsFromPoints(i.points)})),u=i.points.map((function(e){var t=b(e,3),r=t[0],i=t[1],u=t[2];return[n.width*(o<0?1-r/s.width:r/s.width),n.height*(a<0?1-i/s.height:i/s.height),u]})),l=Xa.getBoundsFromPoints(e.points);return{points:u,point:wo.sub([n.minX,n.minY],[l.minX,l.minY])}})),tb(d(t),"getBounds",(function(e){var n=!t.pointsBoundsCache.has(e.points),r=!(t.pointCache[e.id]===e.point);if(n){var i=Xa.getBoundsFromPoints(e.points);t.pointsBoundsCache.set(e.points,i),t.shapeBoundsCache.set(e.id,Xa.translateBounds(i,e.point)),t.pointCache[e.id]=e.point}else r&&!n&&(t.pointCache[e.id]=e.point,t.shapeBoundsCache.set(e.id,Xa.translateBounds(t.pointsBoundsCache.get(e.points),e.point)));return t.shapeBoundsCache.get(e.id)})),tb(d(t),"shouldRender",(function(e,t){return t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete})),tb(d(t),"hitTestPoint",(function(e,t){var n=wo.sub(t,e.point);return Xa.pointInPolyline(n,e.points)})),tb(d(t),"hitTestLineSegment",(function(e,n,r){var i=e.points,o=e.point,a=wo.sub(n,o),s=wo.sub(r,o),u=t.getBounds(e);if(i.length<=2)return wo.distanceToLineSegment(n,r,e.point)<4;if(fa(a,s,u))for(var l=1;l<i.length;l++)if(ua(i[l-1],i[l],a,s).didIntersect)return!0;return!1})),tb(d(t),"hitTestBounds",(function(e,n){if(!e.rotation){var r=t.getBounds(e);return Xa.boundsContain(n,r)||(Xa.boundsContain(r,n)||xa(r,n).length>0)&&Ia(Xa.translateBounds(n,wo.neg(e.point)),e.points).length>0}var i=t.getRotatedBounds(e),o=Xa.getFromCache(t.rotatedCache,e,(function(){var t=Xa.getBoundsCenter(Xa.getBoundsFromPoints(e.points));return e.points.map((function(n){return wo.rotWith(n,t,e.rotation||0)}))}));return Xa.boundsContain(n,i)||Ia(Xa.translateBounds(n,wo.neg(e.point)),o).length>0})),t}return k(r)}(Sw),Rk=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","image"),tb(d(t),"canBind",!0),tb(d(t),"canClone",!0),tb(d(t),"isAspectRatioLocked",!0),tb(d(t),"showCloneHandles",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Jy(Qy({},tw),{isFilled:!0}),assetId:"assetId"},e)})),tb(d(t),"Component",Sw.Component((function(n,r){var i=n.shape,o=n.asset,a=void 0===o?{src:""}:o,s=n.isBinding,u=n.isGhost,l=n.meta,c=n.events,d=(n.onShapeChange,i.size),f=i.style,h=e.useRef(null),p=e.useRef(null);return e.useLayoutEffect((function(){var e=p.current;if(e){var t=b(d,2),n=t[0],r=t[1];e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px")}}),[d]),e.createElement(Ys,Qy({ref:r},c),s&&e.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:"calc(".concat(-t.bindingDistance,"px * var(--tl-zoom))"),left:"calc(".concat(-t.bindingDistance,"px * var(--tl-zoom))"),width:"calc(100% + ".concat(2*t.bindingDistance,"px * var(--tl-zoom))"),height:"calc(100% + ".concat(2*t.bindingDistance,"px * var(--tl-zoom))"),backgroundColor:"var(--tl-selectFill)"}}),e.createElement(Dk,{ref:p,isDarkMode:l.isDarkMode,isFilled:f.isFilled,isGhost:u},e.createElement(Ak,{id:i.id+"_image",ref:h,src:a.src,alt:"tl_image_asset",draggable:!1})))}))),tb(d(t),"Indicator",Sw.Indicator((function(t){var n=b(t.shape.size,2),r=n[0],i=n[1];return e.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,r),height:Math.max(1,i)})}))),tb(d(t),"getBounds",(function(e){return dw(e,t.boundsCache)})),tb(d(t),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style})),tb(d(t),"transform",fw),tb(d(t),"transformSingle",hw),tb(d(t),"getSvgElement",(function(e){var n=t.getBounds(e),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width","".concat(n.width)),r.setAttribute("height","".concat(n.height)),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r})),t}return k(r)}(Sw),Dk=Gu("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:bb}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),Ak=Gu("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),Lk=function(t){f(r,t);var n=g(r);function r(){var t;return S(this,r),t=n.apply(this,arguments),tb(d(t),"type","video"),tb(d(t),"canBind",!0),tb(d(t),"canEdit",!0),tb(d(t),"canClone",!0),tb(d(t),"isAspectRatioLocked",!0),tb(d(t),"showCloneHandles",!0),tb(d(t),"isStateful",!0),tb(d(t),"getShape",(function(e){return Xa.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:tw,assetId:"assetId",isPlaying:!0,currentTime:0},e)})),tb(d(t),"Component",Sw.Component((function(n,r){var i=n.shape,o=n.asset,a=void 0===o?{src:""}:o,s=n.isBinding,u=n.isEditing,l=n.isGhost,c=n.meta,d=n.events,f=n.onShapeChange,h=e.useRef(null),p=e.useRef(null),v=i.currentTime,g=void 0===v?0:v,m=i.size,y=i.isPlaying,w=i.style;e.useLayoutEffect((function(){var e=p.current;if(e){var t=b(m,2),n=t[0],r=t[1];e.style.width="".concat(n,"px"),e.style.height="".concat(r,"px")}}),[m]),e.useLayoutEffect((function(){var e=h.current;e&&(y?e.play():e.pause())}),[y]),e.useLayoutEffect((function(){var e=h.current;e&&g!==e.currentTime&&(e.currentTime=g)}),[g]);var k=e.useCallback((function(){null==f||f({id:i.id,isPlaying:!0})}),[]),S=e.useCallback((function(){null==f||f({id:i.id,isPlaying:!1})}),[]),C=e.useCallback((function(){var e=h.current;e&&u&&(null==f||f({id:i.id,currentTime:e.currentTime}))}),[u]);return e.createElement(Ys,Qy({ref:r},d),s&&e.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-t.bindingDistance,left:-t.bindingDistance,width:"calc(100% + ".concat(2*t.bindingDistance,"px)"),height:"calc(100% + ".concat(2*t.bindingDistance,"px)"),backgroundColor:"var(--tl-selectFill)"}}),e.createElement(Bk,{ref:p,isDarkMode:c.isDarkMode,isGhost:l,isFilled:w.isFilled},e.createElement(jk,{ref:h,id:i.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:u,autoPlay:y,onPlay:k,onPause:S,onTimeUpdate:C},e.createElement("source",{src:a.src}))))}))),tb(d(t),"Indicator",Sw.Indicator((function(t){var n=b(t.shape.size,2),r=n[0],i=n[1];return e.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,r),height:Math.max(1,i)})}))),tb(d(t),"getBounds",(function(e){return dw(e,t.boundsCache)})),tb(d(t),"shouldRender",(function(e,t){return t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying})),tb(d(t),"getSvgElement",(function(e){var n=t.getBounds(e),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width","".concat(n.width)),r.setAttribute("height","".concat(n.height)),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r})),tb(d(t),"transform",fw),tb(d(t),"transformSingle",hw),t}return k(r)}(Sw),Bk=Gu("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:bb}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),jk=Gu("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),Nk=new Pw,Fk=new Fw,zk=new Zw,Hk=new Ok,Uk=new uk,Vk=new bk,Kk=new ck,Zk=new fk,Wk=new Rk,Yk=new Lk,Xk=(i(Py={},"rectangle",Nk),i(Py,"triangle",Fk),i(Py,"ellipse",zk),i(Py,"draw",Hk),i(Py,"arrow",Uk),i(Py,"text",Vk),i(Py,"group",Kk),i(Py,"sticky",Zk),i(Py,"image",Wk),i(Py,"video",Yk),Py);function $k(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if("object"===typeof e){if("function"===typeof e[Symbol.iterator]){var t=[];if(e.length>0){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push($k(i))}}catch(dR){r.e(dR)}finally{r.f()}}return t}var o=Object.keys(e),a={};if(o.length>0){var s,u=C(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;a[l]=$k(e[l])}}catch(dR){u.e(dR)}finally{u.f()}}return a}return e}var Gk=function(){function e(){S(this,e)}return k(e,null,[{key:"getShapeUtil",value:function(e){return function(e){return"string"===typeof e?Xk[e]:Xk[e.type]}(e)}},{key:"getSelectedShapes",value:function(t,n){var r=e.getPage(t,n);return e.getSelectedIds(t,n).map((function(e){return r.shapes[e]}))}},{key:"screenToWorld",value:function(t,n){var r=e.getPageState(t,t.appState.currentPageId).camera;return wo.sub(wo.div(n,r.zoom),r.point)}},{key:"getCameraZoom",value:function(e){return Xa.clamp(e,.1,5)}},{key:"getPage",value:function(e,t){return e.document.pages[t]}},{key:"getPageState",value:function(e,t){return e.document.pageStates[t]}},{key:"getSelectedIds",value:function(t,n){return e.getPageState(t,n).selectedIds}},{key:"getShapes",value:function(t,n){return Object.values(e.getPage(t,n).shapes)}},{key:"getCamera",value:function(t,n){return e.getPageState(t,n).camera}},{key:"getShape",value:function(t,n,r){return e.getPage(t,r).shapes[n]}},{key:"getCenter",value:function(t){return e.getShapeUtil(t).getCenter(t)}},{key:"getBounds",value:function(t){return e.getShapeUtil(t).getBounds(t)}},{key:"getRotatedBounds",value:function(t){return e.getShapeUtil(t).getRotatedBounds(t)}},{key:"getSelectedBounds",value:function(t){return Xa.getCommonBounds(e.getSelectedShapes(t,t.appState.currentPageId).map((function(t){return e.getShapeUtil(t).getBounds(t)})))}},{key:"getParentId",value:function(t,n,r){return e.getShape(t,n,r).parentId}},{key:"getDocumentBranch",value:function(t,n,r){var i=e.getShape(t,n,r);return void 0===i.children?[n]:[n].concat((0,c.Z)(i.children.flatMap((function(n){return e.getDocumentBranch(t,n,r)}))))}},{key:"getSelectedBranchSnapshot",value:function(t,n,r){var i=e.getPage(t,n),o=e.getSelectedIds(t,n).flatMap((function(r){return e.getDocumentBranch(t,r,n).map((function(e){return i.shapes[e]}))})).filter((function(e){return!e.isLocked})).map(Xa.deepClone);return void 0!==r?o.map((function(e){return Qy({id:e.id},r(e))})):o}},{key:"getSelectedShapeSnapshot",value:function(t,n,r){var i=e.getSelectedShapes(t,n).filter((function(e){return!e.isLocked})).map(Xa.deepClone);return void 0!==r?i.map((function(e){return Qy({id:e.id},r(e))})):i}},{key:"getAllEffectedShapeIds",value:function(t,n,r){var i=e.getPage(t,r),o=new Set(n);return n.forEach((function(e){var t=i.shapes[e];!function e(t){void 0!==t.children&&t.children.filter((function(e){return!o.has(e)})).forEach((function(t){o.add(t),e(i.shapes[t])}))}(t),function e(t){var n=t.parentId;n!==i.id&&(o.has(n)||(o.add(n),e(i.shapes[n])))}(t),o.forEach((function(e){Object.values(i.bindings).filter((function(t){return t.fromId===e||t.toId===e})).forEach((function(t){return o.add(t.fromId===e?t.toId:t.fromId)}))}))})),Array.from(o.values())}},{key:"getLinkedShapeIds",value:function(t,n,r){for(var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.getSelectedIds(t,n),a=e.getPage(t,n),s=new Set(o),u=new Set,l=(0,c.Z)(o),d=new Set(Object.values(a.shapes).filter((function(e){var t;return"arrow"===e.type&&(e.handles.start.bindingId||(null==(t=e.handles)?void 0:t.end.bindingId))}))),f=function(){var e=l.pop();return e&&d.size?u.has(e)?"continue":(u.add(e),void d.forEach((function(t){var n,o,u=t.handles,c=u.start.bindingId,f=u.end.bindingId,h=c?a.bindings[c]:null,p=f?a.bindings[f]:null;h&&h.toId===e?("center"===r||((null==(n=t.decorations)?void 0:n.start)&&p?"left"===r:"right"===r))&&(i&&s.add(t.id),s.add(e),p&&(s.add(p.toId),l.push(p.toId))):p&&p.toId===e&&("center"===r||((null==(o=t.decorations)?void 0:o.end)&&h?"left"===r:"right"===r))&&(i&&s.add(t.id),s.add(e),h&&(s.add(h.toId),l.push(h.toId))),h&&!s.has(h.toId)||p&&!s.has(p.toId)||d.delete(t)}))):"break"};l.length;){var h=f();if("break"===h)break}return Array.from(s.values())}},{key:"getChildIndexAbove",value:function(e,t,n){var r,i=e.document.pages[n],o=i.shapes[t];if(o.parentId===i.id)r=Object.values(i.shapes).filter((function(e){return e.parentId===i.id})).sort((function(e,t){return e.childIndex-t.childIndex}));else{var a=i.shapes[o.parentId];if(!a.children)throw Error("No children in parent!");r=a.children.map((function(e){return i.shapes[e]})).sort((function(e,t){return e.childIndex-t.childIndex}))}var s=r.indexOf(o),u=r[s+1];return u?u.childIndex:o.childIndex+1}},{key:"getBeforeShape",value:function(e,t){return Object.fromEntries(Object.keys(t).map((function(t){return[t,e[t]]})))}},{key:"mutateShapes",value:function(t,n,r,o){var a={},s={};n.forEach((function(n,i){var u=e.getShape(t,n,o);if(!u.isLocked){var l=r(u,i);l&&(a[n]=e.getBeforeShape(u,l),s[n]=l)}}));var u=Xa.deepMerge(t,{document:{pages:i({},t.appState.currentPageId,{shapes:s})}});return{before:a,after:s,data:u}}},{key:"createShapes",value:function(t,n,r){return{before:{document:{pages:i({},r,{shapes:Qy({},Object.fromEntries(n.flatMap((function(n){var i=[[n.id,void 0]];if(n.parentId!==r){var o=e.getShape(t,n.parentId,r);if(!o.children)throw Error("No children in parent!");i.push([o.id,{children:o.children}])}return i}))))})}},after:{document:{pages:i({},r,{shapes:{shapes:Qy({},Object.fromEntries(n.flatMap((function(n){var i=[[n.id,n]];if(n.parentId!==r){var o=e.getShape(t,n.parentId,r);if(!o.children)throw Error("No children in parent!");i.push([o.id,{children:[].concat((0,c.Z)(o.children),[n.id])}])}return i}))))}})}}}}},{key:"deleteShapes",value:function(t,n,r){r=r||t.appState.currentPageId;var o=e.getPage(t,r),a="string"===typeof n[0]?n:n.map((function(e){return e.id})),s={document:{pages:i({},r,{shapes:Qy({},Object.fromEntries(a.flatMap((function(e){var t=o.shapes[e],n=[[t.id,t]];if(t.parentId!==r){var i=o.shapes[t.parentId];if(!i.children)throw Error("No children in parent!");n.push([i.id,{children:i.children}])}return n})))),bindings:Qy({},Object.fromEntries(Object.values(o.bindings).filter((function(e){return a.includes(e.fromId)||a.includes(e.toId)})).map((function(e){return[e.id,e]}))))})}},u={document:{pages:i({},r,{shapes:Qy({},Object.fromEntries(a.flatMap((function(e){var t=o.shapes[e],n=[[t.id,void 0]];if(t.parentId!==o.id){var r=o.shapes[t.parentId];if(!r.children)throw Error("No children in parent!");n.push([r.id,{children:r.children.filter((function(e){return e!==t.id}))}])}return n}))))})}};return{before:s,after:u}}},{key:"onSessionComplete",value:function(t){var n,r,i=null==(r=(n=e.getShapeUtil(t)).onSessionComplete)?void 0:r.call(n,t);return i?Qy(Qy({},t),i):t}},{key:"onChildrenChange",value:function(t,n,r){var i,o;if(n.children){var a=null==(o=(i=e.getShapeUtil(n)).onChildrenChange)?void 0:o.call(i,n,n.children.map((function(n){return e.getShape(t,n,r)})));return a?Qy(Qy({},n),a):n}}},{key:"updateArrowBindings",value:function(t,n){var r,o,a,s,u,l,c={start:$k(n.handles.start),end:$k(n.handles.end)},d={isBound:!1,handle:n.handles.start,point:wo.add(n.handles.start.point,n.point)},f={isBound:!1,handle:n.handles.end,point:wo.add(n.handles.end.point,n.point)};if(n.handles.start.bindingId){var h=void 0!==(null==(r=n.decorations)?void 0:r.start),p=n.handles.start,v=t.bindings[n.handles.start.bindingId];if(!v)throw Error("Could not find a binding to match the start handle's bindingId");var g=t.shapes[v.toId],m=e.getShapeUtil(g),y=m.getBounds(g),w=m.getExpandedBounds(g),k=h?Xa.expandBounds(y,v.distance):y,S=w.minX,C=w.minY,_=w.width,E=w.height,x=wo.add([S,C],wo.mulV([_,E],wo.rotWith(v.point,[.5,.5],g.rotation||0)));d={isBound:!0,hasDecoration:h,binding:v,handle:p,point:x,util:m,target:g,bounds:y,expandedBounds:w,intersectBounds:k,center:m.getCenter(g)}}if(n.handles.end.bindingId){var I=void 0!==(null==(o=n.decorations)?void 0:o.end),P=n.handles.end,M=t.bindings[n.handles.end.bindingId];if(!M)throw Error("Could not find a binding to match the end handle's bindingId");var T=t.shapes[M.toId],O=e.getShapeUtil(T),R=O.getBounds(T),D=O.getExpandedBounds(T),A=I?Xa.expandBounds(R,M.distance):R,L=D.minX,B=D.minY,j=D.width,N=D.height,F=wo.add([L,B],wo.mulV([j,N],wo.rotWith(M.point,[.5,.5],T.rotation||0)));f={isBound:!0,hasDecoration:I,binding:M,handle:P,point:F,util:O,target:T,bounds:R,expandedBounds:D,intersectBounds:A,center:O.getCenter(T)}}for(var z=function(){var t=U[H],r="start"===t?d:f,o="start"===t?f:d;if(r.isBound)if(r.binding.distance){var u=wo.uni(wo.sub(r.point,o.point));switch(r.target.type){case"ellipse":var l=aa(o.point,u,r.center,r.target.radius[0]+(r.hasDecoration?r.binding.distance:0),r.target.radius[1]+(r.hasDecoration?r.binding.distance:0),r.target.rotation||0).points.sort((function(e,t){return wo.dist(e,o.point)-wo.dist(t,o.point)}));void 0!==l[0]&&(c[t].point=wo.toFixed(wo.sub(l[0],n.point)));break;case"triangle":var h=r.target.point,p=Dw(r.target.size,r.hasDecoration?vb:0,r.target.rotation).map((function(e){return wo.add(e,h)})),v=Xa.pointsToLineSegments(p,!0).map((function(e){var t=b(e,2),n=t[0],r=t[1];return ia(o.point,u,n,r)})).filter((function(e){return e.didIntersect})).flatMap((function(e){return e.points})).sort((function(e,t){return wo.dist(e,o.point)-wo.dist(t,o.point)}));void 0!==v[0]&&(c[t].point=wo.toFixed(wo.sub(v[0],n.point)));break;default:var g=sa(o.point,u,r.intersectBounds,r.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]})).sort((function(e,t){return wo.dist(e,o.point)-wo.dist(t,o.point)}));if(!g[0])return"continue";var m=void 0;if(o.isBound){var y=sa(o.point,u,o.intersectBounds,o.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]})).sort((function(e,t){return wo.dist(e,o.point)-wo.dist(t,o.point)}));m=y[0]}if(o.isBound&&(g.length<2||m&&g[0]&&Math.ceil(wo.dist(g[0],m))<40||Xa.boundsContain(r.expandedBounds,o.expandedBounds)||Xa.boundsCollide(r.expandedBounds,o.expandedBounds))){var w=wo.uni(wo.sub(o.point,r.point)),k=sa(r.point,w,r.bounds,r.target.rotation).filter((function(e){return e.didIntersect})).map((function(e){return e.points[0]}));if(!k[0])return"continue";c[t].point=wo.toFixed(wo.sub(k[0],n.point)),c["start"===t?"end":"start"].point=wo.toFixed(wo.add(wo.sub(k[0],n.point),wo.mul(w,Math.min(wo.dist(k[0],o.point),40*(Xa.boundsContain(o.bounds,r.intersectBounds)?-1:1)))))}else{if(!o.isBound&&(g[0]&&wo.dist(g[0],o.point)<40||Xa.pointInBounds(o.point,r.intersectBounds))){var S=wo.uni(wo.sub(r.center,o.point));return{v:null==(s=(a=e.getShapeUtil(n)).onHandleChange)?void 0:s.call(a,n,i({},t,Jy(Qy({},n.handles[t]),{point:wo.toFixed(wo.add(wo.sub(o.point,n.point),wo.mul(S,40)))})))}}g[0]&&(c[t].point=wo.toFixed(wo.sub(g[0],n.point)))}}}else c[t].point=wo.sub(r.point,n.point)},H=0,U=["end","start"];H<U.length;H++){var V=z();if("continue"!==V&&"object"===typeof V)return V.v}return null==(l=(u=e.getShapeUtil(n)).onHandleChange)?void 0:l.call(u,n,c)}},{key:"transform",value:function(t,n,r){var i=e.getShapeUtil(t).transform(t,n,r);return i?Qy(Qy({},t),i):t}},{key:"transformSingle",value:function(t,n,r){var i=e.getShapeUtil(t).transformSingle(t,n,r);return i?Qy(Qy({},t),i):t}},{key:"getRotatedShapeMutation",value:function(e,t,n,r){var i,o,a=wo.sub(t,e.point),s=wo.rotWith(t,n,r),u=wo.toFixed(wo.sub(s,a));return void 0!==e.handles?null==(o=(i=this.getShapeUtil(e)).onHandleChange)?void 0:o.call(i,Jy(Qy({},e),{point:u}),Object.fromEntries(Object.entries(e.handles).map((function(e){var t=b(e,2),n=t[0],i=t[1],o=wo.toFixed(wo.rotWith(i.point,a,r));return[n,Jy(Qy({},i),{point:o})]})))):{point:u,rotation:Xa.clampRadians((e.rotation||0)+r)}}},{key:"updateParents",value:function(t,n,r){var i=e.getPage(t,n);if(0!==r.length){var o,a=e.getPage(t,n).shapes,s=Array.from(new Set(r.map((function(e){return a[e].parentId})).values())).filter((function(e){return e!==i.id})),u=C(s);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=a[l];if(!c.children)throw Error("A shape is parented to a shape without a children array.");e.onChildrenChange(t,c,n)}}catch(dR){u.e(dR)}finally{u.f()}e.updateParents(t,n,s)}}},{key:"getBinding",value:function(t,n,r){return e.getPage(t,r).bindings[n]}},{key:"getBindings",value:function(t,n){var r=e.getPage(t,n);return Object.values(r.bindings)}},{key:"getBindableShapeIds",value:function(t){return e.getShapes(t,t.appState.currentPageId).filter((function(t){return e.getShapeUtil(t).canBind})).sort((function(e,t){return t.childIndex-e.childIndex})).map((function(e){return e.id}))}},{key:"getBindingsWithShapeIds",value:function(t,n,r){return Array.from(new Set(e.getBindings(t,r).filter((function(e){return n.includes(e.toId)||n.includes(e.fromId)}))).values())}},{key:"getRelatedBindings",value:function(t,n,r){for(var i=new Set(n),o=e.getPage(t,r),a=Object.values(o.bindings),s=new Set(a.filter((function(e){return i.has(e.toId)||i.has(e.fromId)}))),u=s.size,l=-1;0!==l;)s.forEach((function(e){var t,n=e.fromId,r=C(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.fromId===n&&s.add(i),i.toId===n&&s.add(i)}}catch(dR){r.e(dR)}finally{r.f()}})),l=s.size-u,u=s.size;return Array.from(s.values())}},{key:"normalizeText",value:function(t){return t.replace(e.fixNewLines,"\n").split("\n").map((function(e){return e||" "})).join("\n")}},{key:"assertShapeHasProperty",value:function(e,t){if(void 0===e[t])throw new Error}},{key:"warn",value:function(e){false}},{key:"error",value:function(e){false}}]),e}(),qk=Gk;function Qk(e,t,n){var r=e.currentPageId,o=t.map((function(t){return e.getShape(t)})),a=o.map((function(e){return{id:e.id,point:(0,c.Z)(e.point),bounds:qk.getBounds(e)}})),s=Xa.getCommonBounds(a.map((function(e){return e.bounds}))),u=s.minX+s.width/2,l=s.minY+s.height/2,d=Object.fromEntries(a.map((function(e){var t,r=e.id,o=e.point,a=e.bounds;return[r,{prev:o,next:(t={},i(t,"centerVertical",[o[0],l-a.height/2]),i(t,"centerHorizontal",[u-a.width/2,o[1]]),i(t,"top",[o[0],s.minY]),i(t,"bottom",[o[0],s.maxY-a.height]),i(t,"left",[s.minX,o[1]]),i(t,"right",[s.maxX-a.width,o[1]]),t)[n]}]}))),f=qk.mutateShapes(e.state,t,(function(e){return d[e.id]?{point:d[e.id].next}:e}),r),h=f.before,p=f.after;return o.forEach((function(t){if("group"===t.type){var n=wo.sub(p[t.id].point,h[t.id].point);t.children.forEach((function(t){var r=e.getShape(t);h[r.id]={point:r.point},p[r.id]={point:wo.add(r.point,n)}})),delete h[t.id],delete p[t.id]}})),{id:"align",before:{document:{pages:i({},r,{shapes:h}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:p}),pageStates:i({},r,{selectedIds:t})}}}}function Jk(e,t){return{id:"change_page",before:{appState:{currentPageId:e.currentPageId}},after:{appState:{currentPageId:t}}}}function eS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xa.uniqueId(),r=e.currentPageId,o=Object.values(e.state.document.pages).sort((function(e,t){return(t.childIndex||0)-(e.childIndex||0)}))[0],a=(null==o?void 0:o.childIndex)?(null==o?void 0:o.childIndex)+1:1,s="New Page",u={id:n,name:s,childIndex:a,shapes:{},bindings:{}},l={id:n,selectedIds:[],camera:{point:t,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:r},document:{pages:i({},n,void 0),pageStates:i({},n,void 0)}},after:{appState:{currentPageId:u.id},document:{pages:i({},n,u),pageStates:i({},n,l)}}}}function tS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.currentPageId,o={},a={};t.forEach((function(e){o[e.id]=void 0,a[e.id]=e}));var s={},u={};return n.forEach((function(e){s[e.id]=void 0,u[e.id]=e})),{id:"create",before:{document:{pages:i({},r,{shapes:o,bindings:s}),pageStates:i({},r,{selectedIds:(0,c.Z)(e.selectedIds)})}},after:{document:{pages:i({},r,{shapes:a,bindings:u}),pageStates:i({},r,{selectedIds:t.map((function(e){return e.id}))})}}}}function nS(e,t){var n,r=e.currentPageId,o=e.document,a=o.pages,s=o.pageStates,u=Object.values(a).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)})),l=u.findIndex((function(e){return e.id===t}));return n=t===r?l===u.length-1?u[u.length-2].id:u[l+1].id:r,{id:"delete_page",before:{appState:{currentPageId:t},document:{pages:i({},t,Qy({},a[t])),pageStates:i({},t,Qy({},s[t]))}},after:{appState:{currentPageId:n},document:{pages:i({},t,void 0),pageStates:i({},t,void 0)}}}}function rS(e,t,n){var r={shapes:{},bindings:{}},o={shapes:{},bindings:{}},a=[],s=new Set,u=new Set;t.filter((function(t){return!qk.getShape(e,t,n).isLocked})).forEach((function(t){s.add(t);var i=qk.getShape(e,t,n);r.shapes[t]=i,o.shapes[t]=void 0,void 0!==i.children&&i.children.forEach((function(t){s.add(t);var i=qk.getShape(e,t,n);r.shapes[t]=i,o.shapes[t]=void 0})),i.parentId!==n&&a.push(qk.getShape(e,i.parentId,n)),i.assetId&&u.add(i.assetId)})),a.forEach((function(i){var a;t.includes(i.id)||(s.add(i.id),r.shapes[i.id]={children:i.children},o.shapes[i.id]={children:i.children.filter((function(e){return!t.includes(e)}))},0===(null==(a=o.shapes[i.id])?void 0:a.children.length)&&(o.shapes[i.id]=void 0,r.shapes[i.id]=qk.getShape(e,i.id,n)))}));var l=qk.getPage(e,n);return Object.values(l.bindings).filter((function(e){return s.has(e.fromId)||s.has(e.toId)})).forEach((function(e){for(var t=function(){var t=a[n];if(void 0===o.shapes[t]){r.bindings[e.id]=e,o.bindings[e.id]=void 0;var u=l.shapes[t];u&&u.handles&&Object.values(u.handles).filter((function(t){return t.bindingId===e.id})).forEach((function(n){var a,u,l,c,d,f;r.shapes[t]=Jy(Qy({},r.shapes[t]),{handles:Jy(Qy({},null==(a=r.shapes[t])?void 0:a.handles),i({},n.id,Jy(Qy({},null==(l=null==(u=r.shapes[t])?void 0:u.handles)?void 0:l[n.id]),{bindingId:e.id})))}),s.has(t)||(o.shapes[t]=Jy(Qy({},o.shapes[t]),{handles:Jy(Qy({},null==(c=o.shapes[t])?void 0:c.handles),i({},n.id,Jy(Qy({},null==(f=null==(d=o.shapes[t])?void 0:d.handles)?void 0:f[n.id]),{bindingId:void 0})))}))}))}},n=0,a=[e.toId,e.fromId];n<a.length;n++)t()})),Object.values(e.document.pages).flatMap((function(e){return Object.values(e.shapes)})).forEach((function(e){"assetId"in e&&e.assetId&&!s.has(e.id)&&u.delete(e.assetId)})),{before:r,after:o,assetsToRemove:Array.from(u)}}tb(qk,"copyStringToClipboard",(function(e){try{navigator.clipboard.writeText(e)}catch(i){var t=document.createElement("textarea");t.setAttribute("position","fixed"),t.setAttribute("top","0"),t.setAttribute("readonly","true"),t.setAttribute("contenteditable","true"),t.style.position="fixed",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{var n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r&&(r.removeAllRanges(),r.addRange(n),t.setSelectionRange(0,t.value.length))}catch(dR){}finally{document.body.removeChild(t)}}})),tb(qk,"flattenShape",(function(e,t){var n;return[t].concat((0,c.Z)((null!=(n=t.children)?n:[]).map((function(t){return Gk.getShape(e,t,e.appState.currentPageId)})).sort((function(e,t){return e.childIndex-t.childIndex})).flatMap((function(t){return Gk.flattenShape(e,t)}))))})),tb(qk,"flattenPage",(function(e,t){return Object.values(e.document.pages[t].shapes).sort((function(e,t){return e.childIndex-t.childIndex})).reduce((function(t,n){return[].concat((0,c.Z)(t),(0,c.Z)(Gk.flattenShape(e,n)))}),[])})),tb(qk,"getTopChildIndex",(function(e,t){var n=Gk.getShapes(e,t);return 0===n.length?1:n.filter((function(e){return e.parentId===t})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1})),tb(qk,"fixNewLines",/\r?\n|\r/g);var iS=function(e,t){var n=Qy({},e);return t.forEach((function(e){return n[e]=void 0})),n};function oS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.currentPageId,r=e.pageState,o=e.selectedIds,a=e.document.assets,s=rS(e.state,t,n),u=s.before,l=s.after,d=s.assetsToRemove,f=iS(a,d);return{id:"delete",before:{document:{assets:a,pages:i({},n,u),pageStates:i({},n,{selectedIds:(0,c.Z)(e.selectedIds)})}},after:{document:{assets:f,pages:i({},n,l),pageStates:i({},n,{selectedIds:o.filter((function(e){return!t.includes(e)})),hoveredId:r.hoveredId&&t.includes(r.hoveredId)?void 0:r.hoveredId})}}}}function aS(e,t,n){var r=e.currentPageId,o=t.map((function(t){return e.getShape(t)})),a=Object.fromEntries(function(e,t){var n=e.map((function(e){var t=qk.getShapeUtil(e);return{id:e.id,point:(0,c.Z)(e.point),bounds:t.getBounds(e),center:t.getCenter(e)}})),r=n.length,i=Xa.getCommonBounds(n.map((function(e){return e.bounds}))),o=[];switch(t){case"horizontal":var a=n.reduce((function(e,t){return e+t.bounds.width}),0);if(a>i.width){var s=n.sort((function(e,t){return e.bounds.minX-t.bounds.minX}))[0],u=n.sort((function(e,t){return t.bounds.maxX-e.bounds.maxX}))[0],l=n.filter((function(e){return e!==s&&e!==u})).sort((function(e,t){return e.center[0]-t.center[0]})),d=(u.center[0]-s.center[0])/(r-1),f=s.center[0]+d;l.forEach((function(e,t){var n=e.id,r=e.point,i=e.bounds;o.push({id:n,prev:r,next:[f+d*t-i.width/2,i.minY]})}))}else{var h=n.sort((function(e,t){return e.center[0]-t.center[0]})),p=i.minX,v=(i.width-a)/(r-1);h.forEach((function(e){var t=e.id,n=e.point,r=e.bounds;o.push({id:t,prev:n,next:[p,r.minY]}),p+=r.width+v}))}break;case"vertical":var g=n.reduce((function(e,t){return e+t.bounds.height}),0);if(g>i.height){var m=n.sort((function(e,t){return e.bounds.minY-t.bounds.minY}))[0],y=n.sort((function(e,t){return t.bounds.maxY-e.bounds.maxY}))[0],b=n.filter((function(e){return e!==m&&e!==y})).sort((function(e,t){return e.center[1]-t.center[1]})),w=(y.center[1]-m.center[1])/(r-1),k=m.center[1]+w;b.forEach((function(e,t){var n=e.id,r=e.point,i=e.bounds;o.push({id:n,prev:r,next:[i.minX,k+w*t-i.height/2]})}))}else{var S=n.sort((function(e,t){return e.center[1]-t.center[1]})),C=i.minY,_=(i.height-g)/(r-1);S.forEach((function(e){var t=e.id,n=e.point,r=e.bounds;o.push({id:t,prev:n,next:[r.minX,C]}),C+=r.height+_}))}}return o}(o,n).map((function(e){return[e.id,e]}))),s=qk.mutateShapes(e.state,t.filter((function(e){return void 0!==a[e]})),(function(e){return{point:a[e.id].next}}),r),u=s.before,l=s.after;return o.forEach((function(t){if("group"===t.type){var n=ko.sub(l[t.id].point,u[t.id].point);t.children.forEach((function(t){var r=e.getShape(t);u[r.id]={point:r.point},l[r.id]={point:ko.add(r.point,n)}})),delete u[t.id],delete l[t.id]}})),{id:"distribute",before:{document:{pages:i({},r,{shapes:u}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:l}),pageStates:i({},r,{selectedIds:t})}}}}function sS(e,t){var n=Xa.uniqueId(),r=e.currentPageId,o=e.page,a=e.pageState.camera,s=Jy(Qy({},o),{id:n,name:o.name+" Copy",shapes:Object.fromEntries(Object.entries(o.shapes).map((function(e){var r=b(e,2),i=r[0],o=r[1];return[i,Jy(Qy({},o),{parentId:o.parentId===t?n:o.parentId})]})))});return{id:"duplicate_page",before:{appState:{currentPageId:r},document:{pages:i({},n,void 0),pageStates:i({},n,void 0)}},after:{appState:{currentPageId:n},document:{pages:i({},n,s),pageStates:i({},n,Jy(Qy({},o),{id:n,selectedIds:[],camera:Qy({},a),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0}))}}}}function uS(e,t,n){var r=e.selectedIds,o=e.currentPageId,a=e.page,s=(e.shapes,{shapes:{},bindings:{}}),u={shapes:{},bindings:{}},l={},d=t.map((function(t){return e.getShape(t)})).filter((function(e){return!t.includes(e.parentId)}));d.forEach((function(t){var n=Xa.uniqueId();if(s.shapes[n]=void 0,u.shapes[n]=Jy(Qy({},Xa.deepClone(t)),{id:n,childIndex:qk.getChildIndexAbove(e.state,t.id,o)}),t.children&&(u.shapes[n].children=[]),t.parentId!==o){var r=e.getShape(t.parentId);s.shapes[r.id]=Jy(Qy({},s.shapes[r.id]),{children:r.children}),u.shapes[r.id]=Jy(Qy({},u.shapes[r.id]),{children:[].concat((0,c.Z)((u.shapes[r.id]||r).children),[n])})}l[t.id]=n})),d.forEach((function(t){t.children&&t.children.forEach((function(n){var r,i,a=e.getShape(n),c=Xa.uniqueId(),d=l[t.id];s.shapes[c]=void 0,u.shapes[c]=Jy(Qy({},Xa.deepClone(a)),{id:c,parentId:d,childIndex:qk.getChildIndexAbove(e.state,a.id,o)}),l[n]=c,null==(i=null==(r=u.shapes[l[t.id]])?void 0:r.children)||i.push(c)}))}));var f=new Set(Object.keys(l));Object.values(a.bindings).filter((function(e){return f.has(e.fromId)||f.has(e.toId)})).forEach((function(e){if(f.has(e.fromId))if(f.has(e.toId)){var t=Xa.uniqueId(),n=Jy(Qy({},Xa.deepClone(e)),{id:t,fromId:l[e.fromId],toId:l[e.toId]});s.bindings[t]=void 0,u.bindings[t]=n;var r=u.shapes[n.fromId];Object.values(r.handles).forEach((function(n){n.bindingId===e.id&&(n.bindingId=t)}))}else{var i=u.shapes[l[e.fromId]];Object.values(i.handles).forEach((function(t){t.bindingId===e.id&&(t.bindingId=void 0)}))}}));var h=Object.values(u.shapes);if(n){var p=Xa.getCommonBounds(h.map((function(e){return qk.getBounds(e)}))),v=Xa.getBoundsCenter(p);h.forEach((function(e){e.point&&(e.point=wo.sub(n,wo.sub(v,e.point)))}))}else{var g=[16,16];h.forEach((function(e){e.point&&(e.point=wo.add(e.point,g))}))}return h.forEach((function(e){e.isLocked&&(e.isLocked=!1)})),{id:"duplicate",before:{document:{pages:i({},o,s),pageStates:i({},o,{selectedIds:r})}},after:{document:{pages:i({},o,u),pageStates:i({},o,{selectedIds:Array.from(f.values()).map((function(e){return l[e]}))})}}}}function lS(e,t,n){var r=e.selectedIds,o=e.currentPageId,a=e.shapes.map((function(e){return qk.getBounds(e)})),s=Xa.getCommonBounds(a),u=qk.mutateShapes(e.state,t,(function(e){var t=qk.getBounds(e);switch(n){case"horizontal":var r=Xa.getRelativeTransformedBoundingBox(s,s,t,!0,!1);return qk.getShapeUtil(e).transform(e,r,{type:Za.TopLeft,scaleX:-1,scaleY:1,initialShape:e,transformOrigin:[.5,.5]});case"vertical":var i=Xa.getRelativeTransformedBoundingBox(s,s,t,!1,!0);return qk.getShapeUtil(e).transform(e,i,{type:Za.TopLeft,scaleX:1,scaleY:-1,initialShape:e,transformOrigin:[.5,.5]})}}),o),l=u.before,c=u.after;return{id:"flip",before:{document:{pages:i({},o,{shapes:l}),pageStates:i({},o,{selectedIds:r})}},after:{document:{pages:i({},o,{shapes:c}),pageStates:i({},o,{selectedIds:t})}}}}function cS(e,t,n,r){var o,a;if(!(t.length<2)){var s,u={},l={},d={},f={},h=(0,c.Z)(t),p=[],v=[],g=[],m=C(t);try{for(m.s();!(s=m.n()).done;){var y=s.value;if(!(I=e.getShape(y)).isLocked)if(void 0===I.children)p.push(I);else{var b=I.children.filter((function(t){return!e.getShape(t).isLocked}));g.push(I),h.push.apply(h,(0,c.Z)(b)),p.push.apply(p,(0,c.Z)(b.map((function(t){return e.getShape(t)})).filter(Boolean)))}}}catch(dR){m.e(dR)}finally{m.f()}if(p.every((function(e){return e.parentId===p[0].parentId})))if(p[0].parentId!==r)if((null==(o=e.getShape(p[0].parentId).children)?void 0:o.length)===h.length)return;var w=qk.flattenPage(e.state,r),k=Object.fromEntries(p.map((function(e){return[e.id,w.indexOf(e)]}))),S=p.sort((function(e,t){return k[e.id]-k[t.id]})),_=r,E=(S.filter((function(e){return e.parentId===r}))[0]||S[0]).childIndex,x=Xa.getCommonBounds(p.map((function(e){return qk.getBounds(e)})));for(u[n]=void 0,l[n]=qk.getShapeUtil("group").create({id:n,childIndex:E,parentId:_,point:[x.minX,x.minY],size:[x.width,x.height],children:S.map((function(e){return e.id}))}),S.forEach((function(t,i){if(t.parentId!==r){var o=e.getShape(t.parentId);g.push(o)}u[t.id]=Jy(Qy({},u[t.id]),{parentId:t.parentId,childIndex:t.childIndex}),l[t.id]=Jy(Qy({},l[t.id]),{parentId:n,childIndex:i+1})}));g.length>0;){var I;if(!(I=g.pop()))break;var P=((null==(a=u[I.id])?void 0:a.children)||I.children).filter((function(e){return e&&!(h.includes(e)||v.includes(e))}));0===P.length?(u[I.id]=I,l[I.id]=void 0,I.parentId!==r&&(v.push(I.id),g.push(e.getShape(I.parentId)))):(u[I.id]=Jy(Qy({},u[I.id]),{children:I.children}),l[I.id]=Jy(Qy({},l[I.id]),{children:P}))}var M=e.bindings,T=new Set(v);return M.forEach((function(t){for(var n=function(){var n=o[r];if(T.has(n)){d[t.id]=t,f[t.id]=void 0;var a=e.getShape(n);a.handles&&Object.values(a.handles).filter((function(e){return e.bindingId===t.id})).forEach((function(e){var r,o;u[n]=Jy(Qy({},u[n]),{handles:Jy(Qy({},null==(r=u[n])?void 0:r.handles),i({},e.id,{bindingId:t.id}))}),v.includes(n)||(l[n]=Jy(Qy({},l[n]),{handles:Jy(Qy({},null==(o=l[n])?void 0:o.handles),i({},e.id,{bindingId:void 0}))}))}))}},r=0,o=[t.toId,t.fromId];r<o.length;r++)n()})),{id:"group",before:{document:{pages:i({},r,{shapes:u,bindings:d}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:l,bindings:d}),pageStates:i({},r,{selectedIds:[n]})}}}}}function dS(e,t,n,r,o){var a,s,u,l,c=e.page,d={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},f={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},h=new Set,p=new Set;t.map((function(t){return e.getShape(t,r)})).filter((function(e){return!e.isLocked})).forEach((function(t){h.add(t.id),p.add(t),void 0!==t.children&&t.children.forEach((function(t){h.add(t),p.add(e.getShape(t,r))}))}));var v=qk.getTopChildIndex(e.state,o),g=Array.from(p.values());g.forEach((function(t,n){if(d.before.shapes[t.id]=t,d.after.shapes[t.id]=void 0,f.before.shapes[t.id]=void 0,f.after.shapes[t.id]=t,!h.has(t.parentId)&&(f.after.shapes[t.id]=Jy(Qy({},t),{parentId:o,childIndex:v+n}),t.parentId!==r)){var i=e.getShape(t.parentId,r);d.before.shapes[i.id]={children:i.children},d.after.shapes[i.id]={children:i.children.filter((function(e){return e!==t.id}))}}})),Object.values(c.bindings).filter((function(e){return h.has(e.fromId)||h.has(e.toId)})).forEach((function(t){d.before.bindings[t.id]=t,d.after.bindings[t.id]=void 0;var n=e.getShape(t.fromId,r);if(h.has(t.fromId)&&h.has(t.toId))f.before.bindings[t.id]=void 0,f.after.bindings[t.id]=t;else if(h.has(t.fromId)){var o=e.getShape(t.fromId,r),a=Object.values(n.handles).find((function(e){return e.bindingId===t.id})).id,s=f.after.shapes[o.id];s.handles=Jy(Qy({},s.handles),i({},a,Jy(Qy({},s.handles[a]),{bindingId:void 0})))}else{var u=e.getShape(t.fromId,r),l=Object.values(n.handles).find((function(e){return e.bindingId===t.id}));d.before.shapes[u.id]={handles:i({},l.id,{bindingId:t.id})},d.after.shapes[u.id]={handles:i({},l.id,{bindingId:void 0})}}}));var m=e.state.document.pageStates[o],y=Xa.getCommonBounds(g.map((function(e){return qk.getBounds(e)}))),b=qk.getCameraZoom(n.width<n.height?(n.width-128)/y.width:(n.height-128)/y.height),w=(n.width-y.width*b)/2/b,k=(n.height-y.height*b)/2/b,S=wo.toFixed(wo.add([-y.minX,-y.minY],[w,k]));return{id:"move_to_page",before:{appState:{currentPageId:r},document:{pages:(a={},i(a,r,d.before),i(a,o,f.before),a),pageStates:(s={},i(s,r,{selectedIds:t}),i(s,o,{selectedIds:m.selectedIds,camera:m.camera}),s)}},after:{appState:{currentPageId:o},document:{pages:(u={},i(u,r,d.after),i(u,o,f.after),u),pageStates:(l={},i(l,r,{selectedIds:[]}),i(l,o,{selectedIds:t,camera:{zoom:b,point:S}}),l)}}}}function fS(e,t,n){var r,o,a,s=e.currentPageId,u=e.page,l=new Set(t.map((function(t){return e.getShape(t).parentId}))),c={before:{},after:{}};return Array.from(l.values()).forEach((function(i){var l=[];if(i===u.id)l=Object.values(u.shapes).sort((function(e,t){return e.childIndex-t.childIndex}));else{var d=e.getShape(i);if(!d.children)throw Error("No children in parent!");l=d.children.map((function(t){return e.getShape(t)})).sort((function(e,t){return e.childIndex-t.childIndex}))}var f=l.map((function(e){return e.id})),h=t.filter((function(e){return f.includes(e)})).map((function(e){return f.indexOf(e)})).sort((function(e,t){return e-t}));if(h.length!==f.length)switch(n){case"toBack":for(var p=0;p<f.length;p++)if(!h.includes(p)){r=p;break}o=l[r].childIndex,a=o/(h.length+1),c=qk.mutateShapes(e.state,h.map((function(e){return l[e].id})).reverse(),(function(e,t){return{childIndex:o-(t+1)*a}}),s);break;case"toFront":for(var v=f.length-1;v>=0;v--)if(!h.includes(v)){r=v;break}o=l[r].childIndex,a=1,c=qk.mutateShapes(e.state,h.map((function(e){return l[e].id})),(function(e,t){return{childIndex:o+(t+1)}}),s);break;case"backward":for(var g={},m=f.length-1;m>=0;m--)if(h.includes(m))for(var y=m;y>=0;y--)if(!h.includes(y)){var b=l[y].childIndex,w=void 0,k=void 0;0===y?(w=b/2,k=b/2/(m-y+1)):(w=l[y-1].childIndex,w+=k=(b-w)/(m-y+1));for(var S=0;S<m-y;S++)g[l[y+S+1].id]=w+k*S;break}Object.values(g).length>0&&(c=qk.mutateShapes(e.state,h.map((function(e){return l[e].id})),(function(e){return{childIndex:g[e.id]}}),s));break;case"forward":for(var C={},_=0;_<f.length;_++)if(h.includes(_))for(var E=_;E<f.length;E++)if(!h.includes(E)){o=l[E].childIndex;for(var x=E===f.length-1?1:(l[E+1].childIndex-o)/(E-_+1),I=0;I<E-_;I++)C[l[_+I].id]=o+x*(I+1);break}Object.values(C).length>0&&(c=qk.mutateShapes(e.state,h.map((function(e){return l[e].id})),(function(e){return{childIndex:C[e.id]}}),s))}})),{id:"move",before:{document:{pages:i({},s,{shapes:c.before}),pageStates:i({},s,{selectedIds:t})}},after:{document:{pages:i({},s,{shapes:c.after}),pageStates:i({},s,{selectedIds:t})}}}}function hS(e,t,n){return{id:"rename_page",before:{document:{pages:i({},t,{name:e.page.name})}},after:{document:{pages:i({},t,{name:n})}}}}function pS(e,t,n){var r=e.currentPageId,o=qk.mutateShapes(e.state,t,(function(t){var n,r;return null==(r=(n=e.getShapeUtil(t)).onDoubleClickBoundsHandle)?void 0:r.call(n,t)}),n),a=o.before,s=o.after;return{id:"reset_bounds",before:{document:{pages:i({},r,{shapes:a}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:t})}}}}var vS=2*Math.PI;function gS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-vS/4,r=e.currentPageId,o={},a={},s=t.flatMap((function(t){var n=e.getShape(t);return n.children?n.children.map((function(t){return e.getShape(t)})):n})).filter((function(e){return!e.isLocked})),u=Xa.getBoundsCenter(Xa.getCommonBounds(s.map((function(e){return qk.getBounds(e)}))));return s.forEach((function(e){var t=qk.getRotatedShapeMutation(e,qk.getCenter(e),u,n);t&&(o[e.id]=qk.getBeforeShape(e,t),a[e.id]=t)})),{id:"rotate",before:{document:{pages:i({},r,{shapes:o}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:a}),pageStates:i({},r,{selectedIds:t})}}}}function mS(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=t.map((function(t){return e.getShape(t)})),s=a.map((function(e){return qk.getBounds(e)})),u=Xa.getCommonBounds(s),l=t.flatMap((function(t){var n=e.getShape(t);return n.children?n.children:n.id})).filter((function(t){return!e.getShape(t).isLocked})),c=qk.mutateShapes(e.state,l,(function(e){var t=qk.getBounds(e);switch(n){case"horizontal":var r=Jy(Qy({},t),{minX:u.minX,maxX:u.maxX,width:u.width});return qk.getShapeUtil(e).transformSingle(e,r,{type:Za.TopLeft,scaleX:r.width/t.width,scaleY:1,initialShape:e,transformOrigin:[.5,.5]});case"vertical":var i=Jy(Qy({},t),{minY:u.minY,maxY:u.maxY,height:u.height});return qk.getShapeUtil(e).transformSingle(e,i,{type:Za.TopLeft,scaleX:1,scaleY:i.height/t.height,initialShape:e,transformOrigin:[.5,.5]})}}),r),d=c.before,f=c.after;return a.forEach((function(e){"group"===e.type&&(delete d[e.id],delete f[e.id])})),{id:"stretch",before:{document:{pages:i({},r,{shapes:d}),pageStates:i({},r,{selectedIds:o})}},after:{document:{pages:i({},r,{shapes:f}),pageStates:i({},r,{selectedIds:t})}}}}function yS(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=t.flatMap((function(t){return qk.getDocumentBranch(e.state,t,r)})).filter((function(t){return!e.getShape(t).isLocked})),s={},u={};return a.map((function(t){return e.getShape(t)})).filter((function(e){return!e.isLocked})).forEach((function(t){s[t.id]={style:Qy({},Object.fromEntries(Object.keys(n).map((function(e){return[e,t.style[e]]}))))},u[t.id]={style:n},"text"===t.type&&(s[t.id].point=t.point,u[t.id].point=wo.toFixed(wo.add(t.point,wo.sub(e.getShapeUtil(t).getCenter(t),e.getShapeUtil(t).getCenter(Jy(Qy({},t),{style:Qy(Qy({},t.style),n)}))))))})),{id:"style",before:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:o})},appState:{currentStyle:Qy({},e.appState.currentStyle)}},after:{document:{pages:i({},r,{shapes:u}),pageStates:i({},r,{selectedIds:t})},appState:{currentStyle:n}}}}function bS(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=Object.fromEntries(t.map((function(t){var r;return[t,{decorations:i({},n,null==(r=e.getShape(t).decorations)?void 0:r[n])}]}))),s=Object.fromEntries(t.filter((function(t){return!e.getShape(t).isLocked})).map((function(t){var r;return[t,{decorations:i({},n,(null==(r=e.getShape(t).decorations)?void 0:r[n])?void 0:"arrow")}]})));return{id:"toggle_decorations",before:{document:{pages:i({},r,{shapes:a}),pageStates:i({},r,{selectedIds:o})}},after:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:t})}}}}function wS(e,t,n){var r=e.currentPageId,o=t.map((function(t){return e.getShape(t)})).filter((function(e){return"isLocked"===n||!e.isLocked})),a=o.every((function(e){return e[n]})),s={},u={};return o.forEach((function(e){s[e.id]=i({},n,e[n]),u[e.id]=i({},n,!a)})),{id:"toggle",before:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,{shapes:u}),pageStates:i({},r,{selectedIds:t})}}}}function kS(e,t,n){var r=e.currentPageId,o=e.selectedIds;e.rotationInfo.selectedIds=(0,c.Z)(o);var a={shapes:{},bindings:{}},s={shapes:{},bindings:{}},u=t.flatMap((function(t){var n=e.getShape(t);return n.children?n.children:n.id})).filter((function(t){return!e.getShape(t).isLocked})),l=qk.mutateShapes(e.state,u,(function(e){return{point:wo.toFixed(wo.add(e.point,n))}}),r);return a.shapes=l.before,s.shapes=l.after,qk.getBindings(e.state,r).filter((function(e){return t.includes(e.fromId)&&!t.includes(e.toId)})).forEach((function(t){a.bindings[t.id]=t,s.bindings[t.id]=void 0;for(var n=function(){var n=o[r],u=e.getShape(n);if(!u.handles)return"continue";Object.values(u.handles).filter((function(e){return e.bindingId===t.id})).forEach((function(e){var r,o;a.shapes[n]=Jy(Qy({},a.shapes[n]),{handles:Jy(Qy({},null==(r=a.shapes[n])?void 0:r.handles),i({},e.id,{bindingId:t.id}))}),s.shapes[n]=Jy(Qy({},s.shapes[n]),{handles:Jy(Qy({},null==(o=s.shapes[n])?void 0:o.handles),i({},e.id,{bindingId:void 0}))})}))},r=0,o=[t.toId,t.fromId];r<o.length;r++)n()})),{id:"translate",before:{document:{pages:i({},r,a),pageStates:i({},r,{selectedIds:t})}},after:{document:{pages:i({},r,s),pageStates:i({},r,{selectedIds:t})}}}}function SS(e,t,n,r){var o=e.bindings,a={},s={},u={},l={},c=t,d=t.filter((function(e){return!n.find((function(t){return t.id===e}))}));return n.filter((function(e){return!e.isLocked})).forEach((function(t){var n=[],c=[];a[t.id]=t,s[t.id]=void 0,t.children.forEach((function(t){d.push(t);var i=e.getShape(t,r);n.push(i)}));var f=t.childIndex,h=(qk.getChildIndexAbove(e.state,t.id,r)-f)/n.length,p=n.sort((function(e,t){return e.childIndex-t.childIndex}));p.forEach((function(e,t){a[e.id]={parentId:e.parentId,childIndex:e.childIndex},s[e.id]={parentId:r,childIndex:f+h*t}})),o.filter((function(e){return e.toId===t.id||e.fromId===t.id})).forEach((function(t){for(var n=function(){var n=d[o];if(void 0===s[n]){u[t.id]=t,l[t.id]=void 0;var f=e.getShape(n,r);f.handles&&Object.values(f.handles).filter((function(e){return e.bindingId===t.id})).forEach((function(e){var r,o;a[n]=Jy(Qy({},a[n]),{handles:Jy(Qy({},null==(r=a[n])?void 0:r.handles),i({},e.id,{bindingId:t.id}))}),c.includes(n)||(s[n]=Jy(Qy({},s[n]),{handles:Jy(Qy({},null==(o=s[n])?void 0:o.handles),i({},e.id,{bindingId:void 0}))}))}))}},o=0,d=[t.toId,t.fromId];o<d.length;o++)n()}))})),{id:"ungroup",before:{document:{pages:i({},r,{shapes:a,bindings:u}),pageStates:i({},r,{selectedIds:c})}},after:{document:{pages:i({},r,{shapes:s,bindings:u}),pageStates:i({},r,{selectedIds:d})}}}}function CS(e,t,n){var r=t.map((function(e){return e.id})),o=qk.mutateShapes(e.state,r.filter((function(t){return!e.getShape(t,n).isLocked})),(function(e,n){return t[n]}),n);return{id:"update",before:{document:{pages:i({},n,{shapes:o.before})}},after:{document:{pages:i({},n,{shapes:o.after})}}}}function _S(e,t,n){var r=e.currentPageId,o=e.selectedIds,a=t.map((function(t){return e.getShape(t)})).filter((function(e){return!!n.isLocked||!e.isLocked})),s={},u={},l=Object.keys(n);return a.forEach((function(e){s[e.id]=Object.fromEntries(l.map((function(t){return[t,e[t]]}))),u[e.id]=n})),{id:"set_props",before:{document:{pages:i({},r,{shapes:s}),pageStates:i({},r,{selectedIds:o})}},after:{document:{pages:i({},r,{shapes:u}),pageStates:i({},r,{selectedIds:o})}}}}var ES=k((function e(t){S(this,e),this.app=t})),xS=function(e){f(n,e);var t=g(n);function n(e,r,o){var a,s,u,l,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];S(this,n),a=t.call(this,e),tb(d(a),"type","arrow"),tb(d(a),"performanceMode"),tb(d(a),"status","translatingHandle"),tb(d(a),"newStartBindingId",Xa.uniqueId()),tb(d(a),"draggedBindingId",Xa.uniqueId()),tb(d(a),"didBind",!1),tb(d(a),"initialShape"),tb(d(a),"handleId"),tb(d(a),"bindableShapeIds"),tb(d(a),"initialBinding"),tb(d(a),"startBindingShapeId"),tb(d(a),"isCreate"),tb(d(a),"start",(function(){})),tb(d(a),"update",(function(){var e,t,n,r=d(a).initialShape,o=a.app,s=o.currentPoint,u=o.shiftKey,l=o.altKey,c=o.metaKey,f=o.currentGrid,h=o.settings.showGrid,p=a.app.getShape(r.id);if(!p.isLocked){var v=r.handles,g=a.handleId;if(v[g].canBind){var m=wo.sub(s,wo.add(v[g].point,r.point));if(u){var y=l?wo.med(v.start.point,v.end.point):v["start"===g?"end":"start"].point,b=v[g].point,w=wo.add(b,m),k=wo.angle(y,w),S=wo.rotWith(w,y,Xa.snapAngleToSegments(k,24)-k);m=wo.add(m,wo.sub(S,w))}var _=wo.add(v[g].point,m),E=i({},g,Jy(Qy({},v[g]),{point:h?wo.snap(_,f):wo.toFixed(_),bindingId:void 0}));if(l){var x="start"===g?"end":"start",I=wo.sub(v[x].point,m);E[x]=Jy(Qy({},v[x]),{point:h?wo.snap(I,f):wo.toFixed(I),bindingId:void 0})}var P=Xk.arrow,M=null==(e=P.onHandleChange)?void 0:e.call(P,r,E);if(M){var T,O={shape:Xa.deepMerge(p,M),bindings:{}},R=O.shape.handles[a.handleId],D=O.shape.handles["start"===a.handleId?"end":"start"];if(a.startBindingShapeId){var A,L=a.app.page.shapes[a.startBindingShapeId],B=qk.getShapeUtil(L),j=B.getCenter(L),N=O.shape.handles.start,F=O.shape.handles.end,z=wo.add(N.point,O.shape.point);wo.isEqual(z,j)&&z[1]++;var H=j,U=B.hitTestPoint(L,s),V=wo.uni(wo.sub(z,H)),K=void 0!==a.app.getBinding(a.newStartBindingId);c||B.hitTestPoint(L,wo.add(O.shape.point,F.point))||(A=a.findBindingPoint(p,L,"start",a.newStartBindingId,j,H,V,U)),A&&!K?(a.didBind=!0,O.bindings[a.newStartBindingId]=A,O.shape=Xa.deepMerge(O.shape,{handles:{start:{bindingId:A.id}}})):!A&&K&&(a.didBind=!1,O.bindings[a.newStartBindingId]=void 0,O.shape=Xa.deepMerge(r,{handles:{start:{bindingId:void 0}}}))}if(!c){var Z,W=wo.add(D.point,O.shape.point),Y=wo.add(R.point,O.shape.point),X=wo.uni(wo.sub(Y,W)),$=wo.add(O.shape.point,O.shape.handles.start.point),G=wo.add(O.shape.point,O.shape.handles.end.point),q=a.bindableShapeIds.map((function(e){return a.app.page.shapes[e]})).sort((function(e,t){return t.childIndex-e.childIndex})).filter((function(e){var t=qk.getShapeUtil(e);return![$,G].every((function(n){return t.hitTestPoint(e,n)}))})),Q=C(q);try{for(Q.s();!(Z=Q.n()).done;){var J=Z.value;if(T=a.findBindingPoint(p,J,a.handleId,a.draggedBindingId,Y,W,X,l))break}}catch(dR){Q.e(dR)}finally{Q.f()}}if(T)a.didBind=!0,O.bindings[a.draggedBindingId]=T,O.shape=Xa.deepMerge(O.shape,{handles:i({},a.handleId,{bindingId:a.draggedBindingId})});else{a.didBind=a.didBind||!1;var ee=p.handles[a.handleId].bindingId;void 0!==ee&&(O.bindings[ee]=void 0,O.shape=Xa.deepMerge(O.shape,{handles:i({},a.handleId,{bindingId:void 0})}))}var te=null==(n=(t=qk.getShapeUtil(O.shape)).onHandleChange)?void 0:n.call(t,O.shape,O.shape.handles);return{document:{pages:i({},a.app.currentPageId,{shapes:i({},p.id,Qy(Qy({},O.shape),null!=te?te:{})),bindings:O.bindings}),pageStates:i({},a.app.currentPageId,{bindingId:O.shape.handles[g].bindingId})}}}}}})),tb(d(a),"cancel",(function(){var e=d(a),t=e.initialShape,n=e.initialBinding,r=e.newStartBindingId,o=e.draggedBindingId,s=qk.onSessionComplete(a.app.page.shapes[t.id]),u=a.isCreate||wo.dist(s.handles.start.point,s.handles.end.point)<4,l={};return l[o]=void 0,n&&(l[n.id]=u?void 0:n),r&&(l[r]=void 0),{document:{pages:i({},a.app.currentPageId,{shapes:i({},t.id,u?void 0:t),bindings:l}),pageStates:i({},a.app.currentPageId,{selectedIds:u?[]:[t.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}}})),tb(d(a),"complete",(function(){var e=d(a),t=e.initialShape,n=e.initialBinding,r=e.newStartBindingId,o=e.startBindingShapeId,s=e.handleId,u=qk.onSessionComplete(a.app.page.shapes[t.id]),l=u.handles[s].bindingId,c=wo.dist(u.handles.start.point,u.handles.end.point);if(!l&&!n&&c<4)return a.cancel();var f={},h={};return n&&(f[n.id]=a.isCreate?void 0:n,h[n.id]=void 0),l&&(f[l]=void 0,h[l]=a.app.page.bindings[l]),o&&(f[r]=void 0,h[r]=a.app.page.bindings[r]),{id:"arrow",before:{document:{pages:i({},a.app.currentPageId,{shapes:i({},t.id,a.isCreate?void 0:t),bindings:f}),pageStates:i({},a.app.currentPageId,{selectedIds:a.isCreate?[]:[t.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}},after:{document:{pages:i({},a.app.currentPageId,{shapes:i({},t.id,u),bindings:h}),pageStates:i({},a.app.currentPageId,{selectedIds:[t.id],bindingId:void 0,hoveredId:void 0,editingId:void 0})}}}})),tb(d(a),"findBindingPoint",(function(e,t,n,r,i,o,a,s){var u=qk.getShapeUtil(t.type).getBindingPoint(t,e,i,o,a,s);if(u)return{id:r,type:"arrow",fromId:e.id,toId:t.id,handleId:n,point:wo.toFixed(u.point),distance:u.distance}})),a.isCreate=c;var f=e.state.appState.currentPageId,h=e.state.document.pages[f];a.handleId=o,a.initialShape=$k(h.shapes[r]),a.bindableShapeIds=qk.getBindableShapeIds(e.state).filter((function(e){return!(e===a.initialShape.id||e===a.initialShape.parentId)}));var p=null==(s=a.initialShape.handles["start"===o?"end":"start"])?void 0:s.bindingId;if(p){var v=null==(u=h.bindings[p])?void 0:u.toId;v&&(a.bindableShapeIds=a.bindableShapeIds.filter((function(e){return e!==v})))}var g=a.app.originPoint;if(a.isCreate)a.startBindingShapeId=null==(l=a.bindableShapeIds.map((function(e){return h.shapes[e]})).filter((function(e){return Xa.pointInBounds(g,qk.getShapeUtil(e).getBounds(e))})).sort((function(e,t){return t.childIndex-e.childIndex}))[0])?void 0:l.id,a.startBindingShapeId&&a.bindableShapeIds.splice(a.bindableShapeIds.indexOf(a.startBindingShapeId),1);else{var m=a.initialShape.handles[a.handleId].bindingId;m?a.initialBinding=h.bindings[m]:a.initialShape.handles[a.handleId].bindingId=void 0}return a}return k(n)}(ES),IS=function(e){f(n,e);var t=g(n);function n(e){var r;S(this,n),r=t.call(this,e),tb(d(r),"type","brush"),tb(d(r),"performanceMode"),tb(d(r),"status","brushing"),tb(d(r),"initialSelectedIds"),tb(d(r),"shapesToTest"),tb(d(r),"start",(function(){})),tb(d(r),"update",(function(){var e=d(r),t=e.initialSelectedIds,n=e.shapesToTest,o=e.app,a=o.metaKey,s=o.settings,u=o.originPoint,l=o.currentPoint,c=Xa.getBoundsFromPoints([u,l]),f=s.isCadSelectMode?!a&&u[0]<l[0]:a,h=new Set,p=new Set(t);n.forEach((function(e){var t=e.id,n=e.selectId,i=r.app.getShape(t);if(!h.has(n)){var o=r.app.getShapeUtil(i);(f?Xa.boundsContain(c,o.getBounds(i)):o.hitTestBounds(i,c))?(h.add(n),p.has(n)||p.add(n)):p.has(n)&&p.delete(n)}}));var v=r.app.selectedIds,g=p.size!==v.length||v.some((function(e){return!p.has(e)})),m=g?Array.from(p.values()):v;return{appState:{selectByContain:f},document:{pageStates:i({},r.app.currentPageId,{brush:c,selectedIds:m})}}})),tb(d(r),"cancel",(function(){return{appState:{selectByContain:!1},document:{pageStates:i({},r.app.currentPageId,{brush:null,selectedIds:Array.from(r.initialSelectedIds.values())})}}})),tb(d(r),"complete",(function(){return{appState:{selectByContain:!1},document:{pageStates:i({},r.app.currentPageId,{brush:null,selectedIds:(0,c.Z)(r.app.selectedIds)})}}}));var o=e.currentPageId;return r.initialSelectedIds=new Set(r.app.selectedIds),r.shapesToTest=r.app.shapes.filter((function(e){return!(e.isLocked||e.isHidden||e.parentId!==o||r.initialSelectedIds.has(e.id)||r.initialSelectedIds.has(e.parentId))})).map((function(e){return{id:e.id,bounds:r.app.getShapeUtil(e).getBounds(e),selectId:e.id}})),r.update(),r}return k(n)}(ES),PS=function(e){f(n,e);var t=g(n);function n(e,r){var o,a;S(this,n),o=t.call(this,e),tb(d(o),"type","draw"),tb(d(o),"performanceMode"),tb(d(o),"status","creating"),tb(d(o),"topLeft"),tb(d(o),"points"),tb(d(o),"initialShape"),tb(d(o),"lastAdjustedPoint"),tb(d(o),"shiftedPoints",[]),tb(d(o),"shapeId"),tb(d(o),"isLocked"),tb(d(o),"isExtending"),tb(d(o),"lockedDirection"),tb(d(o),"start",(function(){var e,t=o.app.originPoint,n=[0,0,null!=(e=t[2])?e:.5];o.points.push(n);var r=[Math.min(o.topLeft[0],t[0]),Math.min(o.topLeft[1],t[1])],a=wo.sub(r,t);return o.topLeft=r,o.shiftedPoints=o.points.map((function(e){return wo.toFixed(wo.sub(e,a)).concat(e[2])})),{document:{pages:i({},o.app.currentPageId,{shapes:i({},o.shapeId,{point:o.topLeft,points:o.shiftedPoints})}),pageStates:i({},o.app.currentPageId,{selectedIds:[o.shapeId]})}}})),tb(d(o),"update",(function(){var e=d(o).shapeId,t=o.app,n=t.currentPoint,r=t.originPoint,a=t.shiftKey;if(!o.lockedDirection&&o.points.length>1){var s=Xa.getBoundsFromPoints(o.points);(s.width>8||s.height>8)&&(o.lockedDirection=s.width>s.height?"horizontal":"vertical")}if(a){if(!o.isLocked&&o.points.length>2){if(!o.lockedDirection){var u=Xa.getBoundsFromPoints(o.points);o.lockedDirection=u.width>u.height?"horizontal":"vertical"}o.isLocked=!0;var l=(0,c.Z)(o.lastAdjustedPoint);"vertical"===o.lockedDirection?l[0]=0:l[1]=0,o.points.push(l.concat(n[2]))}}else o.isLocked&&(o.isLocked=!1);o.isLocked&&("vertical"===o.lockedDirection?n[0]=r[0]:n[1]=r[1]);var f=o.addPoint(n);if(f)return{document:{pages:i({},o.app.currentPageId,{shapes:i({},e,f)}),pageStates:i({},o.app.currentPageId,{selectedIds:[e]})}}})),tb(d(o),"cancel",(function(){var e=d(o).shapeId,t=o.app.currentPageId;return{document:{pages:i({},t,{shapes:i({},e,o.isExtending?o.initialShape:void 0)}),pageStates:i({},t,{selectedIds:[]})}}})),tb(d(o),"complete",(function(){var e=d(o).shapeId,t=o.app.currentPageId,n=o.app.getShape(e);return{id:"create_draw",before:{document:{pages:i({},t,{shapes:i({},e,o.isExtending?o.initialShape:void 0)}),pageStates:i({},t,{selectedIds:[]})}},after:{document:{pages:i({},t,{shapes:i({},e,Jy(Qy({},n),{point:wo.toFixed(n.point),points:n.points.map((function(e){return wo.toFixed(e)})),isComplete:!0}))}),pageStates:i({},o.app.currentPageId,{selectedIds:[]})}}}})),tb(d(o),"addPoint",(function(e){var t=o.app.originPoint,n=wo.toFixed(wo.sub(e,t)).concat(e[2]);if(!wo.isEqual(o.lastAdjustedPoint,n)){o.points.push(n),o.lastAdjustedPoint=n;var r,i=(0,c.Z)(o.topLeft),a=[Math.min(o.topLeft[0],e[0]),Math.min(o.topLeft[1],e[1])],s=wo.sub(a,t);return i[0]!==a[0]||i[1]!==a[1]?(o.topLeft=a,r=o.points.map((function(e){return wo.toFixed(wo.sub(e,s)).concat(e[2])}))):r=[].concat((0,c.Z)(o.shiftedPoints),[wo.sub(n,s).concat(n[2])]),o.shiftedPoints=r,{point:o.topLeft,points:r}}}));var s=o.app.originPoint;o.shapeId=r,o.initialShape=o.app.getShape(r),o.topLeft=(0,c.Z)(o.initialShape.point);var u=[0,0,null!=(a=s[2])?a:.5],l=wo.sub(s,o.topLeft),f=o.initialShape.points.map((function(e){return wo.sub(e,l).concat(e[2])}));o.isExtending=f.length>0;var h=[];if(o.isExtending){var p=f[f.length-1];h.push(p,p);for(var v=Math.ceil(wo.dist(p,u)/16),g=0;g<v;g++){var m=g/(v-1);h.push(wo.lrp(p,u,m).concat(p[2]))}}else h.push(u);return o.points=[].concat((0,c.Z)(f),h),o.shiftedPoints=o.points.map((function(e){return wo.add(e,l).concat(e[2])})),o.lastAdjustedPoint=o.points[o.points.length-1],o}return k(n)}(ES),MS=function(e){f(n,e);var t=g(n);function n(e,r,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move_handle";S(this,n),a=t.call(this,e),tb(d(a),"type","handle"),tb(d(a),"performanceMode"),tb(d(a),"status","translatingHandle"),tb(d(a),"commandId"),tb(d(a),"topLeft"),tb(d(a),"shiftKey",!1),tb(d(a),"initialShape"),tb(d(a),"handleId"),tb(d(a),"start",(function(){})),tb(d(a),"update",(function(){var e,t,n=d(a),r=n.initialShape,o=n.app,s=o.currentPageId,u=o.currentPoint,l=a.app.getShape(r.id);if(!l.isLocked){var c=l.handles,f=a.handleId,h=wo.sub(u,c[f].point),p=i({},f,Jy(Qy({},c[f]),{point:wo.sub(wo.add(c[f].point,h),l.point)})),v=null==(t=(e=qk.getShapeUtil(l)).onHandleChange)?void 0:t.call(e,l,p);if(v)return{document:{pages:i({},s,{shapes:i({},l.id,v)})}}}})),tb(d(a),"cancel",(function(){var e=d(a),t=e.initialShape;return{document:{pages:i({},e.app.currentPageId,{shapes:i({},t.id,t)})}}})),tb(d(a),"complete",(function(){var e=d(a),t=e.initialShape,n=e.app.currentPageId;return{id:a.commandId,before:{document:{pages:i({},n,{shapes:i({},t.id,t)})}},after:{document:{pages:i({},n,{shapes:i({},t.id,qk.onSessionComplete(a.app.getShape(a.initialShape.id)))})}}}}));var u=e.originPoint;return a.topLeft=(0,c.Z)(u),a.handleId=o,a.initialShape=a.app.getShape(r),a.commandId=s,a}return k(n)}(ES),TS=function(e){f(n,e);var t=g(n);function n(e){var r;S(this,n),r=t.call(this,e),tb(d(r),"type","rotate"),tb(d(r),"status","transforming"),tb(d(r),"performanceMode"),tb(d(r),"delta",[0,0]),tb(d(r),"commonBoundsCenter"),tb(d(r),"initialAngle"),tb(d(r),"initialShapes"),tb(d(r),"changes",{}),tb(d(r),"start",(function(){})),tb(d(r),"update",(function(){var e=d(r),t=e.commonBoundsCenter,n=e.initialShapes,o=e.app,a=o.currentPageId,s=o.currentPoint,u=o.shiftKey,l={},c=wo.angle(t,s)-r.initialAngle;return u&&(c=Xa.snapAngleToSegments(c,24)),n.forEach((function(e){var n=e.center,r=e.shape,i=r.rotation,o=void 0===i?0:i,a=0;u&&(a=Xa.snapAngleToSegments(o,24)-o);var s=qk.getRotatedShapeMutation(r,n,t,u?c+a:c);s&&(l[r.id]=s)})),r.changes=l,{document:{pages:i({},a,{shapes:l})}}})),tb(d(r),"cancel",(function(){var e=d(r),t=e.initialShapes,n=e.app.currentPageId,o={};return t.forEach((function(e){var t=e.shape;return o[t.id]=t})),{document:{pages:i({},n,{shapes:o})}}})),tb(d(r),"complete",(function(){var e=d(r),t=e.initialShapes,n=e.app.currentPageId,o={},a=r.changes;return t.forEach((function(e){var t=e.shape,n=t.id,r=t.point,i=t.rotation,a=t.handles;o[n]={point:r,rotation:i,handles:a}})),{id:"rotate",before:{document:{pages:i({},n,{shapes:o})}},after:{document:{pages:i({},n,{shapes:a})}}}}));var o=d(r).app,a=o.currentPageId,s=o.pageState,u=o.originPoint,l=qk.getSelectedBranchSnapshot(e.state,a).filter((function(e){return!e.isLocked}));if(0===l.length)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===s.selectedIds){if(void 0===e.rotationInfo.center)throw Error("We should have a center for rotation!");r.commonBoundsCenter=e.rotationInfo.center}else r.commonBoundsCenter=Xa.getBoundsCenter(Xa.getCommonBounds(l.map(qk.getBounds))),e.rotationInfo.selectedIds=s.selectedIds,e.rotationInfo.center=r.commonBoundsCenter;return r.initialShapes=l.filter((function(e){return void 0===e.children})).map((function(e){return{shape:e,center:r.app.getShapeUtil(e).getCenter(e)}})),r.initialAngle=wo.angle(r.commonBoundsCenter,u),r}return k(n)}(ES),OS=function(e){f(n,e);var t=g(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Za.BottomRight,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];S(this,n),(r=t.call(this,e)).transformType=o,r.isCreate=a,tb(d(r),"type","transform"),tb(d(r),"performanceMode"),tb(d(r),"status","transforming"),tb(d(r),"scaleX",1),tb(d(r),"scaleY",1),tb(d(r),"initialShapes"),tb(d(r),"initialShapeIds"),tb(d(r),"initialSelectedIds"),tb(d(r),"shapeBounds"),tb(d(r),"hasUnlockedShapes"),tb(d(r),"isAllAspectRatioLocked"),tb(d(r),"initialCommonBounds"),tb(d(r),"snapInfo",{state:"empty"}),tb(d(r),"prevPoint",[0,0]),tb(d(r),"speed",1),tb(d(r),"start",(function(){r.snapInfo={state:"ready",bounds:r.app.shapes.filter((function(e){return!r.initialShapeIds.includes(e.id)})).map((function(e){return Xa.getBoundsWithCenter(qk.getRotatedBounds(e))}))}})),tb(d(r),"update",(function(){var e=d(r),t=e.transformType,n=e.shapeBounds,o=e.initialCommonBounds,a=e.isAllAspectRatioLocked,s=e.app,u=s.currentPageId,l=s.pageState.camera,c=s.viewport,f=s.currentPoint,h=s.previousPoint,p=s.originPoint,v=s.shiftKey,g=s.altKey,m=s.metaKey,y=s.currentGrid,b=s.settings,w=b.isSnapping,k=b.showGrid,S={},C=g?wo.mul(wo.sub(f,p),2):wo.sub(f,p),_=Xa.getTransformedBoundingBox(o,t,C,0,v||a);g&&(_=Qy(Qy({},_),Xa.centerBounds(_,Xa.getBoundsCenter(o)))),k&&(_=Qy(Qy({},_),Xa.snapBoundsToGrid(_,y)));var E=wo.dist(f,h)-r.speed;r.speed=r.speed+E*(E>1?.5:.15);var x=[];if((w&&!m||!w&&m)&&r.speed*l.zoom<yb&&"ready"===r.snapInfo.state){var I=Xa.getSnapPoints(Xa.getBoundsWithCenter(_),r.snapInfo.bounds.filter((function(e){return Xa.boundsContain(c,e)||Xa.boundsCollide(c,e)})),5/l.zoom);I&&(x=I.snapLines,_=Xa.getTransformedBoundingBox(o,t,wo.sub(C,I.offset),0,v||a))}return r.scaleX=_.scaleX,r.scaleY=_.scaleY,n.forEach((function(e){var t=e.initialShape,n=e.initialShapeBounds,i=e.transformOrigin,a=Xa.getRelativeTransformedBoundingBox(_,o,n,r.scaleX<0,r.scaleY<0);k&&(a=Xa.snapBoundsToGrid(a,y));var s=qk.transform(r.app.getShape(t.id),a,{type:r.transformType,initialShape:t,scaleX:r.scaleX,scaleY:r.scaleY,transformOrigin:i});S[t.id]=s})),{appState:{snapLines:x},document:{pages:i({},u,{shapes:S})}}})),tb(d(r),"cancel",(function(){var e=d(r),t=e.shapeBounds,n=e.app.currentPageId,o={};return r.isCreate?t.forEach((function(e){return o[e.initialShape.id]=void 0})):t.forEach((function(e){return o[e.initialShape.id]=e.initialShape})),{appState:{snapLines:[]},document:{pages:i({},n,{shapes:o}),pageStates:i({},n,{selectedIds:r.isCreate?[]:t.map((function(e){return e.initialShape.id}))})}}})),tb(d(r),"complete",(function(){var e=d(r),t=e.isCreate,n=e.shapeBounds,o=e.hasUnlockedShapes,a=e.app.currentPageId;if(o){if(r.isCreate&&wo.dist(r.app.originPoint,r.app.currentPoint)<2)return r.cancel();var s,u,l={},c={};return t?(s=[],u=[],n.forEach((function(e){var t=e.initialShape;l[t.id]=void 0,c[t.id]=r.app.getShape(t.id)}))):(s=r.initialSelectedIds,u=r.initialSelectedIds,n.forEach((function(e){var t=e.initialShape;l[t.id]=t,c[t.id]=r.app.getShape(t.id)}))),{id:"transform",before:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:l}),pageStates:i({},a,{selectedIds:s,hoveredId:void 0,editingId:void 0})}},after:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:c}),pageStates:i({},a,{selectedIds:u,hoveredId:void 0,editingId:void 0})}}}}})),r.initialSelectedIds=(0,c.Z)(r.app.selectedIds),r.app.rotationInfo.selectedIds=(0,c.Z)(r.initialSelectedIds),r.initialShapes=qk.getSelectedBranchSnapshot(r.app.state,r.app.currentPageId).filter((function(e){return!e.isLocked})),r.initialShapeIds=r.initialShapes.map((function(e){return e.id})),r.hasUnlockedShapes=r.initialShapes.length>0,r.isAllAspectRatioLocked=r.initialShapes.every((function(e){return e.isAspectRatioLocked||qk.getShapeUtil(e).isAspectRatioLocked}));var s=Object.fromEntries(r.initialShapes.map((function(e){return[e.id,qk.getBounds(e)]}))),u=Object.values(s);r.initialCommonBounds=Xa.getCommonBounds(u);var l=Xa.getBoundsFromPoints(u.map(Xa.getBoundsCenter));return r.shapeBounds=r.initialShapes.map((function(e){var t=s[e.id],n=Xa.getBoundsCenter(t);return{initialShape:e,initialShapeBounds:t,transformOrigin:[(n[0]-l.minX)/l.width,(n[1]-l.minY)/l.height]}})),r}return k(n)}(ES),RS=function(e){f(n,e);var t=g(n);function n(e,r,o){var a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];S(this,n),a=t.call(this,e),tb(d(a),"type","transformSingle"),tb(d(a),"status","transforming"),tb(d(a),"performanceMode"),tb(d(a),"transformType"),tb(d(a),"scaleX",1),tb(d(a),"scaleY",1),tb(d(a),"isCreate"),tb(d(a),"initialShape"),tb(d(a),"initialShapeBounds"),tb(d(a),"initialCommonBounds"),tb(d(a),"snapInfo",{state:"empty"}),tb(d(a),"prevPoint",[0,0]),tb(d(a),"speed",1),tb(d(a),"start",(function(){a.snapInfo={state:"ready",bounds:a.app.shapes.filter((function(e){return e.id!==a.initialShape.id})).map((function(e){return Xa.getBoundsWithCenter(qk.getRotatedBounds(e))}))}})),tb(d(a),"update",(function(){var e=d(a),t=e.transformType,n=e.initialShape,r=e.initialShapeBounds,o=e.app,s=o.settings,u=s.isSnapping,l=s.showGrid,c=o.currentPageId,f=o.pageState.camera,h=o.viewport,p=o.currentPoint,v=o.previousPoint,g=o.originPoint,m=o.currentGrid,y=o.shiftKey,b=o.altKey,w=o.metaKey;if(!n.isLocked){var k={},S=b?wo.mul(wo.sub(p,g),2):wo.sub(p,g),C=a.app.getShape(n.id),_=qk.getShapeUtil(C),E=Xa.getTransformedBoundingBox(r,t,S,C.rotation,y||C.isAspectRatioLocked||_.isAspectRatioLocked);b&&(E=Qy(Qy({},E),Xa.centerBounds(E,Xa.getBoundsCenter(r)))),l&&(E=Qy(Qy({},E),Xa.snapBoundsToGrid(E,m)));var x=wo.dist(p,v)-a.speed;a.speed=a.speed+x*(x>1?.5:.15);var I=[];if((u&&!w||!u&&w)&&!n.rotation&&a.speed*f.zoom<yb&&"ready"===a.snapInfo.state){var P=Xa.getSnapPoints(Xa.getBoundsWithCenter(E),a.snapInfo.bounds.filter((function(e){return Xa.boundsContain(h,e)||Xa.boundsCollide(h,e)})),5/f.zoom);P&&(I=P.snapLines,E=Xa.getTransformedBoundingBox(r,t,wo.sub(S,P.offset),C.rotation,y||C.isAspectRatioLocked||_.isAspectRatioLocked))}var M=qk.getShapeUtil(C).transformSingle(C,E,{initialShape:n,type:a.transformType,scaleX:E.scaleX,scaleY:E.scaleY,transformOrigin:[.5,.5]});return M&&(k[C.id]=M),l&&M&&M.point&&(M.point=wo.snap(M.point,m)),{appState:{snapLines:I},document:{pages:i({},c,{shapes:k})}}}})),tb(d(a),"cancel",(function(){var e=d(a),t=e.initialShape,n=e.app.currentPageId,r={};return a.isCreate?r[t.id]=void 0:r[t.id]=t,{appState:{snapLines:[]},document:{pages:i({},n,{shapes:r}),pageStates:i({},n,{selectedIds:a.isCreate?[]:[t.id]})}}})),tb(d(a),"complete",(function(){var e=d(a),t=e.initialShape,n=e.app.currentPageId;if(!t.isLocked){if(a.isCreate&&wo.dist(a.app.originPoint,a.app.currentPoint)<2)return a.cancel();var r={},o={};return r[t.id]=a.isCreate?void 0:t,o[t.id]=qk.onSessionComplete(a.app.getShape(t.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:i({},n,{shapes:r}),pageStates:i({},n,{selectedIds:a.isCreate?[]:[t.id],editingId:void 0,hoveredId:void 0})}},after:{appState:{snapLines:[]},document:{pages:i({},n,{shapes:o}),pageStates:i({},n,{selectedIds:[t.id],editingId:void 0,hoveredId:void 0})}}}}})),a.isCreate=s,a.transformType=o;var u=a.app.getShape(r);return a.initialShape=u,a.initialShapeBounds=qk.getBounds(u),a.initialCommonBounds=qk.getRotatedBounds(u),a.app.rotationInfo.selectedIds=[u.id],a}return k(n)}(ES),DS=function(e){f(n,e);var t=g(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];S(this,n),r=t.call(this,e),tb(d(r),"performanceMode"),tb(d(r),"type","translate"),tb(d(r),"status","translating"),tb(d(r),"delta",[0,0]),tb(d(r),"prev",[0,0]),tb(d(r),"prevPoint",[0,0]),tb(d(r),"speed",1),tb(d(r),"cloneInfo",{state:"empty"}),tb(d(r),"snapInfo",{state:"empty"}),tb(d(r),"snapLines",[]),tb(d(r),"isCloning",!1),tb(d(r),"isCreate"),tb(d(r),"link"),tb(d(r),"initialIds"),tb(d(r),"hasUnlockedShapes"),tb(d(r),"initialSelectedIds"),tb(d(r),"initialCommonBounds"),tb(d(r),"initialShapes"),tb(d(r),"initialParentChildren"),tb(d(r),"bindingsToDelete"),tb(d(r),"start",(function(){var e=d(r),t=e.bindingsToDelete,n=e.initialIds,o=e.app,a=o.currentPageId,s=o.page,u=[],l=[];if(Object.values(s.shapes).forEach((function(e){var t=Xa.getBoundsWithCenter(qk.getRotatedBounds(e));u.push(t),n.has(e.id)||l.push(t)})),r.snapInfo={state:"ready",bounds:u,others:l},0!==t.length){var c={};return t.forEach((function(e){return c[e.id]=void 0})),{document:{pages:i({},a,{bindings:c})}}}})),tb(d(r),"update",(function(){var e=d(r),t=e.initialParentChildren,n=e.initialShapes,o=e.initialCommonBounds,a=e.bindingsToDelete,s=e.app,u=s.pageState.camera,l=s.settings,f=l.isSnapping,h=l.showGrid,p=s.currentPageId,v=s.viewport,g=s.selectedIds,m=s.currentPoint,y=s.previousPoint,b=s.originPoint,w=s.altKey,k=s.shiftKey,S=s.metaKey,_=s.currentGrid,E={},x={},I={},P=wo.sub(m,b),M=!1;r.isCreate||(w&&!r.isCloning?(r.isCloning=!0,M=!0):!w&&r.isCloning&&(r.isCloning=!1,M=!0)),k&&(Math.abs(P[0])<Math.abs(P[1])?P[0]=0:P[1]=0);var T=wo.dist(m,y)-r.speed;if(r.speed=r.speed+T*(T>1?.5:.15),r.snapLines=[],(f&&!S||!f&&S)&&r.speed*u.zoom<yb&&"ready"===r.snapInfo.state){var O=Xa.getSnapPoints(Xa.getBoundsWithCenter(h?Xa.snapBoundsToGrid(Xa.translateBounds(o,P),_):Xa.translateBounds(o,P)),(r.isCloning?r.snapInfo.bounds:r.snapInfo.others).filter((function(e){return Xa.boundsContain(v,e)||Xa.boundsCollide(v,e)})),5/u.zoom);O&&(r.snapLines=O.snapLines,P=wo.sub(P,O.offset))}if(r.prev=P,r.isCloning)if(M){if("empty"===r.cloneInfo.state&&r.createCloneInfo(),"empty"===r.cloneInfo.state)throw Error;var R=r.cloneInfo,D=R.clones,A=R.clonedBindings;r.isCloning=!0,a.forEach((function(e){return E[e.id]=e})),n.forEach((function(e){return x[e.id]={point:e.point}})),D.forEach((function(e){var n;if(x[e.id]=Qy({},e),e.parentId!==p&&!g.includes(e.parentId)){var r=(null==(n=x[e.parentId])?void 0:n.children)||t[e.parentId];r.includes(e.id)||(x[e.parentId]=Jy(Qy({},x[e.parentId]),{children:[].concat((0,c.Z)(r),[e.id])}))}}));var L,B=C(A);try{for(B.s();!(L=B.n()).done;){var j=L.value;E[j.id]=j}}catch(dR){B.e(dR)}finally{B.f()}I.selectedIds=D.map((function(e){return e.id})),D.forEach((function(e){x[e.id]=Jy(Qy({},e),{point:h?wo.snap(wo.toFixed(wo.add(e.point,P)),_):wo.toFixed(wo.add(e.point,P))})}))}else{if("empty"===r.cloneInfo.state)throw Error;r.cloneInfo.clones.forEach((function(e){x[e.id]={point:h?wo.snap(wo.toFixed(wo.add(e.point,P)),_):wo.toFixed(wo.add(e.point,P))}}))}else if(M){if("empty"===r.cloneInfo.state)throw Error;var N=r.cloneInfo,F=N.clones,z=N.clonedBindings;r.isCloning=!1,a.forEach((function(e){return E[e.id]=void 0})),F.forEach((function(e){e.parentId!==p&&(x[e.parentId]=Jy(Qy({},x[e.parentId]),{children:t[e.parentId]}))})),F.forEach((function(e){return x[e.id]=void 0})),n.forEach((function(e){x[e.id]={point:h?wo.snap(wo.toFixed(wo.add(e.point,P)),_):wo.toFixed(wo.add(e.point,P))}}));var H,U=C(z);try{for(U.s();!(H=U.n()).done;){var V=H.value;E[V.id]=void 0}}catch(dR){U.e(dR)}finally{U.f()}I.selectedIds=n.map((function(e){return e.id}))}else n.forEach((function(e){x[e.id]={point:h?wo.snap(wo.toFixed(wo.add(e.point,P)),_):wo.toFixed(wo.add(e.point,P))}}));return{appState:{snapLines:r.snapLines},document:{pages:i({},p,{shapes:x,bindings:E}),pageStates:i({},p,I)}}})),tb(d(r),"cancel",(function(){var e=d(r),t=e.initialShapes,n=e.initialSelectedIds,o=e.bindingsToDelete,a=e.app.currentPageId,s={},u={},l={editingId:void 0,hoveredId:void 0};if(o.forEach((function(e){return s[e.id]=e})),r.isCreate?(t.forEach((function(e){var t=e.id;return u[t]=void 0})),l.selectedIds=[]):(t.forEach((function(e){var t=e.id,n=e.point;return u[t]=Jy(Qy({},u[t]),{point:n})})),l.selectedIds=n),"ready"===r.cloneInfo.state){var c=r.cloneInfo,f=c.clones,h=c.clonedBindings;f.forEach((function(e){return u[e.id]=void 0})),h.forEach((function(e){return s[e.id]=void 0}))}return{appState:{snapLines:[]},document:{pages:i({},a,{shapes:u,bindings:s}),pageStates:i({},a,l)}}})),tb(d(r),"complete",(function(){var e=d(r),t=e.initialShapes,n=e.initialParentChildren,o=e.bindingsToDelete,a=e.app.currentPageId,s={},u={},l={},f={};if(r.isCloning){if("empty"===r.cloneInfo.state&&r.createCloneInfo(),"ready"!==r.cloneInfo.state)throw Error;var h=r.cloneInfo,p=h.clones,v=h.clonedBindings;p.forEach((function(e){u[e.id]=void 0,f[e.id]=r.app.getShape(e.id),e.parentId!==a&&(u[e.parentId]=Jy(Qy({},u[e.parentId]),{children:n[e.parentId]}),f[e.parentId]=Jy(Qy({},f[e.parentId]),{children:r.app.getShape(e.parentId).children}))})),v.forEach((function(e){s[e.id]=void 0,l[e.id]=r.app.getBinding(e.id)}))}else t.forEach((function(e){u[e.id]=r.isCreate?void 0:Jy(Qy({},u[e.id]),{point:e.point}),f[e.id]=Qy(Qy({},f[e.id]),r.isCreate?r.app.getShape(e.id):{point:r.app.getShape(e.id).point})}));return o.forEach((function(e){s[e.id]=e;for(var t=function(){var t=i[n],o=r.app.getShape(t);if(!o.handles)return"continue";Object.values(o.handles).filter((function(t){return t.bindingId===e.id})).forEach((function(n){u[t]=Jy(Qy({},u[t]),{handles:{}}),f[t]=Jy(Qy({},f[t]),{handles:{}}),u[t].handles[n.id]={bindingId:e.id},f[t].handles[n.id]={bindingId:void 0}}))},n=0,i=[e.toId,e.fromId];n<i.length;n++)t()})),{id:"translate",before:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:u,bindings:s}),pageStates:i({},a,{selectedIds:r.isCreate?[]:(0,c.Z)(r.initialSelectedIds)})}},after:{appState:{snapLines:[]},document:{pages:i({},a,{shapes:f,bindings:l}),pageStates:i({},a,{selectedIds:(0,c.Z)(r.app.selectedIds)})}}}})),tb(d(r),"createCloneInfo",(function(){var e=d(r),t=e.initialShapes,n=e.initialParentChildren,i=e.app,o=i.selectedIds,a=i.currentPageId,s=i.page,u={},l={},c=[],f=[];t.forEach((function(e){var t=Xa.uniqueId();n[t]=n[e.id],u[e.id]=t;var i=Jy(Qy({},Xa.deepClone(e)),{id:t,parentId:e.parentId,childIndex:qk.getChildIndexAbove(r.app.state,e.id,a)});if("video"===i.type){var o=document.getElementById(e.id+"_video");o&&(i.currentTime=(o.currentTime+16)%o.duration)}f.push(i)})),f.forEach((function(e){void 0!==e.children&&(e.children=e.children.map((function(e){return u[e]})))})),f.forEach((function(e){o.includes(e.parentId)&&(e.parentId=u[e.parentId])}));var h=new Set(Object.keys(u));Object.values(s.bindings).filter((function(e){return h.has(e.fromId)||h.has(e.toId)})).forEach((function(e){if(h.has(e.fromId)&&h.has(e.toId)){var t=Xa.uniqueId(),n=Jy(Qy({},Xa.deepClone(e)),{id:t,fromId:u[e.fromId]||e.fromId,toId:u[e.toId]||e.toId});l[e.id]=t,c.push(n)}})),f.forEach((function(e){if(e.handles&&e.handles)for(var t in e.handles){var n=e.handles[t];n.bindingId=n.bindingId?l[n.bindingId]:void 0}})),f.forEach((function(e){if(s.shapes[e.id])throw Error("uh oh, we didn't clone correctly")})),r.cloneInfo={state:"ready",clones:f,cloneMap:u,clonedBindings:c}})),r.isCreate=o,r.link=a;var s=r.app,u=s.currentPageId,l=s.selectedIds,f=s.page;r.initialSelectedIds=(0,c.Z)(l);var h=(a?qk.getLinkedShapeIds(r.app.state,u,a,!1):l).map((function(e){return r.app.getShape(e)})).filter((function(e){return!e.isLocked})),p=new Set(h.map((function(e){return e.id})));return r.hasUnlockedShapes=h.length>0,r.initialShapes=Array.from(new Set(h.filter((function(e){return!p.has(e.parentId)})).flatMap((function(e){return e.children?[e].concat((0,c.Z)(e.children.map((function(e){return r.app.getShape(e)})))):[e]}))).values()),r.initialIds=new Set(r.initialShapes.map((function(e){return e.id}))),r.bindingsToDelete=[],Object.values(f.bindings).filter((function(e){return r.initialIds.has(e.fromId)||r.initialIds.has(e.toId)})).forEach((function(e){r.initialIds.has(e.fromId)&&(r.initialIds.has(e.toId)||r.bindingsToDelete.push(e))})),r.initialParentChildren={},r.initialShapes.map((function(e){return e.parentId})).filter((function(e){return e!==f.id})).forEach((function(e){r.initialParentChildren[e]=r.app.getShape(e).children})),r.initialCommonBounds=Xa.getCommonBounds(r.initialShapes.map(qk.getRotatedBounds)),r.app.rotationInfo.selectedIds=(0,c.Z)(r.app.selectedIds),r}return k(n)}(ES),AS=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),r=t.call(this,e),tb(d(r),"type","draw"),tb(d(r),"performanceMode"),tb(d(r),"status","creating"),tb(d(r),"isLocked"),tb(d(r),"lockedDirection"),tb(d(r),"erasedShapes",new Set),tb(d(r),"erasedBindings",new Set),tb(d(r),"initialSelectedShapes"),tb(d(r),"erasableShapes"),tb(d(r),"prevPoint"),tb(d(r),"start",(function(){})),tb(d(r),"update",(function(){var e=r.app,t=e.page,n=e.shiftKey,o=e.originPoint,a=e.currentPoint;if(n){if(!r.isLocked&&wo.dist(o,a)>4){if(!r.lockedDirection){var s=wo.sub(a,o);r.lockedDirection=s[0]>s[1]?"horizontal":"vertical"}r.isLocked=!0}}else r.isLocked&&(r.isLocked=!1);r.isLocked&&("vertical"===r.lockedDirection?a[0]=o[0]:a[1]=o[1]);var u=wo.toFixed(wo.add(o,wo.sub(a,o))),l=new Set([]);r.erasableShapes.forEach((function(e){if(!r.erasedShapes.has(e)&&r.app.getShapeUtil(e).hitTestLineSegment(e,r.prevPoint,u)&&(r.erasedShapes.add(e),l.add(e.id),void 0!==e.children)){var t,n=C(e.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.erasedShapes.add(r.app.getShape(i)),l.add(i)}}catch(dR){n.e(dR)}finally{n.f()}}})),Object.values(t.bindings).forEach((function(e){for(var t=0,n=[e.toId,e.fromId];t<n.length;t++){var i=n[t];l.has(i)&&r.erasedBindings.add(e)}})),r.erasedShapes.forEach((function(e){r.app.getShape(e.id)||(r.erasedShapes.delete(e),r.erasableShapes.delete(e),l.delete(e.id))}));var c=Array.from(r.erasedShapes.values());return r.prevPoint=u,{document:{pages:i({},t.id,{shapes:Object.fromEntries(c.map((function(e){return[e.id,{isGhost:!0}]})))})}}})),tb(d(r),"cancel",(function(){var e=r.app.page;r.erasedShapes.forEach((function(e){r.app.getShape(e.id)||(r.erasedShapes.delete(e),r.erasableShapes.delete(e))}));var t=Array.from(r.erasedShapes.values());return{document:{pages:i({},e.id,{shapes:Object.fromEntries(t.map((function(e){return[e.id,{isGhost:!1}]})))}),pageStates:i({},e.id,{selectedIds:r.initialSelectedShapes.map((function(e){return e.id}))})}}})),tb(d(r),"complete",(function(){var e=r.app.page;r.erasedShapes.forEach((function(e){r.app.getShape(e.id)||(r.erasedShapes.delete(e),r.erasableShapes.delete(e))})),r.erasedBindings.forEach((function(e){r.app.getBinding(e.id)||r.erasedBindings.delete(e)}));var t=Array.from(r.erasedShapes.values()),n=Array.from(r.erasedBindings.values()),o=t.map((function(e){return e.id})),a=n.map((function(e){return e.id})),s={shapes:Object.fromEntries(t.map((function(e){return[e.id,e]}))),bindings:Object.fromEntries(n.map((function(e){return[e.id,e]})))},u={shapes:Object.fromEntries(t.map((function(e){return[e.id,void 0]}))),bindings:Object.fromEntries(n.map((function(e){return[e.id,void 0]})))};return r.app.shapes.forEach((function(e){e.handles&&!u.shapes[e.id]&&Object.values(e.handles).forEach((function(t){var n,r;t.bindingId&&a.includes(t.bindingId)&&(s.shapes[e.id]=Jy(Qy({},s.shapes[e.id]),{handles:Jy(Qy({},null==(n=s.shapes[e.id])?void 0:n.handles),i({},t.id,t))}),o.includes(e.id)||(u.shapes[e.id]=Jy(Qy({},u.shapes[e.id]),{handles:Jy(Qy({},null==(r=u.shapes[e.id])?void 0:r.handles),i({},t.id,Jy(Qy({},t),{bindingId:void 0})))})))}))})),{id:"erase",before:{document:{pages:i({},e.id,s),pageStates:i({},e.id,{selectedIds:r.initialSelectedShapes.filter((function(e){return!!r.app.getShape(e.id)})).map((function(e){return e.id}))})}},after:{document:{pages:i({},e.id,u),pageStates:i({},e.id,{selectedIds:r.initialSelectedShapes.filter((function(e){return!!r.app.getShape(e.id)})).filter((function(e){return!o.includes(e.id)})).map((function(e){return e.id}))})}}}})),r.prevPoint=(0,c.Z)(e.originPoint),r.initialSelectedShapes=r.app.selectedIds.map((function(e){return r.app.getShape(e)})),r.erasableShapes=new Set(r.app.shapes.filter((function(e){return!e.isLocked}))),r}return k(n)}(ES),LS=function(e){f(n,e);var t=g(n);function n(e,r){var o,a;return S(this,n),o=t.call(this,e),tb(d(o),"type","grid"),tb(d(o),"performanceMode"),tb(d(o),"status","translating"),tb(d(o),"shape"),tb(d(o),"bounds"),tb(d(o),"initialSelectedIds"),tb(d(o),"initialSiblings"),tb(d(o),"grid",{}),tb(d(o),"columns",1),tb(d(o),"rows",1),tb(d(o),"isCopying",!1),tb(d(o),"start",(function(){})),tb(d(o),"update",(function(){var e=o.app,t=e.currentPageId,n=e.altKey,r=e.shiftKey,a=e.currentPoint,s={},u=Xa.getBoundsCenter(o.bounds),l=wo.sub(a,u);r&&(Math.abs(l[0])<Math.abs(l[1])?l[0]=0:l[1]=0);var d=o.bounds.width+32,f=o.bounds.height+32,h=Math.ceil(l[0]/d),p=Math.ceil(l[1]/f),v=Math.min(h,0),g=Math.min(p,0),m=Math.max(h,1),y=Math.max(p,1),w=new Set,k=n;k!==o.isCopying&&(Object.values(o.grid).filter((function(e){return e!==o.shape.id})).forEach((function(e){return s[e]=void 0})),o.grid={"0_0":o.shape.id},o.isCopying=k);for(var S=v;S<m;S++)for(var C=g;C<y;C++){var _="".concat(S,"_").concat(C);if(w.add(_),!o.grid[_]&&(0!==S||0!==C)){var E=o.getClone(wo.add(o.shape.point,[S*d,C*f]),k);s[E.id]=E,o.grid[_]=E.id}}if(Object.entries(o.grid).forEach((function(e){var t=b(e,2),n=t[0],r=t[1];w.has(n)||(s[r]=void 0,delete o.grid[n])})),0!==Object.values(s).length)return o.initialSiblings&&(s[o.shape.parentId]={children:[].concat((0,c.Z)(o.initialSiblings),(0,c.Z)(Object.values(o.grid)))}),{document:{pages:i({},t,{shapes:s}),pageStates:i({},t,{})}}})),tb(d(o),"cancel",(function(){var e=o.app.currentPageId,t={};return Object.values(o.grid).forEach((function(e){t[e]=void 0})),t[o.shape.id]=Jy(Qy({},t[o.shape.id]),{point:o.shape.point}),o.initialSiblings&&(t[o.shape.parentId]={children:[].concat((0,c.Z)(o.initialSiblings),[o.shape.id])}),{document:{pages:i({},e,{shapes:t}),pageStates:i({},e,{selectedIds:[o.shape.id]})}}})),tb(d(o),"complete",(function(){var e=o.app.currentPageId,t={},n={},r=[];if(Object.values(o.grid).forEach((function(e){t[e]=void 0,n[e]=o.app.getShape(e),r.push(e)})),t[o.shape.id]=o.shape,o.initialSiblings&&(t[o.shape.parentId]={children:[].concat((0,c.Z)(o.initialSiblings),[o.shape.id])},n[o.shape.parentId]={children:[].concat((0,c.Z)(o.initialSiblings),(0,c.Z)(Object.values(o.grid)))}),1!==r.length)return{id:"grid",before:{document:{pages:i({},e,{shapes:t}),pageStates:i({},e,{selectedIds:[],hoveredId:void 0})}},after:{document:{pages:i({},e,{shapes:n}),pageStates:i({},e,{selectedIds:r,hoveredId:void 0})}}}})),tb(d(o),"getClone",(function(e,t){var n=Jy(Qy({},o.shape),{id:Xa.uniqueId(),point:e});return t||"sticky"===n.type&&(n.text=""),n})),o.shape=o.app.getShape(r),o.grid["0_0"]=o.shape.id,o.bounds=o.app.getShapeBounds(r),o.initialSelectedIds=(0,c.Z)(o.app.selectedIds),o.shape.parentId!==o.app.currentPageId&&(o.initialSiblings=null==(a=o.app.getShape(o.shape.parentId).children)?void 0:a.filter((function(e){return e!==o.shape.id}))),o}return k(n)}(ES),BS=(i(My={},"arrow",xS),i(My,"brush",IS),i(My,"draw",PS),i(My,"erase",AS),i(My,"handle",MS),i(My,"rotate",TS),i(My,"transform",OS),i(My,"transformSingle",RS),i(My,"translate",DS),i(My,"grid",LS),My),jS=function(e){return BS[e]},NS=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this)).app=e,tb(d(r),"type","select"),tb(d(r),"previous"),tb(d(r),"status","idle"),tb(d(r),"setStatus",(function(e){r.status=e,r.app.setStatus(r.status)})),tb(d(r),"onEnter",(function(){r.setStatus("idle")})),tb(d(r),"onExit",(function(){r.setStatus("idle")})),tb(d(r),"onCancel",(function(){"idle"===r.status?r.app.selectTool("select"):r.setStatus("idle"),r.app.cancelSession()})),tb(d(r),"getNextChildIndex",(function(){var e=r.app,t=e.shapes,n=e.appState.currentPageId;return 0===t.length?1:t.filter((function(e){return e.parentId===n})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1})),tb(d(r),"onPinchStart",(function(){r.app.cancelSession(),r.setStatus("pinching")})),tb(d(r),"onPinchEnd",(function(){Xa.isMobileSafari()&&r.app.undoSelect(),r.setStatus("idle")})),tb(d(r),"onPinch",(function(e,t){var n;"pinching"===r.status&&(isNaN(e.delta[0])||isNaN(e.delta[1])||(r.app.pinchZoom(e.point,e.delta,e.delta[2]),null==(n=r.onPointerMove)||n.call(d(r),e,t)))})),tb(d(r),"onKeyDown",(function(e){"Escape"!==e?"Meta"!==e&&"Control"!==e&&"Alt"!==e||r.app.updateSession():r.onCancel()})),tb(d(r),"onKeyUp",(function(e){"Meta"!==e&&"Control"!==e&&"Alt"!==e||r.app.updateSession()})),tb(d(r),"onPointerMove",(function(){"creating"===r.status&&r.app.updateSession()})),tb(d(r),"onPointerUp",(function(){"creating"===r.status&&(r.app.completeSession(),r.app.appState.isToolLocked||r.app.selectTool("select"));r.setStatus("idle")})),r}return k(n)}(ab),FS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","select"),tb(d(e),"pointedId"),tb(d(e),"selectedGroupId"),tb(d(e),"pointedHandleId"),tb(d(e),"pointedBoundsHandle"),tb(d(e),"pointedLinkHandleId"),tb(d(e),"onEnter",(function(){e.setStatus("idle")})),tb(d(e),"onExit",(function(){e.setStatus("idle")})),tb(d(e),"clonePaint",(function(t){if(0!==e.app.selectedIds.length){var n=e.app.selectedIds.map((function(t){return e.app.getShape(t)})),r=Xa.expandBounds(Xa.getCommonBounds(n.map(qk.getBounds)),16),i=Xa.getBoundsCenter(r),o=[r.width,r.height],a=[i[0]+o[0]*Math.floor((t[0]+o[0]/2-i[0])/o[0]),i[1]+o[1]*Math.floor((t[1]+o[1]/2-i[1])/o[1])],s=Xa.centerBounds(r,a);e.app.shapes.some((function(e){return qk.getShapeUtil(e).hitTestBounds(e,s)}))||e.app.duplicate(e.app.selectedIds,a)}})),tb(d(e),"getShapeClone",(function(t,n){var r=e.app.getShape(t),i=qk.getShapeUtil(r);if(i.canClone){var o=i.getBounds(r),a=i.getCenter(r),s={top:[o.minX,o.minY-(o.height+gb)],right:[o.maxX+gb,o.minY],bottom:[o.minX,o.maxY+gb],left:[o.minX-(o.width+gb),o.minY],topLeft:[o.minX-(o.width+gb),o.minY-(o.height+gb)],topRight:[o.maxX+gb,o.minY-(o.height+gb)],bottomLeft:[o.minX-(o.width+gb),o.maxY+gb],bottomRight:[o.maxX+gb,o.maxY+gb]}[n];if(0!==r.rotation){var u=ko.add(s,[o.width/2,o.height/2]),l=ko.rotWith(u,a,r.rotation||0);s=ko.sub(l,[o.width/2,o.height/2])}var c=Xa.uniqueId(),d=Jy(Qy({},r),{id:c,point:s});return"sticky"===d.type&&(d.text=""),d}})),tb(d(e),"onCancel",(function(){e.app.pageState.editingId?e.app.setEditingId():e.selectNone(),e.app.cancelSession(),e.setStatus("idle")})),tb(d(e),"onKeyDown",(function(t,n,r){switch(t){case"Escape":e.onCancel();break;case"Tab":if(!e.app.pageState.editingId&&"idle"===e.status&&1===e.app.selectedIds.length){var i=b(e.app.selectedIds,1)[0],o=e.getShapeClone(i,"right");o&&(e.app.createShapes(o),e.setStatus("idle"),"sticky"===o.type&&(e.app.select(o.id),e.app.setEditingId(o.id)))}break;case"Meta":case"Control":case"Alt":e.app.updateSession();break;case"Enter":var a=e.app.pageState;1!==a.selectedIds.length||a.editingId||(e.app.setEditingId(a.selectedIds[0]),r.preventDefault())}})),tb(d(e),"onKeyUp",(function(t,n){"clonePainting"!==e.status||n.altKey&&n.shiftKey?"Meta"!==t&&"Control"!==t&&"Alt"!==t||e.app.updateSession():e.setStatus("idle")})),tb(d(e),"onPointerMove",(function(t,n){var r=e.app,i=r.originPoint,o=r.currentPoint;switch(e.status){case"pointingBoundsHandle":if(!e.pointedBoundsHandle)throw Error("No pointed bounds handle");if(ko.dist(i,o)>3){if("rotate"===e.pointedBoundsHandle)e.setStatus("rotating"),e.app.startSession("rotate");else if("center"===e.pointedBoundsHandle||"left"===e.pointedBoundsHandle||"right"===e.pointedBoundsHandle)e.setStatus("translating"),e.app.startSession("translate",!1,e.pointedBoundsHandle);else{e.setStatus("transforming");var a=e.app.selectedIds.flatMap((function(t){return qk.getDocumentBranch(e.app.state,t,e.app.currentPageId)}));1===a.length?e.app.startSession("transformSingle",a[0],e.pointedBoundsHandle):e.app.startSession("transform",e.pointedBoundsHandle)}e.app.updateSession()}break;case"pointingCanvas":ko.dist(i,o)>3&&(e.app.startSession("brush"),e.setStatus("brushing"));break;case"pointingClone":ko.dist(i,o)>3&&(e.setStatus("translatingClone"),e.app.startSession("translate"),e.app.updateSession());break;case"pointingBounds":ko.dist(i,o)>3&&(e.setStatus("translating"),e.app.startSession("translate"),e.app.updateSession());break;case"pointingHandle":if(!e.pointedHandleId)throw Error("No pointed handle");if(ko.dist(i,o)>3){e.setStatus("translatingHandle");var s=e.app.getShape(e.app.selectedIds[0]);s&&("bend"===e.pointedHandleId?(e.app.startSession("handle",s.id,e.pointedHandleId),e.app.updateSession()):(e.app.startSession("arrow",s.id,e.pointedHandleId,!1),e.app.updateSession()))}break;case"clonePainting":e.clonePaint(o);break;default:if(e.app.session){e.app.updateSession();break}}})),tb(d(e),"onPointerDown",(function(t,n){if("canvas"===t.target&&"idle"===e.status){var r=e.app.currentPoint;if(t.spaceKey&&1===n.buttons)return;if("idle"===e.status&&t.altKey&&t.shiftKey)return e.setStatus("clonePainting"),void e.clonePaint(r);if(!t.shiftKey){if(e.app.onShapeBlur(),t.altKey&&e.app.selectedIds.length>0)return void e.app.duplicate(e.app.selectedIds,r);e.selectNone()}e.setStatus("pointingCanvas")}})),tb(d(e),"onPointerUp",(function(t){if("translatingClone"===e.status||"pointingClone"===e.status)return e.pointedId&&(e.app.completeSession(),e.app.setEditingId(e.pointedId)),e.setStatus("idle"),void(e.pointedId=void 0);if("pointingBounds"===e.status)if("bounds"===t.target)e.selectNone();else if(e.app.isSelected(t.target))t.shiftKey?e.pointedId!==t.target&&e.deselect(t.target):e.pointedId!==t.target&&e.app.selectedIds.length>1&&e.select(t.target);else if(e.pointedId===t.target){if(e.app.getShape(t.target).isLocked)return;t.shiftKey?e.pushSelect(t.target):e.select(t.target)}e.app.completeSession(),e.setStatus("idle"),e.pointedBoundsHandle=void 0,e.pointedHandleId=void 0,e.pointedId=void 0})),tb(d(e),"onDoubleClickCanvas",(function(){})),tb(d(e),"onPointShape",(function(t,n){if((!t.spaceKey||1!==n.buttons)&&!e.app.getShape(t.target).isLocked){var r=e.app.pageState,i=r.editingId,o=r.hoveredId;if(i&&t.target!==i&&e.app.onShapeBlur(),("idle"===e.status||"pointingBounds"===e.status)&&t.metaKey&&t.shiftKey&&o)return e.pointedId=o,void(e.app.isSelected(o)?e.deselect(o):(e.pushSelect(o),e.setStatus("pointingBounds")));if("pointingBounds"!==e.status){if("idle"===e.status){if(e.setStatus("pointingBounds"),t.metaKey)return t.shiftKey||e.selectNone(),e.app.startSession("brush"),void e.setStatus("brushing");var a,s=e.app.getShape(t.target).parentId;s===e.app.currentPageId?(a=t.target,e.selectedGroupId=void 0):s===e.selectedGroupId?a=t.target:(a=s,e.selectedGroupId=void 0),e.app.isSelected(a)||(e.pointedId=a,t.shiftKey?e.pushSelect(a):e.select(a))}}else{var u=e.app.getShape(t.target).parentId;e.pointedId=u===e.app.currentPageId?t.target:u}}})),tb(d(e),"onDoubleClickShape",(function(t){var n=e.app.getShape(t.target);n.isLocked||(!qk.getShapeUtil(n.type).canEdit||n.parentId!==e.app.currentPageId&&n.parentId!==e.selectedGroupId||e.app.setEditingId(t.target),n.parentId!==e.app.currentPageId&&(e.selectedGroupId=n.parentId)),e.app.select(t.target)})),tb(d(e),"onRightPointShape",(function(t){e.app.isSelected(t.target)||e.app.select(t.target)})),tb(d(e),"onHoverShape",(function(t){e.app.setHoveredId(t.target)})),tb(d(e),"onUnhoverShape",(function(t){var n=e.app.currentPageId;requestAnimationFrame((function(){n===e.app.currentPageId&&e.app.pageState.hoveredId===t.target&&e.app.setHoveredId(void 0)}))})),tb(d(e),"onPointBounds",(function(t){if(t.metaKey)return t.shiftKey||e.selectNone(),e.app.startSession("brush"),void e.setStatus("brushing");e.setStatus("pointingBounds")})),tb(d(e),"onRightPointBounds",(function(e,t){t.stopPropagation()})),tb(d(e),"onReleaseBounds",(function(){"translating"!==e.status&&"brushing"!==e.status||e.app.completeSession(),e.setStatus("idle")})),tb(d(e),"onPointBoundsHandle",(function(t){e.pointedBoundsHandle=t.target,e.setStatus("pointingBoundsHandle")})),tb(d(e),"onDoubleClickBoundsHandle",(function(t){switch(t.target){case"center":case"left":case"right":var n;(n=e.app).select.apply(n,(0,c.Z)(qk.getLinkedShapeIds(e.app.state,e.app.currentPageId,t.target,t.shiftKey)));break;default:if(1===e.app.selectedIds.length){e.app.resetBounds(e.app.selectedIds);var r=e.app.getShape(e.app.selectedIds[0]);"label"in r&&e.app.setEditingId(r.id)}}})),tb(d(e),"onReleaseBoundsHandle",(function(){e.setStatus("idle")})),tb(d(e),"onPointHandle",(function(t){e.pointedHandleId=t.target,e.setStatus("pointingHandle")})),tb(d(e),"onDoubleClickHandle",(function(t){if("bend"!==t.target)e.app.toggleDecoration(t.target);else{var n=e.app.selectedIds;if(1!==n.length)return;var r=e.app.getShape(n[0]);!qk.getShapeUtil(r.type).canEdit||r.parentId!==e.app.currentPageId&&r.parentId!==e.selectedGroupId||e.app.setEditingId(r.id)}})),tb(d(e),"onReleaseHandle",(function(){e.setStatus("idle")})),tb(d(e),"onShapeClone",(function(t){var n=e.app.selectedIds[0],r=e.getShapeClone(n,t.target);"left"===t.target||"right"===t.target||"top"===t.target||"bottom"===t.target?r&&(e.app.createShapes(r),e.pointedId=r.id,e.setStatus("pointingClone")):(e.setStatus("gridCloning"),e.app.startSession("grid",n))})),e}return k(n,[{key:"deselect",value:function(e){var t;(t=this.app).select.apply(t,(0,c.Z)(this.app.selectedIds.filter((function(t){return t!==e}))))}},{key:"select",value:function(e){this.app.select(e)}},{key:"pushSelect",value:function(e){var t,n=this.app.getShape(e);(t=this.app).select.apply(t,(0,c.Z)(this.app.selectedIds.filter((function(e){return e!==n.parentId}))).concat([e]))}},{key:"selectNone",value:function(){this.app.selectNone()}}]),n}(NS),zS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","erase"),tb(d(e),"status","idle"),tb(d(e),"onPointerDown",(function(){"idle"===e.status&&e.setStatus("pointing")})),tb(d(e),"onPointerMove",(function(t){switch(e.status){case"pointing":ko.dist(t.origin,t.point)>3&&(e.app.startSession("erase"),e.app.updateSession(),e.setStatus("erasing"));break;case"erasing":e.app.updateSession()}})),tb(d(e),"onPointerUp",(function(){switch(e.status){case"pointing":var t=e.app.shapes.filter((function(e){return!e.isLocked})).filter((function(t){return e.app.getShapeUtil(t).hitTestPoint(t,e.app.currentPoint)})).flatMap((function(e){return e.children?[e.id].concat((0,c.Z)(e.children)):e.id}));e.app.delete(t);break;case"erasing":e.app.completeSession()}e.setStatus("idle")})),tb(d(e),"onCancel",(function(){"idle"===e.status?e.previous?e.app.selectTool(e.previous):e.app.selectTool("select"):e.setStatus("idle"),e.app.cancelSession()})),e}return k(n)}(NS),HS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","text"),tb(d(e),"stopEditingShape",(function(){e.setStatus("idle"),e.app.appState.isToolLocked||e.app.selectTool("select")})),tb(d(e),"onKeyUp",(function(){})),tb(d(e),"onKeyDown",(function(){})),tb(d(e),"onPointerDown",(function(){if("creating"!==e.status){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid;return e.app.createTextShapeAtPoint(i?ko.snap(n,r):n),void e.setStatus("creating")}}else e.stopEditingShape()})),tb(d(e),"onPointerUp",(function(){})),tb(d(e),"onPointShape",(function(t){var n=e.app.getShape(t.target);"text"===n.type&&(e.setStatus("idle"),e.app.setEditingId(n.id))})),tb(d(e),"onShapeBlur",(function(){e.stopEditingShape()})),e}return k(n)}(NS),US=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","draw"),tb(d(e),"lastShapeId"),tb(d(e),"onEnter",(function(){e.lastShapeId=void 0})),tb(d(e),"onCancel",(function(){if("idle"===e.status)e.app.selectTool("select");else e.setStatus("idle");e.app.cancelSession()})),tb(d(e),"onPointerDown",(function(t){if("idle"===e.status){var n=e.app,r=n.currentPoint,i=n.appState,o=i.currentPageId,a=i.currentStyle,s=e.lastShapeId&&e.app.getShape(e.lastShapeId);if(t.shiftKey&&s)e.app.startSession("draw",s.id),e.setStatus("extending");else{var u=e.getNextChildIndex(),l=Xa.uniqueId(),c=Hk.create({id:l,parentId:o,childIndex:u,point:r,style:Qy({},a)});e.lastShapeId=l,e.app.patchCreate([c]),e.app.startSession("draw",l),e.setStatus("creating")}}})),tb(d(e),"onPointerMove",(function(){switch(e.status){case"extending":case"creating":e.app.updateSession()}})),tb(d(e),"onPointerUp",(function(){e.app.completeSession(),e.setStatus("idle")})),e}return k(n)}(NS),VS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","ellipse"),tb(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,u=e.getNextChildIndex(),l=Xa.uniqueId(),c=zk.create({id:l,parentId:a,childIndex:u,point:i?ko.snap(n,r):n,style:Qy({},s)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,Za.BottomRight,!0),e.setStatus("creating")}})),e}return k(n)}(NS),KS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","rectangle"),tb(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,u=e.getNextChildIndex(),l=Xa.uniqueId(),c=Nk.create({id:l,parentId:a,childIndex:u,point:i?ko.snap(n,r):n,style:Qy({},s)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,Za.BottomRight,!0),e.setStatus("creating")}})),e}return k(n)}(NS),ZS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","triangle"),tb(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,u=e.getNextChildIndex(),l=Xa.uniqueId(),c=Fk.create({id:l,parentId:a,childIndex:u,point:i?ko.snap(n,r):n,style:Qy({},s)});e.app.patchCreate([c]),e.app.startSession("transformSingle",c.id,Za.BottomRight,!0),e.setStatus("creating")}})),e}return k(n)}(NS),WS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","line"),tb(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,u=e.getNextChildIndex(),l=Xa.uniqueId(),c=Uk.create({id:l,parentId:a,childIndex:u,point:i?ko.snap(n,r):n,decorations:{start:void 0,end:void 0},style:Qy({},s)});e.app.patchCreate([c]),e.app.startSession("arrow",c.id,"end",!0),e.setStatus("creating")}})),e}return k(n)}(NS),YS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","arrow"),tb(d(e),"onPointerDown",(function(){if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,u=e.getNextChildIndex(),l=Xa.uniqueId(),c=Uk.create({id:l,parentId:a,childIndex:u,point:i?ko.snap(n,r):n,style:Qy({},s)});e.app.patchCreate([c]),e.app.startSession("arrow",c.id,"end",!0),e.setStatus("creating")}})),e}return k(n)}(NS),XS=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),e=t.apply(this,arguments),tb(d(e),"type","sticky"),tb(d(e),"shapeId"),tb(d(e),"onPointerDown",(function(){if("creating"===e.status)return e.setStatus("idle"),void(e.app.appState.isToolLocked||e.app.selectTool("select"));if("idle"===e.status){var t=e.app,n=t.currentPoint,r=t.currentGrid,i=t.settings.showGrid,o=t.appState,a=o.currentPageId,s=o.currentStyle,u=e.getNextChildIndex(),l=Xa.uniqueId();e.shapeId=l;var c=Zk.create({id:l,parentId:a,childIndex:u,point:i?ko.snap(n,r):n,style:Qy({},s)}),d=Zk.getBounds(c);c.point=ko.sub(c.point,[d.width/2,d.height/2]),e.app.createShapes(c),e.app.startSession("translate"),e.setStatus("creating")}})),tb(d(e),"onPointerUp",(function(){"creating"===e.status&&(e.setStatus("idle"),e.app.completeSession(),e.app.selectTool("select"),e.app.setEditingId(e.shapeId))})),e}return k(n)}(NS),$S=function(){function t(n,r,i,o){var a=this;S(this,t),tb(this,"_idbId"),tb(this,"initialState"),tb(this,"store"),tb(this,"pointer",-1),tb(this,"_state"),tb(this,"_status","loading"),tb(this,"stack",[]),tb(this,"_snapshot"),tb(this,"useStore"),tb(this,"ready"),tb(this,"isPaused",!1),tb(this,"persist",(function(e){if("ready"===a._status)return a.onPersist&&a.onPersist(a._state,e),a._idbId?el(a._idbId,a._state).catch((function(e){return console.error(e)})):void 0})),tb(this,"applyPatch",(function(e,t){var n=a._state,r=Xa.deepMerge(a._state,e),i=a.cleanup(r,n,e,t);return a.onStateWillChange&&a.onStateWillChange(i,t),a._state=i,a.store.setState(a._state,!0),a.onStateDidChange&&a.onStateDidChange(a._state,t),a})),tb(this,"migrate",(function(e){return e})),tb(this,"cleanup",(function(e,t,n,r){return e})),tb(this,"onStateWillChange"),tb(this,"onStateDidChange"),tb(this,"patchState",(function(e,t){return a.applyPatch(e,t),a.onPatch&&a.onPatch(a._state,t),a})),tb(this,"replaceState",(function(e,t){var n=a.cleanup(e,a._state,e,t);return a.onStateWillChange&&a.onStateWillChange(n,"replace"),a._state=n,a.store.setState(a._state,!0),a.onStateDidChange&&a.onStateDidChange(a._state,"replace"),a})),tb(this,"setState",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.id;return a.pointer<a.stack.length-1&&(a.stack=a.stack.slice(0,a.pointer+1)),a.stack.push(Jy(Qy({},e),{id:t})),a.pointer=a.stack.length-1,a.applyPatch(e.after,t),a.onCommand&&a.onCommand(a._state,t),a.persist(t),a})),tb(this,"onReady"),tb(this,"onPatch"),tb(this,"onCommand"),tb(this,"onPersist"),tb(this,"onReplace"),tb(this,"onReset"),tb(this,"onResetHistory"),tb(this,"onUndo"),tb(this,"onRedo"),tb(this,"reset",(function(){return a.onStateWillChange&&a.onStateWillChange(a.initialState,"reset"),a._state=a.initialState,a.store.setState(a._state,!0),a.resetHistory(),a.persist("reset"),a.onStateDidChange&&a.onStateDidChange(a._state,"reset"),a.onReset&&a.onReset(a._state),a})),tb(this,"replaceHistory",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length-1;return a.stack=e,a.pointer=t,a.onReplace&&a.onReplace(a._state),a})),tb(this,"resetHistory",(function(){return a.stack=[],a.pointer=-1,a.onResetHistory&&a.onResetHistory(a._state),a})),tb(this,"undo",(function(){if(!a.isPaused){if(!a.canUndo)return a;var e=a.stack[a.pointer];a.pointer--,a.applyPatch(e.before,"undo"),a.persist("undo")}return a.onUndo&&a.onUndo(a._state),a})),tb(this,"redo",(function(){if(!a.isPaused){if(!a.canRedo)return a;a.pointer++;var e=a.stack[a.pointer];a.applyPatch(e.after,"redo"),a.persist("undo")}return a.onRedo&&a.onRedo(a._state),a})),tb(this,"setSnapshot",(function(){return a._snapshot=Qy({},a._state),a})),tb(this,"forceUpdate",(function(){a.store.setState(a._state,!0)})),this._idbId=r,this._state=$k(n),this._snapshot=$k(n),this.initialState=$k(n),this.store=Cl((function(){return a._state})),this.useStore=function(t){var n="function"===typeof t?_l(t):t,r=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,o=b((0,e.useReducer)((function(e){return e+1}),0),2)[1],a=n.getState(),s=(0,e.useRef)(a),u=(0,e.useRef)(r),l=(0,e.useRef)(i),c=(0,e.useRef)(!1),d=(0,e.useRef)();void 0===d.current&&(d.current=r(a));var f=!1;(s.current!==a||u.current!==r||l.current!==i||c.current)&&(t=r(a),f=!i(d.current,t)),El((function(){f&&(d.current=t),s.current=a,u.current=r,l.current=i,c.current=!1}));var h=(0,e.useRef)(a);El((function(){var e=function(){try{var e=n.getState(),t=u.current(e);l.current(d.current,t)||(s.current=e,d.current=t,o())}catch(r){c.current=!0,o()}},t=n.subscribe(e);return n.getState()!==h.current&&e(),t}),[]);var p=f?t:d.current;return(0,e.useDebugValue)(p),p};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[r,n];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},r}(this.store),this.ready=new Promise((function(e){var t="none";a._idbId?(t="restored",Ju(a._idbId).then((function(s){return nb(a,null,(0,m.Z)().mark((function a(){var u,l,c;return(0,m.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!s){a.next=17;break}if(u=s,!i){a.next=7;break}return a.next=5,Ju(r+"_version");case 5:(l=a.sent)&&l<i&&(u=o?o(s,n,l):n,t="migrated");case 7:return a.next=9,el(r+"_version",i||-1);case 9:c=this._state.appState.isEmptyCanvas,u=this.migrate(u),this._state=$k(u),this._snapshot=$k(u),this._state.appState.isEmptyCanvas=c,this.store.setState(this._state,!0),a.next=19;break;case 17:return a.next=19,el(r+"_version",i||-1);case 19:this._status="ready",e(t);case 21:case"end":return a.stop()}}),a,this)})))})).catch((function(e){return console.error(e)}))):(a._status="ready",e(t))})).then((function(e){return a.onReady&&a.onReady(e),e}))}return k(t,[{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused=!1}},{key:"canUndo",get:function(){return this.pointer>-1}},{key:"canRedo",get:function(){return this.pointer<this.stack.length-1}},{key:"state",get:function(){return this._state}},{key:"status",get:function(){return this._status}},{key:"snapshot",get:function(){return this._snapshot}}]),t}(),GS=Xa.uniqueId(),qS=function(e){f(n,e);var t=g(n);function n(e){var r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(this,n),o=t.call(this,n.defaultState,e,n.version,(function(e,t,r){return Jy(Qy({},t),{document:fb(Jy(Qy(Qy({},t.document),e.document),{version:r}),n.version)})})),tb(d(o),"callbacks",{}),tb(d(o),"tools",(i(r={select:new FS(d(o)),erase:new zS(d(o))},"text",new HS(d(o))),i(r,"draw",new US(d(o))),i(r,"ellipse",new VS(d(o))),i(r,"rectangle",new KS(d(o))),i(r,"triangle",new ZS(d(o))),i(r,"line",new WS(d(o))),i(r,"arrow",new YS(d(o))),i(r,"sticky",new XS(d(o))),r)),tb(d(o),"currentTool",o.tools.select),tb(d(o),"session"),tb(d(o),"readOnly",!1),tb(d(o),"isDirty",!1),tb(d(o),"isCreating",!1),tb(d(o),"originPoint",[0,0]),tb(d(o),"currentPoint",[0,0]),tb(d(o),"previousPoint",[0,0]),tb(d(o),"shiftKey",!1),tb(d(o),"altKey",!1),tb(d(o),"metaKey",!1),tb(d(o),"ctrlKey",!1),tb(d(o),"spaceKey",!1),tb(d(o),"isPointing",!1),tb(d(o),"isForcePanning",!1),tb(d(o),"editingStartTime",-1),tb(d(o),"fileSystemHandle",null),tb(d(o),"viewport",Xa.getBoundsFromPoints([[0,0],[100,100]])),tb(d(o),"rendererBounds",Xa.getBoundsFromPoints([[0,0],[100,100]])),tb(d(o),"selectHistory",{stack:[[]],pointer:0}),tb(d(o),"clipboard"),tb(d(o),"rotationInfo",{selectedIds:[],center:[0,0]}),tb(d(o),"pasteInfo",{center:[0,0],offset:[0,0]}),tb(d(o),"migrate",(function(e){return Jy(Qy({},e),{document:fb(e.document,n.version)})})),tb(d(o),"onReady",(function(){var e,t;o.loadDocument(o.document),Pb().then((function(e){o.fileSystemHandle=e}));try{o.patchState({appState:{status:"idle"},document:fb(o.document,n.version)})}catch(r){console.error("The data appears to be corrupted. Resetting!",r),localStorage.setItem(o.document.id+"_corrupted",JSON.stringify(o.document)),o.patchState(Jy(Qy({},n.defaultState),{appState:Jy(Qy({},n.defaultState.appState),{status:"idle"})}))}null==(t=(e=o.callbacks).onMount)||t.call(e,d(o))})),tb(d(o),"cleanup",(function(e,t){var n,r=Qy({},e);r.document!==t.document&&Object.entries(r.document.pages).forEach((function(e){var n=b(e,2),i=n[0],o=n[1];if(void 0===o)return delete r.document.pages[i],void delete r.document.pageStates[i];var a=t.document.pages[i],s={};if(!a||o.shapes!==a.shapes||o.bindings!==a.bindings){o.shapes=Qy({},o.shapes),o.bindings=Qy({},o.bindings);var u=new Set;Object.entries(o.shapes).forEach((function(e){var t,n,l=b(e,2),c=l[0],d=l[1];(d?n=d.parentId:(n=null==(t=null==a?void 0:a.shapes[c])?void 0:t.parentId,delete o.shapes[c]),o.id===r.appState.currentPageId&&(null==a?void 0:a.shapes[c])!==d&&(s[c]=d),n&&n!==i)&&(void 0!==o.shapes[n]&&u.add(o.shapes[n]))})),Object.keys(o.bindings).forEach((function(e){o.bindings[e]||delete o.bindings[e]})),r.document.pages[i]=o;var l=qk.getRelatedBindings(r,Object.keys(s),i),c=new Set;l.forEach((function(e){if(o.bindings[e.id]){var t=o.shapes[e.toId],n=o.shapes[e.fromId];if(t&&n){if(!c.has(n)){var a=qk.updateArrowBindings(o,n);if(c.add(n),a){var s=Qy(Qy({},n),a);o.shapes[n.id]=s}}}else delete r.document.pages[i].bindings[e.id]}})),u.forEach((function(e){if(!e)throw Error("no group!");var t=e.children.filter((function(e){return void 0!==o.shapes[e]})),n=Xa.getCommonBounds(t.map((function(e){return o.shapes[e]})).filter(Boolean).map((function(e){return qk.getRotatedBounds(e)})));o.shapes[e.id]=Jy(Qy({},e),{point:[n.minX,n.minY],size:[n.width,n.height],children:t})}))}var d=Qy({},r.document.pageStates[i]);d.brush||delete d.brush,d.hoveredId&&!o.shapes[d.hoveredId]&&delete d.hoveredId,d.bindingId&&!o.bindings[d.bindingId]&&(qk.warn("Could not find the binding of ".concat(i)),delete d.bindingId),d.editingId&&!o.shapes[d.editingId]&&(qk.warn("Could not find the editing shape!"),delete d.editingId),r.document.pageStates[i]=d})),Object.keys(null!=(n=r.document.assets)?n:{}).forEach((function(e){var t,n;(null==(t=r.document.assets)?void 0:t[e])||null==(n=r.document.assets)||delete n[e]}));var i=r.appState.currentPageId,a=r.document.pageStates[i];if(r.room&&r.room!==t.room){var s=Jy(Qy({},r.room),{users:Qy({},r.room.users)});t.room&&Object.values(t.room.users).filter(Boolean).forEach((function(e){void 0===s.users[e.id]&&delete s.users[e.id]})),r.room=s}return r.room&&(r.room.users[r.room.userId]=Jy(Qy({},r.room.users[r.room.userId]),{point:o.currentPoint,selectedIds:a.selectedIds})),o.readOnly&&(r.document.pages=t.document.pages),r})),tb(d(o),"onPatch",(function(e,t){var n,r;null==(r=(n=o.callbacks).onPatch)||r.call(n,d(o),t)})),tb(d(o),"onCommand",(function(e,t){var n,r;o.clearSelectHistory(),o.isDirty=!0,null==(r=(n=o.callbacks).onCommand)||r.call(n,d(o),t)})),tb(d(o),"onReplace",(function(){o.clearSelectHistory(),o.isDirty=!1})),tb(d(o),"onUndo",(function(){var e,t;o.rotationInfo.selectedIds=(0,c.Z)(o.selectedIds),null==(t=(e=o.callbacks).onUndo)||t.call(e,d(o))})),tb(d(o),"onRedo",(function(){var e,t;o.rotationInfo.selectedIds=(0,c.Z)(o.selectedIds),null==(t=(e=o.callbacks).onRedo)||t.call(e,d(o))})),tb(d(o),"onPersist",(function(){var e,t;o.callbacks.onChangePage&&o.broadcastPageChanges(),null==(t=(e=o.callbacks).onPersist)||t.call(e,d(o))})),tb(d(o),"prevSelectedIds",o.selectedIds),tb(d(o),"onStateDidChange",(function(e,t){var n,r,i,a;null==(r=(n=o.callbacks).onChange)||r.call(n,d(o),t),o.room&&o.selectedIds!==o.prevSelectedIds&&(null==(a=(i=o.callbacks).onChangePresence)||a.call(i,d(o),Jy(Qy({},o.room.users[o.room.userId]),{selectedIds:o.selectedIds})),o.prevSelectedIds=o.selectedIds)})),tb(d(o),"justSent",!1),tb(d(o),"prevShapes",o.page.shapes),tb(d(o),"prevBindings",o.page.bindings),tb(d(o),"prevAssets",o.document.assets),tb(d(o),"broadcastPageChanges",(function(){var e,t,n=new Set,r={},i={},a={};o.shapes.forEach((function(e){n.add(e.id),o.prevShapes[e.id]!==e&&(r[e.id]=e)})),Object.keys(o.prevShapes).filter((function(e){return!n.has(e)})).forEach((function(e){r[e]=void 0})),o.bindings.forEach((function(e){n.add(e.id),o.prevBindings[e.id]!==e&&(i[e.id]=e)})),Object.keys(o.prevBindings).filter((function(e){return!n.has(e)})).forEach((function(e){i[e]=void 0})),o.assets.forEach((function(e){n.add(e.id),o.prevAssets[e.id]!==e&&(a[e.id]=e)})),Object.keys(o.prevAssets).filter((function(e){return!n.has(e)})).forEach((function(e){a[e]=void 0})),(Object.keys(i).length>0||Object.keys(r).length>0||Object.keys(a).length>0)&&(o.justSent=!0,null==(t=(e=o.callbacks).onChangePage)||t.call(e,d(o),r,i,a),o.prevShapes=o.page.shapes,o.prevBindings=o.page.bindings,o.prevAssets=o.document.assets)})),tb(d(o),"getReservedContent",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=o.document.pages[t].bindings,r={},i={},a=Object.values(n),s=new Map(a.map((function(e){return[e.toId,e]}))),u=new Map(a.map((function(e){return[e.fromId,e]}))),l=[s,u],d=[];o.session&&e.forEach((function(e){return d.push(e)})),o.pageState.editingId&&d.push(o.pageState.editingId);for(var f=new Set(d),h=new Set,p=function(){var e=d.pop();if(!e)return"break";if(h.has(e))return"continue";h.add(e);var n=o.getShape(e);r[e]=n,n.parentId!==t&&d.push(n.parentId),n.children&&d.push.apply(d,(0,c.Z)(n.children)),l.map((function(e){return e.get(n.id)})).filter(Boolean).forEach((function(e){i[e.id]=e,d.push(e.toId,e.fromId)}))};d.length>0;){var v=p();if("break"===v)break}return{reservedShapes:r,reservedBindings:i,strongReservedShapeIds:f}})),tb(d(o),"replacePageContent",(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.currentPageId;if(o.justSent)return o.justSent=!1,d(o);var a=o.document.pages[o.currentPageId];return Object.values(e).forEach((function(t){t.parentId===r||a.shapes[t.parentId]||e[t.parentId]||(console.warn("Added a shape without a parent on the page"),t.parentId=r)})),o.useStore.setState((function(a){var s=a.document.pageStates[r],u=s.hoveredId,l=s.editingId,d=s.bindingId,f=s.selectedIds,h=(0,c.Z)(f),p=l&&a.document.pages[o.currentPageId].shapes[l];p&&h.push(p.id);var v=o.getReservedContent(h,o.currentPageId),g=v.reservedShapes,m=v.reservedBindings,y=v.strongReservedShapeIds;Object.values(g).filter((function(e){return!("text"in e)})).forEach((function(t){var n=e[t.id];n&&("arrow"===t.type||y.has(t.id)?("decorations"in n&&"decorations"in t&&(e[t.id]=Jy(Qy({},t),{decorations:n.decorations})),t.style=n.style):e[t.id]=n)})),o.prevShapes=e,o.prevBindings=t,o.prevAssets=n;var b=Qy(Qy({},e),g);p&&(b[p.id]=p);var w=Qy(Qy({},t),m),k=Qy({},n),S=Jy(Qy({},a),{document:Jy(Qy({},a.document),{pages:i({},r,Jy(Qy({},a.document.pages[r]),{shapes:b,bindings:w})),assets:k,pageStates:Jy(Qy({},a.document.pageStates),i({},r,Jy(Qy({},a.document.pageStates[r]),{selectedIds:f.filter((function(e){return void 0!==b[e]})),hoveredId:u?void 0===b[u]?void 0:u:void 0,editingId:l,bindingId:d?void 0===w[d]?void 0:d:void 0})))})}),C=S.document.pages[r],_=qk.getRelatedBindings(S,Object.keys(b),r),E=new Set;return _.forEach((function(e){if(C.bindings[e.id]){var t=C.shapes[e.fromId];if(!E.has(t)){var n=qk.updateArrowBindings(C,t);if(E.add(t),n){var r=Qy(Qy({},t),n);C.shapes[t.id]=r}}}})),Object.values(b).forEach((function(e){if("group"===e.type){var t=e.children.filter((function(e){return void 0!==C.shapes[e]})),n=Xa.getCommonBounds(t.map((function(e){return C.shapes[e]})).filter(Boolean).map((function(e){return qk.getRotatedBounds(e)})));C.shapes[e.id]=Jy(Qy({},e),{point:[n.minX,n.minY],size:[n.width,n.height],children:t})}})),o.state.document=S.document,S}),!0),d(o)})),tb(d(o),"updateBounds",(function(e){o.rendererBounds=e;var t=o.pageState.camera,n=t.point,r=t.zoom;o.updateViewport(n,r),!o.readOnly&&o.session&&o.session.update()})),tb(d(o),"updateViewport",(function(e,t){var n=o.rendererBounds,r=n.width,i=n.height,a=b(wo.sub(wo.div([0,0],t),e),2),s=a[0],u=a[1],l=b(wo.sub(wo.div([r,i],t),e),2),c=l[0],d=l[1];o.viewport={minX:s,minY:u,maxX:c,maxY:d,height:c-s,width:d-u}})),tb(d(o),"setEditingId",(function(e){o.readOnly||(o.editingStartTime=performance.now(),o.patchState({document:{pageStates:i({},o.currentPageId,{editingId:e})}},"set_editing_id"))})),tb(d(o),"setHoveredId",(function(e){o.patchState({document:{pageStates:i({},o.currentPageId,{hoveredId:e})}},"set_hovered_id")})),tb(d(o),"setSetting",(function(e,t){return o.session||(o.patchState({settings:i({},e,"function"===typeof t?t(o.settings[e]):t)},"settings:".concat(e)),o.persist()),d(o)})),tb(d(o),"toggleFocusMode",(function(){return o.session||(o.patchState({settings:{isFocusMode:!o.settings.isFocusMode}},"settings:toggled_focus_mode"),o.persist()),d(o)})),tb(d(o),"togglePenMode",(function(){return o.session||(o.patchState({settings:{isPenMode:!o.settings.isPenMode}},"settings:toggled_pen_mode"),o.persist()),d(o)})),tb(d(o),"toggleDarkMode",(function(){return o.session||(o.patchState({settings:{isDarkMode:!o.settings.isDarkMode}},"settings:toggled_dark_mode"),o.persist()),d(o)})),tb(d(o),"toggleZoomSnap",(function(){return o.session||(o.patchState({settings:{isZoomSnap:!o.settings.isZoomSnap}},"settings:toggled_zoom_snap"),o.persist()),d(o)})),tb(d(o),"toggleDebugMode",(function(){return o.session||(o.patchState({settings:{isDebugMode:!o.settings.isDebugMode}},"settings:toggled_debug"),o.persist()),d(o)})),tb(d(o),"setMenuOpen",(function(e){return o.patchState({appState:{isMenuOpen:e}},"ui:toggled_menu_opened"),o.persist(),d(o)})),tb(d(o),"setIsLoading",(function(e){return o.patchState({appState:{isLoading:e}},"ui:toggled_is_loading"),o.persist(),d(o)})),tb(d(o),"setDisableAssets",(function(e){return o.patchState({appState:{disableAssets:e}},"ui:toggled_disable_images"),d(o)})),tb(d(o),"toggleGrid",(function(){return o.session||(o.patchState({settings:{showGrid:!o.settings.showGrid}},"settings:toggled_grid"),o.persist()),d(o)})),tb(d(o),"selectTool",(function(e){if(o.readOnly||o.session)return d(o);o.isPointing=!1;var t=o.tools[e];return t===o.currentTool?(o.patchState({appState:{isToolLocked:!1}}),d(o)):(o.currentTool.onExit(),t.previous=o.currentTool.type,o.currentTool=t,o.currentTool.onEnter(),o.patchState({appState:{activeTool:e,isToolLocked:!1}},"selected_tool:".concat(e)))})),tb(d(o),"toggleToolLock",(function(){return o.session?d(o):o.patchState({appState:{isToolLocked:!o.appState.isToolLocked}},"toggled_tool_lock")})),tb(d(o),"resetDocument",(function(){return o.session||(o.session=void 0,o.pasteInfo.offset=[0,0],o.currentTool=o.tools.select,o.resetHistory().clearSelectHistory().loadDocument(fb(n.defaultDocument,n.version)).persist()),d(o)})),tb(d(o),"updateUsers",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.patchState({room:{users:Object.fromEntries(e.map((function(e){return[e.id,e]})))}},t?"room:self:update":"room:user:update")})),tb(d(o),"removeUser",(function(e){o.patchState({room:{users:i({},e,void 0)}})})),tb(d(o),"mergeDocument",(function(e){if(o.document.id!==e.id)return o.replaceState(Jy(Qy({},o.state),{appState:Jy(Qy({},o.appState),{currentPageId:Object.keys(e.pages)[0]}),document:fb(e,n.version)})),d(o);var t=Qy({},o.document.pageStates),r=Jy(Qy({},o.appState),{currentPageId:e.pages[o.currentPageId]?o.currentPageId:Object.keys(e.pages)[0],pages:Object.values(e.pages).map((function(e,t){return{id:e.id,name:e.name,childIndex:e.childIndex||t}}))});o.resetHistory(),Object.keys(o.document.pages).forEach((function(n){e.pages[n]||(n===o.appState.currentPageId&&(o.cancelSession(),o.selectNone()),t[n]=void 0)})),o.session&&o.selectedIds.filter((function(t){return!e.pages[o.currentPageId].shapes[t]})).forEach((function(t){return e.pages[o.currentPageId].shapes[t]=o.page.shapes[t]})),Object.entries(t).forEach((function(t){var n=b(t,2),r=n[0],i=n[1];i.selectedIds=i.selectedIds.filter((function(t){return!!e.pages[r].shapes[t]}))}));var i=o.pageState.editingId;return i&&(e.pages[o.currentPageId].shapes[i]=o.page.shapes[i],t[o.currentPageId].selectedIds=[i]),o.replaceState(Jy(Qy({},o.state),{appState:r,document:Jy(Qy({},fb(e,n.version)),{pageStates:t})}),"merge")})),tb(d(o),"updateDocument",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"updated_document",n=o.state,r=Jy(Qy({},n),{document:Qy({},n.document)});e.pages[o.currentPageId]||(r.appState=Jy(Qy({},n.appState),{currentPageId:Object.keys(e.pages)[0]}));for(var i=1,a=0,s=Object.values(e.pages);a<s.length;a++){var u=s[a];u!==n.document.pages[u.id]&&(r.document.pages[u.id]=u,u.name||(r.document.pages[u.id].name="Page ".concat(i+1),i++))}for(var l=0,c=Object.values(e.pageStates);l<c.length;l++){var d=c[l];d!==n.document.pageStates[d.id]&&function(){r.document.pageStates[d.id]=d;for(var t=e.pages[d.id],n=0,i=["bindingId","editingId","hoveredId","pointedId"];n<i.length;n++){var o=i[n];t.shapes[o]||(d[o]=void 0)}d.selectedIds=d.selectedIds.filter((function(n){return!!e.pages[t.id].shapes[n]}))}()}return r.document=fb(r.document,r.document.version||0),o.replaceState(r,"".concat(t,":").concat(e.id))})),tb(d(o),"loadRoom",(function(e){return o.patchState({room:{id:e,userId:GS,users:i({},GS,{id:GS,color:Sb[Math.floor(Math.random()*Sb.length)],point:[100,100],selectedIds:[],activeShapes:[]})}}),d(o)})),tb(d(o),"loadDocument",(function(e){o.selectNone(),o.resetHistory(),o.clearSelectHistory(),o.session=void 0,o.replaceState(Jy(Qy({},n.defaultState),{settings:Qy({},o.state.settings),document:fb(e,n.version),appState:Jy(Qy(Qy({},n.defaultState.appState),o.state.appState),{currentPageId:Object.keys(e.pages)[0],disableAssets:o.disableAssets})}),"loaded_document");var t=o.pageState.camera,r=t.point,i=t.zoom;return o.updateViewport(r,i),d(o)})),tb(d(o),"newProject",(function(){o.isLocal&&(o.fileSystemHandle=null,o.resetDocument())})),tb(d(o),"saveProject",(function(){return nb(d(o),null,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.readOnly){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Tb(fb(this.document,n.version),this.fileSystemHandle);case 5:t=e.sent,this.fileSystemHandle=t,this.persist(),this.isDirty=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:return e.abrupt("return",this);case 15:case"end":return e.stop()}}),e,this,[[2,11]])})))})),tb(d(o),"saveProjectAs",(function(){return nb(d(o),null,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tb(this.document,null);case 3:t=e.sent,this.fileSystemHandle=t,this.persist(),this.isDirty=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:return e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})))})),tb(d(o),"openProject",(function(){return nb(d(o),null,(0,m.Z)().mark((function e(){var t,n,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLocal){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ob();case 5:if(t=e.sent){e.next=8;break}throw Error();case 8:n=t.fileHandle,r=t.document,this.loadDocument(r),this.fileSystemHandle=n,this.zoomToFit(),this.persist(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0);case 18:return e.prev=18,this.persist(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})))})),tb(d(o),"openAsset",(function(){return nb(d(o),null,(0,m.Z)().mark((function e(){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.disableAssets){e.next=16;break}return e.prev=1,e.next=4,Rb();case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:this.addMediaFromFile(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,this.persist(),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,10,13,16]])})))})),tb(d(o),"signOut",(function(){})),tb(d(o),"getAppState",(function(){return o.appState})),tb(d(o),"getPage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return qk.getPage(o.state,e||o.currentPageId)})),tb(d(o),"getShapes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return qk.getShapes(o.state,e||o.currentPageId)})),tb(d(o),"getBindings",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return qk.getBindings(o.state,e||o.currentPageId)})),tb(d(o),"getShape",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return qk.getShape(o.state,e,t)})),tb(d(o),"getShapeBounds",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return qk.getBounds(o.getShape(e,t))})),tb(d(o),"getBinding",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;return qk.getBinding(o.state,e,t)})),tb(d(o),"getPageState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return qk.getPageState(o.state,e||o.currentPageId)})),tb(d(o),"getPagePoint",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=o.getPageState(t),r=n.camera;return wo.sub(wo.div(e,r.zoom),r.point)})),tb(d(o),"createPage",(function(e){if(o.readOnly)return d(o);var t=o.rendererBounds,n=t.width,r=t.height;return o.setState(eS(d(o),[-n/2,-r/2],e))})),tb(d(o),"changePage",(function(e){return o.setState(Jk(d(o),e))})),tb(d(o),"renamePage",(function(e,t){return o.readOnly?d(o):o.setState(hS(d(o),e,t))})),tb(d(o),"duplicatePage",(function(e){return o.readOnly?d(o):o.setState(sS(d(o),e))})),tb(d(o),"deletePage",(function(e){return o.readOnly||Object.values(o.document.pages).length<=1?d(o):o.setState(nS(d(o),e||o.currentPageId))})),tb(d(o),"copy",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=e.flatMap((function(e){return qk.getDocumentBranch(o.state,e,o.currentPageId)})),n=t.map((function(e){return Xa.deepClone(o.getShape(e,o.currentPageId))}));if(0===n.length)return d(o);var r=Object.values(o.page.bindings).filter((function(e){return t.includes(e.fromId)&&t.includes(e.toId)})),i=n.map((function(e){if(e.assetId)return o.document.assets[e.assetId]})).filter(Boolean);o.clipboard={shapes:n,bindings:r,assets:i};try{var a=JSON.stringify(Qy({type:"tldr/clipboard"},o.clipboard));navigator.clipboard.writeText(a).then((function(){}),(function(){}))}catch(s){}return o.pasteInfo.offset=[0,0],o.pasteInfo.center=[0,0],d(o)})),tb(d(o),"cut",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return o.copy(e),o.delete(e),d(o)})),tb(d(o),"paste",(function(e){if(!o.readOnly){var t=function(t,n,r){var i={},a=r.filter((function(e){return void 0===o.document.assets[e.id]}));a.length&&o.patchState({document:{assets:Object.fromEntries(a.map((function(e){return[e.id,e]})))}}),t.forEach((function(e){return i[e.id]=Xa.uniqueId()})),n.forEach((function(e){return i[e.id]=Xa.uniqueId()}));var s=qk.getTopChildIndex(o.state,o.currentPageId),u=t.sort((function(e,t){return e.childIndex-t.childIndex})).map((function(e){var t=i[e.parentId],n=Jy(Qy({},e),{id:i[e.id],parentId:t||o.currentPageId});return e.children&&(n.children=e.children.map((function(e){return i[e]}))),t||(n.childIndex=s,s++),n.handles&&Object.values(n.handles).forEach((function(e){e.bindingId&&(e.bindingId=i[e.bindingId])})),n})),l=n.map((function(e){return Jy(Qy({},e),{id:i[e.id],toId:i[e.toId],fromId:i[e.fromId]})})),c=Xa.getCommonBounds(u.map(qk.getBounds)),d=wo.toFixed(o.getPagePoint(e||o.centerPoint));wo.dist(d,o.pasteInfo.center)<2||wo.dist(d,wo.toFixed(Xa.getBoundsCenter(c)))<2?(d=wo.add(d,o.pasteInfo.offset),o.pasteInfo.offset=wo.add(o.pasteInfo.offset,[8,8])):(o.pasteInfo.center=d,o.pasteInfo.offset=[0,0]);var f=Xa.centerBounds(c,d),h=wo.sub(Xa.getBoundsCenter(f),Xa.getBoundsCenter(c));o.create(u.map((function(e){return qk.getShapeUtil(e.type).create(Jy(Qy({},e),{point:wo.toFixed(wo.add(e.point,h)),parentId:e.parentId||o.currentPageId}))})),l)};return"clipboard"in navigator&&navigator.clipboard.readText?(navigator.clipboard.readText().then((function(e){var n=JSON.parse(e);if("tldr/clipboard"===n.type)t(n.shapes,n.bindings,n.assets);else{qk.warn("The selected shape was not a tldraw shape, treating as text.");var r=Xa.uniqueId();o.createShapes({id:r,type:"text",parentId:o.appState.currentPageId,text:qk.normalizeText(e),point:o.getPagePoint(o.centerPoint,o.currentPageId),style:Qy({},o.appState.currentStyle)}),o.select(r)}})).catch((function(){qk.warn("Read permissions denied!"),o.clipboard&&t(o.clipboard.shapes,o.clipboard.bindings,o.clipboard.assets)})),d(o)):(qk.warn("This browser does not support the Clipboard API!"),void(o.clipboard&&t(o.clipboard.shapes,o.clipboard.bindings,o.clipboard.assets)))}})),tb(d(o),"copySvg",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(0===e.length&&(e=Object.keys(o.page.shapes)),0!==e.length){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","defs"),i=document.createElementNS("http://www.w3.org/2000/svg","style");i.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');",r.appendChild(i),n.appendChild(r);var a=e.map((function(e){return o.getShape(e,t)})).sort((function(e,t){return e.childIndex-t.childIndex})),s=Xa.getCommonBounds(a.map(qk.getRotatedBounds)),u=function(e){var t=qk.getShapeUtil(e),n=t.getBounds(e),r=t.getSvgElement(e);if(r)return"image"===e.type?r.setAttribute("xlink:href",o.document.assets[e.assetId].src):"video"===e.type&&r.setAttribute("xlink:href",o.serializeVideo(e.id)),r.setAttribute("transform","translate(".concat(pb+e.point[0]-s.minX,", ").concat(pb+e.point[1]-s.minY,") rotate(").concat(180*(e.rotation||0)/Math.PI,", ").concat(n.width/2,", ").concat(n.height/2,")")),r};a.forEach((function(e){var r;if(null==(r=e.children)?void 0:r.length){var i=document.createElementNS("http://www.w3.org/2000/svg","g");return e.children.forEach((function(e){var n=o.getShape(e,t),r=u(n);r&&i.appendChild(r)})),void n.appendChild(i)}var a=u(e);a&&n.appendChild(a)})),n.setAttribute("viewBox",[0,0,s.width+32,s.height+32].join(" ")),n.setAttribute("width",String(s.width)),n.setAttribute("height",String(s.height)),n.setAttribute("fill","transparent"),n.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach((function(e){return e.remove()}));var l=(new XMLSerializer).serializeToString(n).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1");return qk.copyStringToClipboard(l),l}})),tb(d(o),"copyJson",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(0===e.length&&(e=Object.keys(o.page.shapes)),0!==e.length){var n=e.map((function(e){return o.getShape(e,t)})),r=JSON.stringify(n,null,2);return qk.copyStringToClipboard(r),r}})),tb(d(o),"setCamera",(function(e,t,n){return o.updateViewport(e,t),o.patchState({document:{pageStates:i({},o.currentPageId,{camera:{point:e,zoom:t}})}},n),d(o)})),tb(d(o),"resetCamera",(function(){return o.setCamera(o.centerPoint,1,"reset_camera")})),tb(d(o),"pan",(function(e){var t=o.pageState.camera;return o.setCamera(wo.toFixed(wo.sub(t.point,e)),t.zoom,"panned")})),tb(d(o),"pinchZoom",(function(e,t,n){var r=o.pageState.camera,i=wo.sub(r.point,wo.div(t,r.zoom)),a=n,s=wo.sub(wo.div(e,r.zoom),i),u=wo.sub(wo.div(e,a),i);return o.setCamera(wo.toFixed(wo.add(i,wo.sub(u,s))),a,"pinch_zoomed")})),tb(d(o),"zoomTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.centerPoint,n=o.pageState.camera,r=n.zoom,i=n.point,a=wo.sub(wo.div(t,r),i),s=wo.sub(wo.div(t,e),i);return o.setCamera(wo.toFixed(wo.add(i,wo.sub(s,a))),e,"zoomed_camera")})),tb(d(o),"zoomIn",(function(){var e=Math.round(100*o.pageState.camera.zoom/25),t=qk.getCameraZoom(.25*(e+1));return o.zoomTo(t)})),tb(d(o),"zoomOut",(function(){var e=Math.round(100*o.pageState.camera.zoom/25),t=qk.getCameraZoom(.25*(e-1));return o.zoomTo(t)})),tb(d(o),"zoomToFit",(function(){var e=d(o),t=e.shapes,n=e.pageState.camera;if(0===t.length)return d(o);var r=d(o).rendererBounds,i=Xa.getCommonBounds(t.map(qk.getBounds)),a=qk.getCameraZoom(Math.min((r.width-mb)/i.width,(r.height-mb)/i.height));a=n.zoom===a||n.zoom<1?Math.min(1,a):a;var s=(r.width-i.width*a)/2/a,u=(r.height-i.height*a)/2/a;return o.setCamera(wo.toFixed(wo.sub([s,u],[i.minX,i.minY])),a,"zoomed_to_fit")})),tb(d(o),"zoomToSelection",(function(){if(0===o.selectedIds.length)return d(o);var e=d(o).rendererBounds,t=qk.getSelectedBounds(o.state),n=qk.getCameraZoom(Math.min((e.width-mb)/t.width,(e.height-mb)/t.height));n=o.pageState.camera.zoom===n||o.pageState.camera.zoom<1?Math.min(1,n):n;var r=(e.width-t.width*n)/2/n,i=(e.height-t.height*n)/2/n;return o.setCamera(wo.toFixed(wo.sub([r,i],[t.minX,t.minY])),n,"zoomed_to_selection")})),tb(d(o),"zoomToContent",(function(){var e=o.shapes,t=o.pageState;if(0===e.length)return d(o);var n=d(o).rendererBounds,r=t.camera.zoom,i=Xa.getCommonBounds(e.map(qk.getBounds)),a=(n.width-i.width*r)/2/r,s=(n.height-i.height*r)/2/r;return o.setCamera(wo.toFixed(wo.sub([a,s],[i.minX,i.minY])),o.pageState.camera.zoom,"zoomed_to_content")})),tb(d(o),"resetZoom",(function(){return o.zoomTo(1)})),tb(d(o),"zoomBy",Xa.throttle((function(e,t){var n=o.pageState.camera.zoom,r=qk.getCameraZoom(n-e*n);return o.zoomTo(r,t)}),16)),tb(d(o),"clearSelectHistory",(function(){return o.selectHistory.pointer=0,o.selectHistory.stack=[o.selectedIds],d(o)})),tb(d(o),"addToSelectHistory",(function(e){return o.selectHistory.pointer<o.selectHistory.stack.length&&(o.selectHistory.stack=o.selectHistory.stack.slice(0,o.selectHistory.pointer+1)),o.selectHistory.pointer++,o.selectHistory.stack.push(e),d(o)})),tb(d(o),"setSelectedIds",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?[].concat((0,c.Z)(o.pageState.selectedIds),(0,c.Z)(e)):(0,c.Z)(e);return o.patchState({appState:{activeTool:"select"},document:{pageStates:i({},o.currentPageId,{selectedIds:n})}},"selected")})),tb(d(o),"undoSelect",(function(){return o.selectHistory.pointer>0&&(o.selectHistory.pointer--,o.setSelectedIds(o.selectHistory.stack[o.selectHistory.pointer])),d(o)})),tb(d(o),"redoSelect",(function(){return o.selectHistory.pointer<o.selectHistory.stack.length-1&&(o.selectHistory.pointer++,o.setSelectedIds(o.selectHistory.stack[o.selectHistory.pointer])),d(o)})),tb(d(o),"select",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((function(e){if(!o.page.shapes[e])throw Error("That shape does not exist on page ".concat(o.currentPageId))})),o.setSelectedIds(t),o.addToSelectHistory(t),d(o)})),tb(d(o),"selectAll",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.currentPageId;return o.session||(o.setSelectedIds(Object.values(o.document.pages[e].shapes).filter((function(t){return t.parentId===e})).map((function(e){return e.id}))),o.addToSelectHistory(o.selectedIds),o.selectTool("select")),d(o)})),tb(d(o),"selectNone",(function(){return o.setSelectedIds([]),o.addToSelectHistory(o.selectedIds),d(o)})),tb(d(o),"startSession",(function(e){if(o.readOnly&&"brush"!==e)return d(o);o.session&&(qk.warn("Already in a session! (".concat(o.session.constructor.name,")")),o.cancelSession());for(var t=jS(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o.session=l(t,[d(o)].concat(r));var a=o.session.start();return a&&o.patchState(a,"session:start_".concat(o.session.constructor.name)),d(o)})),tb(d(o),"updateSession",(function(){var e=d(o).session;if(!e)return d(o);var t=e.update();return t?o.patchState(t,"session:".concat(null==e?void 0:e.constructor.name)):d(o)})),tb(d(o),"cancelSession",(function(){var e=d(o).session;if(!e)return d(o);o.session=void 0;var t=e.cancel();return t&&o.patchState(t,"session:cancel:".concat(e.constructor.name)),d(o)})),tb(d(o),"completeSession",(function(){var e,t,n,r,a,s,u,l=d(o).session;if(!l)return d(o);o.session=void 0;var c=l.complete();if(void 0===c)return o.isCreating=!1,o.patchState({appState:{status:"idle"},document:{pageStates:i({},o.currentPageId,{editingId:void 0,bindingId:void 0,hoveredId:void 0})}},"session:complete:".concat(l.constructor.name));if("after"in c){if(o.isCreating){if(c.before={appState:Jy(Qy({},c.before.appState),{status:"idle"}),document:{pages:i({},o.currentPageId,{shapes:Object.fromEntries(o.selectedIds.map((function(e){return[e,void 0]})))}),pageStates:i({},o.currentPageId,{selectedIds:[],editingId:null,bindingId:null,hoveredId:null})}},o.appState.isToolLocked)((null==(n=null==(t=null==(e=c.after)?void 0:e.document)?void 0:t.pageStates)?void 0:n[o.currentPageId])||{}).selectedIds=[];o.isCreating=!1}c.after.appState=Jy(Qy({},c.after.appState),{status:"idle"}),c.after.document=Jy(Qy({},c.after.document),{pageStates:Jy(Qy({},null==(r=c.after.document)?void 0:r.pageStates),i({},o.currentPageId,Jy(Qy({},((null==(a=c.after.document)?void 0:a.pageStates)||{})[o.currentPageId]),{editingId:null})))}),o.setState(c,"session:complete:".concat(l.constructor.name))}else o.patchState(Jy(Qy({},c),{appState:Jy(Qy({},c.appState),{status:"idle"}),document:Jy(Qy({},c.document),{pageStates:i({},o.currentPageId,Jy(Qy({},null==(u=null==(s=c.document)?void 0:s.pageStates)?void 0:u[o.currentPageId]),{editingId:null}))})}),"session:complete:".concat(l.constructor.name));return d(o)})),tb(d(o),"createShapes",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?d(o):o.create(t.map((function(e){return qk.getShapeUtil(e.type).create(Qy({parentId:o.currentPageId},e))})))})),tb(d(o),"updateShapes",(function(){for(var e=o.document.pages[o.currentPageId].shapes,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter((function(t){return e[t.id]}));return 0===i.length?d(o):o.setState(CS(d(o),i,o.currentPageId),"updated_shapes")})),tb(d(o),"create",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?d(o):o.setState(tS(d(o),e,t))})),tb(d(o),"patchCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===e.length?d(o):o.patchState(tS(d(o),e,t).after)})),tb(d(o),"delete",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;if(0===n.length)return d(o);var r=oS(d(o),n);if(o.callbacks.onAssetDelete&&(null==(e=r.before.document)?void 0:e.assets)&&(null==(t=r.after.document)?void 0:t.assets)){var i=Object.keys(r.before.document.assets).filter((function(e){return!!r.before.document.assets[e]})),a=Object.keys(r.after.document.assets).filter((function(e){return!!r.after.document.assets[e]})),s=i.filter((function(e){return!a.includes(e)}));s.forEach((function(e){return o.callbacks.onAssetDelete(e)}))}return o.setState(r)})),tb(d(o),"deleteAll",(function(){return o.selectAll(),o.delete(),d(o)})),tb(d(o),"style",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return o.setState(yS(d(o),t,e))})),tb(d(o),"align",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<2?d(o):o.setState(Qk(d(o),t,e))})),tb(d(o),"distribute",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<3?d(o):o.setState(aS(d(o),t,e))})),tb(d(o),"stretch",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return t.length<2?d(o):o.setState(mS(d(o),t,e))})),tb(d(o),"flipHorizontal",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(lS(d(o),e,"horizontal"))})),tb(d(o),"flipVertical",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(lS(d(o),e,"vertical"))})),tb(d(o),"moveToPage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.selectedIds;if(0===n.length)return d(o);var r=d(o),i=r.rendererBounds;return o.setState(dS(d(o),n,i,t,e)),d(o)})),tb(d(o),"moveToBack",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(fS(d(o),e,"toBack"))})),tb(d(o),"moveBackward",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(fS(d(o),e,"backward"))})),tb(d(o),"moveForward",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(fS(d(o),e,"forward"))})),tb(d(o),"moveToFront",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(fS(d(o),e,"toFront"))})),tb(d(o),"nudge",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.selectedIds;if(0===n.length)return d(o);var r=t?o.settings.showGrid?4*o.currentGrid:10:o.settings.showGrid?o.currentGrid:1;return o.setState(kS(d(o),n,wo.mul(e,r)))})),tb(d(o),"duplicate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1?arguments[1]:void 0;return o.readOnly||0===e.length?d(o):o.setState(uS(d(o),e,t))})),tb(d(o),"resetBounds",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=pS(d(o),e,o.currentPageId);return o.setState(pS(d(o),e,o.currentPageId),t.id)})),tb(d(o),"toggleHidden",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(wS(d(o),e,"isHidden"))})),tb(d(o),"toggleLocked",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(wS(d(o),e,"isLocked"))})),tb(d(o),"toggleAspectRatioLocked",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds;return 0===e.length?d(o):o.setState(wS(d(o),e,"isAspectRatioLocked"))})),tb(d(o),"toggleDecoration",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return 0===t.length||"start"!==e&&"end"!==e?d(o):o.setState(bS(d(o),t,e))})),tb(d(o),"setShapeProps",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;return o.setState(_S(d(o),t,e))})),tb(d(o),"rotate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-.5*Math.PI,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.selectedIds;if(0===t.length)return d(o);var n=gS(d(o),t,e);return n?o.setState(n):d(o)})),tb(d(o),"group",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xa.uniqueId(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.currentPageId;if(o.readOnly)return d(o);if(1===e.length&&"group"===o.getShape(e[0],n).type)return o.ungroup(e,n);if(e.length<2)return d(o);var r=cS(d(o),e,t,n);return r?o.setState(r):d(o)})),tb(d(o),"ungroup",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.selectedIds,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.currentPageId;if(o.readOnly)return d(o);var n=e.map((function(e){return o.getShape(e,t)})).filter((function(e){return"group"===e.type}));if(0===n.length)return d(o);var r=SS(d(o),e,n,t);return r?o.setState(r):d(o)})),tb(d(o),"cancel",(function(){var e,t;return null==(t=(e=o.currentTool).onCancel)||t.call(e),d(o)})),tb(d(o),"addMediaFromFile",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nb(d(o),[e].concat(n),(0,m.Z)().mark((function e(t){var n,r,o,a,s,u,l,c,d,f,h,p,v,g,y,b,w,k=arguments;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k.length>1&&void 0!==k[1]?k[1]:this.centerPoint,this.setIsLoading(!0),r=Xa.uniqueId(),o=this.getPagePoint(n),a=t.name.match(/\.[0-9a-z]+$/i)){e.next=7;break}throw Error("No extension");case 7:if(s=_b.includes(a[0].toLowerCase()),u=Eb.includes(a[0].toLowerCase()),s||u){e.next=11;break}throw Error("Wrong extension");case 11:if(l=s?"image":"video",c=s?"image":"video",e.prev=13,!this.callbacks.onAssetCreate){e.next=23;break}return e.next=17,this.callbacks.onAssetCreate(t,r);case 17:if(f=e.sent){e.next=20;break}throw Error("Asset creation callback returned false");case 20:d=f,e.next=26;break;case 23:return e.next=25,Db(t);case 25:d=e.sent;case 26:if("string"!==typeof d){e.next=47;break}if(h=[0,0],!s){e.next=41;break}if(".svg"!=a[0]){e.next=35;break}return e.next=32,Ab(t);case 32:v=e.sent,(g=this.getViewboxFromSVG(v))&&(p=g.split(" "),h[0]=parseFloat(p[2]),h[1]=parseFloat(p[3]));case 35:if(!wo.isEqual(h,[0,0])){e.next=39;break}return e.next=38,Lb(d);case 38:h=e.sent;case 39:e.next=44;break;case 41:return e.next=43,Bb(d);case 43:h=e.sent;case 44:y=Object.values(this.document.assets).find((function(e){return e.type===c&&e.src===d})),y?b=y.id:(b=Xa.uniqueId(),w={id:b,type:c,src:d,size:h},this.patchState({document:{assets:i({},b,w)}})),this.createImageOrVideoShapeAtPoint(r,l,o,h,b);case 47:e.next=54;break;case 49:return e.prev=49,e.t0=e.catch(13),console.warn(e.t0),this.setIsLoading(!1),e.abrupt("return",this);case 54:return this.setIsLoading(!1),e.abrupt("return",this);case 56:case"end":return e.stop()}}),e,this,[[13,49]])})))})),tb(d(o),"getViewboxFromSVG",(function(e){if("string"===typeof e){var t=e.match(/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/);return t&&t.length>=2?t[1]:null}return console.warn("could not get viewbox from svg string"),o.setIsLoading(!1),null})),tb(d(o),"onKeyDown",(function(e,t,n){var r,i;switch(n.key){case"/":if("idle"===o.status&&!o.pageState.editingId){var a=d(o),s=a.shiftKey,u=a.metaKey,l=a.altKey,c=a.ctrlKey,f=a.spaceKey;o.onPointerDown({target:"canvas",pointerId:0,origin:t.point,point:t.point,delta:[0,0],pressure:.5,shiftKey:s,ctrlKey:c,metaKey:u,altKey:l,spaceKey:f},{shiftKey:s,altKey:l,ctrlKey:c,pointerId:0,clientX:t.point[0],clientY:t.point[1]})}break;case"Escape":o.cancel();break;case"Meta":o.metaKey=!0;break;case"Alt":o.altKey=!0;break;case"Control":o.ctrlKey=!0;break;case" ":o.isForcePanning=!0,o.spaceKey=!0}return null==(i=(r=o.currentTool).onKeyDown)||i.call(r,e,t,n),d(o)})),tb(d(o),"onKeyUp",(function(e,t,n){var r,i;if(t){switch(n.key){case"/":var a=d(o),s=a.currentPoint,u=a.shiftKey,l=a.metaKey,c=a.altKey,f=a.ctrlKey,h=a.spaceKey;o.onPointerUp({target:"canvas",pointerId:0,origin:s,point:s,delta:[0,0],pressure:.5,shiftKey:u,ctrlKey:f,metaKey:l,altKey:c,spaceKey:h},{shiftKey:u,altKey:c,ctrlKey:f,pointerId:0,clientX:s[0],clientY:s[1]});break;case"Meta":o.metaKey=!1;break;case"Alt":o.altKey=!1;break;case"Control":o.ctrlKey=!1;break;case" ":o.isForcePanning=!1,o.spaceKey=!1}null==(i=(r=o.currentTool).onKeyUp)||i.call(r,e,t,n)}})),tb(d(o),"refreshBoundingBoxes",(function(){var e=o.shapes.map((function(e){return[e.id,Qy({point:(0,c.Z)(e.point)},"label"in e&&{label:""})]})),t=o.shapes.map((function(e){return[e.id,Qy({point:(0,c.Z)(e.point)},"label"in e&&{label:e.label})]}));lw(),o.patchState({document:{pages:i({},o.currentPageId,{shapes:Object.fromEntries(e)})}}),o.patchState({document:{pages:i({},o.currentPageId,{shapes:Object.fromEntries(t)})}})})),tb(d(o),"onDragOver",(function(e){e.preventDefault()})),tb(d(o),"onDrop",(function(e){return nb(d(o),null,(0,m.Z)().mark((function t(){var n,r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!this.disableAssets){t.next=3;break}return t.abrupt("return",this);case 3:return(null==(n=e.dataTransfer.files)?void 0:n.length)&&(r=e.dataTransfer.files[0],this.addMediaFromFile(r,[e.clientX,e.clientY])),t.abrupt("return",this);case 5:case"end":return t.stop()}}),t,this)})))})),tb(d(o),"onPinchStart",(function(e,t){var n,r;null==(r=(n=o.currentTool).onPinchStart)||r.call(n,e,t)})),tb(d(o),"onPinchEnd",(function(e,t){var n,r;return null==(r=(n=o.currentTool).onPinchEnd)?void 0:r.call(n,e,t)})),tb(d(o),"onPinch",(function(e,t){var n,r;return null==(r=(n=o.currentTool).onPinch)?void 0:r.call(n,e,t)})),tb(d(o),"onPan",(function(e,t){if("pinching"!==o.appState.status){var n=wo.div(e.delta,o.pageState.camera.zoom),r=o.pageState.camera.point,i=wo.sub(r,n);wo.isEqual(i,r)||(o.pan(n),o.isForcePanning||o.onPointerMove(e,t))}})),tb(d(o),"onZoom",(function(e,t){if("idle"===o.state.appState.status){var n=e.delta[2]/50;o.zoomBy(n,e.point),o.onPointerMove(e,t)}})),tb(d(o),"updateInputs",(function(e){o.currentPoint=o.getPagePoint(e.point).concat(e.pressure),o.shiftKey=e.shiftKey,o.altKey=e.altKey,o.ctrlKey=e.ctrlKey,o.metaKey=e.metaKey})),tb(d(o),"onPointerMove",(function(e,t){var n,r,i,a,s;if(o.previousPoint=o.currentPoint,o.updateInputs(e,t),o.isForcePanning&&o.isPointing)null==(n=o.onPan)||n.call(d(o),Jy(Qy({},e),{delta:wo.neg(e.delta)}),t);else if(null==(i=(r=o.currentTool).onPointerMove)||i.call(r,e,t),o.state.room){var u=o.state.room,l=u.users,c=u.userId;null==(s=(a=o.callbacks).onChangePresence)||s.call(a,d(o),Jy(Qy({},l[c]),{point:o.getPagePoint(e.point)}))}})),tb(d(o),"onPointerDown",(function(e,t){var n,r;if(4===t.buttons)o.isForcePanning=!0;else if(o.isPointing)return;o.isPointing=!0,o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),o.isForcePanning||null==(r=(n=o.currentTool).onPointerDown)||r.call(n,e,t)})),tb(d(o),"onPointerUp",(function(e,t){var n,r;o.isPointing=!1,o.shiftKey||(o.isForcePanning=!1),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointerUp)||r.call(n,e,t)})),tb(d(o),"onPointCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointCanvas)||r.call(n,e,t)})),tb(d(o),"onDoubleClickCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickCanvas)||r.call(n,e,t)})),tb(d(o),"onRightPointCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointCanvas)||r.call(n,e,t)})),tb(d(o),"onDragCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragCanvas)||r.call(n,e,t)})),tb(d(o),"onReleaseCanvas",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseCanvas)||r.call(n,e,t)})),tb(d(o),"onPointShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointShape)||r.call(n,e,t)})),tb(d(o),"onReleaseShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseShape)||r.call(n,e,t)})),tb(d(o),"onDoubleClickShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickShape)||r.call(n,e,t)})),tb(d(o),"onRightPointShape",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointShape)||r.call(n,e,t)})),tb(d(o),"onDragShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragShape)||r.call(n,e,t)})),tb(d(o),"onHoverShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverShape)||r.call(n,e,t)})),tb(d(o),"onUnhoverShape",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverShape)||r.call(n,e,t)})),tb(d(o),"onPointBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointBounds)||r.call(n,e,t)})),tb(d(o),"onDoubleClickBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickBounds)||r.call(n,e,t)})),tb(d(o),"onRightPointBounds",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointBounds)||r.call(n,e,t)})),tb(d(o),"onDragBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragBounds)||r.call(n,e,t)})),tb(d(o),"onHoverBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverBounds)||r.call(n,e,t)})),tb(d(o),"onUnhoverBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverBounds)||r.call(n,e,t)})),tb(d(o),"onReleaseBounds",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseBounds)||r.call(n,e,t)})),tb(d(o),"onPointBoundsHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointBoundsHandle)||r.call(n,e,t)})),tb(d(o),"onDoubleClickBoundsHandle",(function(e,t){var n,r;if(o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickBoundsHandle)||r.call(n,e,t),1===o.selectedIds.length){var i=o.getShape(o.selectedIds[0]);if("image"===i.type||"video"===i.type){var a=o.document.assets[i.assetId],s=qk.getShapeUtil(i),u=s.getCenter(i),l=s.getCenter(Jy(Qy({},i),{size:a.size})),c=wo.sub(l,u);o.updateShapes({id:i.id,point:wo.sub(i.point,c),size:a.size})}}})),tb(d(o),"onRightPointBoundsHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointBoundsHandle)||r.call(n,e,t)})),tb(d(o),"onDragBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragBoundsHandle)||r.call(n,e,t)})),tb(d(o),"onHoverBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverBoundsHandle)||r.call(n,e,t)})),tb(d(o),"onUnhoverBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverBoundsHandle)||r.call(n,e,t)})),tb(d(o),"onReleaseBoundsHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseBoundsHandle)||r.call(n,e,t)})),tb(d(o),"onPointHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onPointHandle)||r.call(n,e,t)})),tb(d(o),"onDoubleClickHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onDoubleClickHandle)||r.call(n,e,t)})),tb(d(o),"onRightPointHandle",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onRightPointHandle)||r.call(n,e,t)})),tb(d(o),"onDragHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onDragHandle)||r.call(n,e,t)})),tb(d(o),"onHoverHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onHoverHandle)||r.call(n,e,t)})),tb(d(o),"onUnhoverHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onUnhoverHandle)||r.call(n,e,t)})),tb(d(o),"onReleaseHandle",(function(e,t){var n,r;o.updateInputs(e,t),null==(r=(n=o.currentTool).onReleaseHandle)||r.call(n,e,t)})),tb(d(o),"onShapeChange",(function(e){o.updateShapes(e)})),tb(d(o),"onShapeBlur",(function(){var e,t;if(!(performance.now()-o.editingStartTime<50)){var n=o.pageState.editingId,r=o.getAppState().isToolLocked;if(n){var i=o.getShape(n);o.setEditingId(),"text"===i.type&&(i.text.trim().length<=0?o.patchState(oS(d(o),[n]).after,"delete_empty_text"):r||o.select(n))}null==(t=(e=o.currentTool).onShapeBlur)||t.call(e)}})),tb(d(o),"onShapeClone",(function(e,t){var n,r;o.originPoint=o.getPagePoint(e.point).concat(e.pressure),o.updateInputs(e,t),null==(r=(n=o.currentTool).onShapeClone)||r.call(n,e,t)})),tb(d(o),"onRenderCountChange",(function(e){var t=o.getAppState();t.isEmptyCanvas&&e.length>0?o.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!t.isEmptyCanvas&&e.length<=0&&o.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")})),tb(d(o),"onError",(function(){})),tb(d(o),"getShapeUtil",qk.getShapeUtil),o.callbacks=a,o}return k(n,[{key:"setStatus",value:function(e){return this.patchState({appState:{status:e}},"set_status:".concat(e))}},{key:"isMenuOpen",get:function(){return this.appState.isMenuOpen}},{key:"isLoading",get:function(){return this.appState.isLoading}},{key:"disableAssets",get:function(){return this.appState.disableAssets}},{key:"history",get:function(){return this.stack.slice(0,this.pointer+1)},set:function(e){this.replaceHistory(e)}},{key:"document",get:function(){return this.state.document}},{key:"settings",get:function(){return this.state.settings}},{key:"appState",get:function(){return this.state.appState}},{key:"currentPageId",get:function(){return this.state.appState.currentPageId}},{key:"page",get:function(){return this.state.document.pages[this.currentPageId]}},{key:"shapes",get:function(){return Object.values(this.page.shapes)}},{key:"bindings",get:function(){return Object.values(this.page.bindings)}},{key:"assets",get:function(){return Object.values(this.document.assets)}},{key:"pageState",get:function(){return this.state.document.pageStates[this.currentPageId]}},{key:"selectedIds",get:function(){return this.pageState.selectedIds}},{key:"createTextShapeAtPoint",value:function(e,t){var n=this.shapes,r=this.appState,i=r.currentPageId,o=r.currentStyle,a=0===n.length?1:n.filter((function(e){return e.parentId===i})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1,s=Xk.text,u=s.create({id:t||Xa.uniqueId(),parentId:i,childIndex:a,point:e,style:Qy({},o)}),l=s.getBounds(u);return u.point=wo.sub(u.point,[l.width/2,l.height/2]),this.createShapes(u),this.setEditingId(u.id),this}},{key:"createImageOrVideoShapeAtPoint",value:function(e,t,n,r,i){var o=this.shapes,a=this.appState,s=a.currentPageId,u=a.currentStyle,l=0===o.length?1:o.filter((function(e){return e.parentId===s})).sort((function(e,t){return t.childIndex-e.childIndex}))[0].childIndex+1,c=Xk[t],d=c.create({id:e,parentId:s,childIndex:l,point:n,size:r,style:Qy({},u),assetId:i}),f=c.getBounds(d);return d.point=wo.sub(d.point,[f.width/2,f.height/2]),this.createShapes(d),this}},{key:"isSelected",value:function(e){return this.selectedIds.includes(e)}},{key:"serializeVideo",value:function(e){var t=document.getElementById(e+"_video");if(t){var n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}throw new Error("Video with id "+e+" not found")}},{key:"serializeImage",value:function(e){var t=document.getElementById(e+"_image");if(t){var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}throw new Error("Image with id "+e+" not found")}},{key:"patchAssets",value:function(e){this.document.assets=Qy(Qy({},this.document.assets),e)}},{key:"exportAllShapesAs",value:function(e){return nb(this,null,(0,m.Z)().mark((function t(){var n,r,i,o,a;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,c.Z)(this.selectedIds),this.selectAll(),r=Xa.expandBounds(qk.getSelectedBounds(this.state),64),i=r.width,o=r.height,a=qk.getAllEffectedShapeIds(this.state,this.selectedIds,this.currentPageId),this.setSelectedIds(n),t.next=7,this.exportShapesAs(a,[i,o],e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"exportSelectedShapesAs",value:function(e){return nb(this,null,(0,m.Z)().mark((function t(){var n,r,i,o;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Xa.expandBounds(qk.getSelectedBounds(this.state),64),r=n.width,i=n.height,o=qk.getAllEffectedShapeIds(this.state,this.selectedIds,this.currentPageId),t.next=4,this.exportShapesAs(o,[r,i],e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"exportShapesAs",value:function(e,t,n){return nb(this,null,(0,m.Z)().mark((function r(){var i,o,a,s,u,l=this;return(0,m.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.callbacks.onExport){r.next=2;break}return r.abrupt("return");case 2:return this.setIsLoading(!0),r.prev=3,o={},a=e.map((function(e){var t=Qy({},l.getShape(e));if(t.assetId){var n=Qy({},l.document.assets[t.assetId]);n.src.toLowerCase().endsWith("gif")&&(n.src=l.serializeImage(t.id)),"video"===t.type&&(n.src=l.serializeVideo(t.id),n.type="image",t.type="image"),o[t.assetId]=n}return t})),"svg"===n?s=this.copySvg(e):"json"===n&&(s=this.copyJson(e)),u={currentPageId:this.currentPageId,name:null!=(i=this.page.name)?i:"export",shapes:a,assets:o,type:n,serialized:s,size:"png"===n?wo.mul(t,2):t},r.next=10,this.callbacks.onExport(u);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),console.error(r.t0);case 15:return r.prev=15,this.setIsLoading(!1),r.finish(15);case 18:case"end":return r.stop()}}),r,this,[[3,12,15,18]])})))}},{key:"room",get:function(){return this.state.room}},{key:"isLocal",get:function(){return void 0===this.state.room||"local"===this.state.room.id}},{key:"status",get:function(){return this.appState.status}},{key:"currentUser",get:function(){if(this.state.room)return this.state.room.users[this.state.room.userId]}},{key:"centerPoint",get:function(){var e=this.rendererBounds,t=e.width,n=e.height;return wo.toFixed([t/2,n/2])}},{key:"currentGrid",get:function(){var e=this.pageState.camera.zoom;return e<.15?128:e<1?32:8}}]),n}($S),QS=qS;tb(QS,"version",15.3),tb(QS,"defaultDocument",{id:"doc",name:"New Document",version:qS.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),tb(QS,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:tw,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,snapLines:[],isLoading:!1,disableAssets:!1},document:qS.defaultDocument});i(Ty={select:FS,erase:zS},"text",HS),i(Ty,"draw",US),i(Ty,"ellipse",VS),i(Ty,"rectangle",KS),i(Ty,"triangle",ZS),i(Ty,"line",WS),i(Ty,"arrow",YS),i(Ty,"sticky",XS);var JS=e.createContext({});function eC(){return e.useContext(JS)}var tC=new Map,nC="Tldraw-fonts";function rC(){var t=this,n=eC(),r=e.useCallback((function(e){return nb(t,null,(0,m.Z)().mark((function t(){var r,i;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&n.callbacks.onOpenProject&&e.preventDefault(),null==(i=(r=n.callbacks).onNewProject)||i.call(r,n);case 2:case"end":return t.stop()}}),t)})))}),[n]),i=e.useCallback((function(e){var t,r;e&&n.callbacks.onOpenProject&&e.preventDefault(),null==(r=(t=n.callbacks).onSaveProject)||r.call(t,n)}),[n]),o=e.useCallback((function(e){var t,r;e&&n.callbacks.onOpenProject&&e.preventDefault(),null==(r=(t=n.callbacks).onSaveProjectAs)||r.call(t,n)}),[n]),a=e.useCallback((function(e){return nb(t,null,(0,m.Z)().mark((function t(){var r,i;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&n.callbacks.onOpenProject&&e.preventDefault(),null==(i=(r=n.callbacks).onOpenProject)||i.call(r,n);case 2:case"end":return t.stop()}}),t)})))}),[n]),s=e.useCallback((function(e){return nb(t,null,(0,m.Z)().mark((function t(){var r,i;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&n.callbacks.onOpenMedia&&e.preventDefault(),null==(i=(r=n.callbacks).onOpenMedia)||i.call(r,n);case 2:case"end":return t.stop()}}),t)})))}),[n]);return{onNewProject:r,onSaveProject:i,onSaveProjectAs:o,onOpenProject:a,onOpenMedia:s}}var iC={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"},oC=function(e){return e.appState.status},aC=function(e){return e.appState.activeTool};function sC(){var t=eC(),n=t.useStore(oC),r=t.useStore(aC);return e.createElement(uC,{bp:iC,id:"TD-StatusBar"},e.createElement(lC,null,r," | ",n))}var uC=ib("div",{height:40,userSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),lC=ib("div",{whiteSpace:"nowrap",overflow:"hidden"});function cC(t){var n=t.variant,r=t.children;return e.createElement(dC,{variant:n},r.split("").map((function(t,n){return e.createElement("span",{key:n},t.replace("#",Xa.isDarwin()?"\u2318":"Ctrl"))})))}var dC=ib("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}}),fC=ib("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}}),hC=e.forwardRef((function(t,n){var r=t,i=r.onClick,o=r.isActive,a=void 0!==o&&o,s=r.isWarning,u=void 0!==s&&s,l=r.hasIndicator,c=void 0!==l&&l,d=r.hasArrow,f=void 0!==d&&d,h=r.disabled,p=void 0!==h&&h,v=r.isSponsor,g=void 0!==v&&v,m=r.variant,y=r.kbd,b=r.children,w=eb(r,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","isSponsor","variant","kbd","children"]);return e.createElement(vC,Qy({ref:n,bp:iC,isWarning:u,isActive:a,isSponsor:g,disabled:p,onClick:i,variant:m},w),e.createElement(pC,null,b,y?e.createElement(cC,{variant:"menu"},y):void 0,c&&e.createElement(Np,{dir:"ltr"},e.createElement(fC,null,e.createElement(hv,null))),f&&e.createElement(fC,null,e.createElement(vv,null))))})),pC=ib("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1}}),vC=ib("button",(i(Oy={position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3}},"&:focus:not(:disabled) ".concat(pC),{backgroundColor:"$hover"}),i(Oy,"& a",{textDecoration:"none",color:"$text"}),i(Oy,"variants",{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isSponsor:{true:{color:"#eb30a2"},false:{}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}),i(Oy,"compoundVariants",[{isActive:!1,isSponsor:!0,bp:"small",css:i({},"&:hover:not(:disabled) ".concat(pC),{backgroundColor:"$sponsorContrast",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}})},{isActive:!1,isSponsor:!1,bp:"small",css:i({},"&:hover:not(:disabled) ".concat(pC),{backgroundColor:"$hover",border:"1px solid $panel",'& *[data-shy="true"]':{opacity:1}})}]),Oy)),gC=ib("div",{position:"relative",overflow:"hidden",userSelect:"none",display:"flex",flexDirection:"column",zIndex:180,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",variants:{size:{small:{minWidth:72}}}}),mC=function(e){return e.appState.isEmptyCanvas&&Object.keys(e.document.pages[e.appState.currentPageId].shapes).length>0},yC=e.memo((function(){var t=eC();return t.useStore(mC)?e.createElement(bC,{id:"TD-Tools-Back_to_content"},e.createElement(hC,{onClick:t.zoomToContent},"Back to content")):null})),bC=ib(gC,{pointerEvents:"all",width:"fit-content",minWidth:0,gridRow:1,flexGrow:2,display:"block"});function wC(t){var n=t.children,r=t.label,i=t.kbd,o=t.id,a=t.side,s=void 0===a?"top":a;return e.createElement("span",{id:o},e.createElement(Ug,null,e.createElement(Vg,{dir:"ltr",asChild:!0},e.createElement("span",null,n)),e.createElement(kC,{dir:"ltr",side:s,sideOffset:8},r,i?e.createElement(cC,{variant:"tooltip"},i):null,e.createElement(SC,null))))}var kC=ib(Kg,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none"}),SC=ib(Zg,{fill:"$tooltip",margin:"0 8px"}),CC=e.forwardRef((function(t,n){var r=t,i=r.onSelect,o=r.onClick,a=r.onDoubleClick,s=r.variant,u=r.children,l=r.isToolLocked,c=void 0!==l&&l,d=r.disabled,f=void 0!==d&&d,h=r.isActive,p=void 0!==h&&h,v=r.isSponsor,g=void 0!==v&&v,m=r.onKeyDown,y=r.id,b=eb(r,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","isSponsor","onKeyDown","id"]);return e.createElement(xC,Qy({ref:n,isActive:p,isSponsor:g,variant:s,onClick:o,disabled:f,onPointerDown:i,onDoubleClick:a,onKeyDown:m,bp:iC,id:y},b),e.createElement(EC,null,u),c&&e.createElement(IC,null))}));function _C(t){var n=t,r=n.label,i=n.kbd,o=n.isLocked,a=eb(n,["label","kbd","isLocked"]),s=eC(),u=e.useCallback((function(){s.toggleToolLock()}),[]),l=e.useCallback((function(e){" "===e.key&&s.isForcePanning&&e.preventDefault()}),[]);return e.createElement(wC,{label:r[0].toUpperCase()+r.slice(1),kbd:i},e.createElement(CC,Jy(Qy({},a),{variant:"primary",isToolLocked:o&&a.isActive,onDoubleClick:u,onKeyDown:l})))}var EC=ib("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",boxSizing:"border-box",border:"1px solid transparent"}),xC=ib("button",(i(Ay={position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",border:"none",height:"40px",width:"40px"},"&:disabled ".concat(EC),{opacity:.618}),i(Ay,"variants",{variant:{primary:{marginTop:"0"},icon:i({},"& ".concat(EC),{display:"grid","& > *":{gridRow:1,gridColumn:1}}),text:i({width:"auto"},"& ".concat(EC),{fontSize:"$1",padding:"0 $3",gap:"$3"}),circle:(Ry={padding:"$2"},i(Ry,"& ".concat(EC),{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"}),i(Ry,"& ".concat(EC," > svg"),{width:14,height:14}),Ry)},isSponsor:{true:i({},"".concat(EC),{backgroundColor:"$sponsorContrast"})},isActive:{true:{},false:{}},bp:{mobile:{},small:{}}}),i(Ay,"compoundVariants",[{variant:"primary",bp:"mobile",css:i({height:"40px",width:"40px"},"& ".concat(EC," > svg"),{width:16,height:16})},{variant:"primary",bp:"small",css:i({height:"44px",width:"44px"},"& ".concat(EC," > svg"),{width:20,height:20})},{isActive:!0,isSponsor:!1,css:i({},"".concat(EC),{backgroundColor:"$selected",color:"$selectedContrast"})},{isActive:!1,isSponsor:!1,bp:"small",css:(Dy={},i(Dy,"&:hover:not(:disabled) ".concat(EC),{backgroundColor:"$hover",border:"1px solid $panel"}),i(Dy,"&:focus:not(:disabled) ".concat(EC),{backgroundColor:"$hover"}),Dy)}]),Ay)),IC=ib("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100}),PC=ib("div",{backgroundColor:"$panel",display:"flex",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,variants:{side:{center:{borderRadius:"$4"},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:"$1",borderBottomRightRadius:"$3",borderBottomLeftRadius:"$1"},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:"$1",borderBottomLeftRadius:"$3",borderBottomRightRadius:"$1"}}}});function MC(t){var n=t,r=n.size,i=void 0===r?16:r,o=eb(n,["size"]);return e.createElement("svg",Qy({width:24,height:24},o),e.createElement("circle",{cx:12,cy:12,r:i/2}))}function TC(){return e.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:5.026548}))}var OC="".concat(1.256637," ").concat(5.026548);function RC(){return e.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:OC}))}function DC(){return e.createElement("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}function AC(){return e.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}function LC(t){return e.createElement("svg",Qy({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{d:"M4.32978 8.5081C4.32978 10.1923 5.70009 11.5625 7.38418 11.5625H8.46539C8.64456 11.5625 8.78975 11.4173 8.78975 11.2382V11.13C8.78975 10.9508 8.64457 10.8057 8.46539 10.8057H7.38418C6.11736 10.8057 5.08662 9.77492 5.08662 8.5081C5.08662 7.24128 6.11736 6.21054 7.38418 6.21054H9.37894L8.00515 7.58433C7.8576 7.73183 7.8576 7.97195 8.00515 8.11944C8.14833 8.26251 8.39751 8.2623 8.54036 8.11944L10.56 6.09971C10.6315 6.02824 10.6709 5.93321 10.6709 5.8321C10.6709 5.73106 10.6315 5.63598 10.56 5.56454L8.54025 3.54472C8.3974 3.40176 8.14801 3.40176 8.00513 3.54472C7.85758 3.69218 7.85758 3.93234 8.00513 4.07979L9.37892 5.45368H7.38418C5.70009 5.45368 4.32978 6.82393 4.32978 8.5081Z"}))}function BC(t){return e.createElement("svg",Qy({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}function jC(t){return e.createElement("svg",Qy({width:32,height:32,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}function NC(t){return e.createElement("svg",Qy({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}function FC(t){return e.createElement("svg",Qy({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}function zC(t){return e.createElement("svg",Qy({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),e.createElement("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}function HC(){return e.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),e.createElement("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),e.createElement("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}function UC(){return e.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.73545 0.0494623C5.93029 -0.0395285 6.15915 -0.00663838 6.32104 0.133622L14.8111 7.48911C14.9804 7.63581 15.0432 7.87091 14.9696 8.08249C14.8959 8.29408 14.7007 8.4394 14.4769 8.44927L11.4564 8.58248L13.2249 12.4682C13.35 12.7431 13.2286 13.0675 12.9537 13.1927L10.9304 14.1145C10.6554 14.2397 10.331 14.1184 10.2057 13.8435L8.43441 9.95846L6.42883 12.0731L7.0482 13.434C7.17335 13.709 7.05195 14.0333 6.77702 14.1586L5.03829 14.9506C4.76335 15.0759 4.43894 14.9546 4.31361 14.6797L2.83886 11.445L1.13458 13.242C0.980476 13.4045 0.742914 13.4566 0.534904 13.3737C0.326893 13.2907 0.19043 13.0894 0.19043 12.8654V3.2218C0.19043 3.0076 0.315424 2.81309 0.510266 2.7241C0.705108 2.63511 0.933961 2.668 1.09586 2.80826L5.41561 6.55076V0.547159C5.41561 0.332956 5.54061 0.138453 5.73545 0.0494623ZM6.74741 10.147L6.50992 10.3974V10.1575V9.0621V8.94669V7.49882V1.74513L13.0561 7.41656L10.5986 7.52495C10.417 7.53296 10.2512 7.63066 10.1562 7.78567C10.1444 7.80505 10.1338 7.825 10.1245 7.84541C10.0596 7.98828 10.0589 8.15342 10.1247 8.2982V8.2982L12.0023 12.4236L10.9745 12.8919L9.09356 8.7663C9.0181 8.60079 8.86531 8.4836 8.68589 8.45361C8.50647 8.42363 8.32389 8.48478 8.19871 8.61676L8.019 8.80624L6.74741 10.147ZM5.41561 9.11037V7.99863L1.28473 4.41977V11.4934L2.60315 10.1033C2.72833 9.97131 2.91091 9.91016 3.09033 9.94014C3.26975 9.97013 3.42254 10.0873 3.498 10.2528L5.08241 13.728L5.82563 13.3895L4.24404 9.91441C4.16873 9.74894 4.18053 9.55687 4.27553 9.40186C4.37052 9.24685 4.53631 9.14915 4.71793 9.14114L5.41561 9.11037Z",fill:"currentColor"}))}function VC(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},e.createElement("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}function KC(){return e.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}var ZC=["rectangle","ellipse","triangle","line"],WC=(i(Ly={},"rectangle",e.createElement(og,null)),i(Ly,"ellipse",e.createElement(mv,null)),i(Ly,"triangle",e.createElement(Cg,null)),i(Ly,"line",e.createElement(KC,null)),Ly),YC=function(e){return e.appState.status},XC=e.memo((function(t){var n=t.activeTool,r=t.isToolLocked,i=eC(),o=(i.useStore(YC),b(e.useState("rectangle"),2)),a=o[0],s=o[1];e.useEffect((function(){ZC.includes(n)&&a!==n&&s(n)}),[n]);var u=e.useCallback((function(){i.selectTool(a)}),[n,i]),l=e.useCallback((function(){i.toggleToolLock()}),[i]),c=e.useCallback((function(e){" "===e.key&&i.shiftKey&&e.preventDefault()}),[]),d=ZC.includes(n);return e.createElement(Tp,{dir:"ltr",onOpenChange:u},e.createElement(Op,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes"},e.createElement(CC,{disabled:d&&i.shiftKey,variant:"primary",onDoubleClick:l,isToolLocked:d&&r,isActive:d,onKeyDown:c},WC[a])),e.createElement(Rp,{asChild:!0,dir:"ltr",side:"top",sideOffset:12},e.createElement(PC,{side:"center"},ZC.map((function(t,n){return e.createElement(wC,{key:t,label:t[0].toUpperCase()+t.slice(1),kbd:(4+n).toString(),id:"TD-PrimaryTools-Shapes-".concat(t)},e.createElement(Dp,{asChild:!0},e.createElement(CC,{variant:"primary",onClick:function(){i.selectTool(t),s(t)}},WC[t])))})))))})),$C=function(e){return e.appState.activeTool},GC=function(e){return e.appState.isToolLocked},qC=e.memo((function(){var t=eC(),n=t.useStore($C),r=t.useStore(GC),i=e.useCallback((function(){t.selectTool("select")}),[t]),o=e.useCallback((function(){t.selectTool("erase")}),[t]),a=e.useCallback((function(){t.selectTool("draw")}),[t]),s=e.useCallback((function(){t.selectTool("arrow")}),[t]),u=e.useCallback((function(){t.selectTool("text")}),[t]),l=e.useCallback((function(){t.selectTool("sticky")}),[t]);return e.createElement(PC,{side:"center",id:"TD-PrimaryTools"},e.createElement(_C,{kbd:"1",label:"select",onClick:i,isActive:"select"===n,id:"TD-PrimaryTools-CursorArrow"},e.createElement(Cv,null)),e.createElement(_C,{kbd:"2",label:"draw",onClick:a,isActive:"draw"===n,id:"TD-PrimaryTools-Pencil"},e.createElement(Vv,null)),e.createElement(_C,{kbd:"3",label:"eraser",onClick:o,isActive:"erase"===n,id:"TD-PrimaryTools-Eraser"},e.createElement(HC,null)),e.createElement(XC,{activeTool:n,isToolLocked:r}),e.createElement(_C,{kbd:"8",label:"arrow",onClick:s,isLocked:r,isActive:"arrow"===n,id:"TD-PrimaryTools-ArrowTopRight"},e.createElement(ov,null)),e.createElement(_C,{kbd:"9",label:"text",onClick:u,isLocked:r,isActive:"text"===n,id:"TD-PrimaryTools-Text"},e.createElement(dg,null)),e.createElement(_C,{kbd:"0",label:"sticky",onClick:l,isActive:"sticky"===n,id:"TD-PrimaryTools-Pencil2"},e.createElement(Zv,null)))}));ib(zp,{fill:"$panel",bp:iC});function QC(t){var n=t,r=n.onSelect,i=n.id,o=eb(n,["onSelect","id"]);return e.createElement(Dp,{dir:"ltr",asChild:!0,onSelect:r,id:i},e.createElement(hC,Qy({},o)))}var JC=function(e){return e.preventDefault()};function e_(t){var n=t.checked,r=t.disabled,i=void 0!==r&&r,o=t.variant,a=t.onCheckedChange,s=t.kbd,u=t.id,l=t.children;return e.createElement(Lp,{dir:"ltr",onSelect:JC,onCheckedChange:a,checked:n,disabled:i,asChild:!0,id:u},e.createElement(hC,{kbd:s,variant:o,hasIndicator:!0},l))}function t_(t){var n=t.sideOffset,r=void 0===n?8:n,i=t.children,o=t.align,a=t.variant,s=t.id;return e.createElement(Rp,{dir:"ltr",align:o,sideOffset:r,onEscapeKeyDown:vw,asChild:!0,id:s},e.createElement(n_,{variant:a},i))}var n_=ib(gC,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"75vh",overflowY:"auto","& *":{boxSizing:"border-box"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),r_=ib(Fp,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"}),i_=ib(jp,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"$panel"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});function o_(t){var n=t.children,r=t.size,i=t.disabled,o=void 0!==i&&i,a=t.label,s=t.id;return e.createElement("span",{id:s},e.createElement(Tp,{dir:"ltr"},e.createElement(Ap,{dir:"ltr",asChild:!0},e.createElement(hC,{disabled:o,hasArrow:!0},a)),e.createElement(Rp,{dir:"ltr",asChild:!0,sideOffset:2,alignOffset:-2},e.createElement(gC,{size:r},n,e.createElement(zp,{offset:13})))))}function a_(t){var n=t,r=n.id,i=n.children,o=eb(n,["id","children"]);return e.createElement(Op,{asChild:!0,id:r},e.createElement(CC,Qy({},o),i))}var s_=ib("hr",{height:1,marginTop:"$1",marginRight:"-$0",marginBottom:"$1",marginLeft:"-$0",border:"none",borderBottom:"1px solid $hover"}),u_=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},l_=function(e){var t=e.document.pages[e.appState.currentPageId];return e.document.pageStates[e.appState.currentPageId].selectedIds.every((function(e){return t.shapes[e].isLocked}))},c_=function(e){var t=e.document.pages[e.appState.currentPageId];return e.document.pageStates[e.appState.currentPageId].selectedIds.every((function(e){return t.shapes[e].isAspectRatioLocked}))},d_=function(e){var t=e.document.pages[e.appState.currentPageId],n=e.document.pageStates[e.appState.currentPageId].selectedIds.map((function(e){return t.shapes[e]}));return n.every((function(t){return void 0!==t.children||t.parentId===n[0].parentId&&n[0].parentId!==e.appState.currentPageId}))},f_=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length>0},h_=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length>1};function p_(){var t=eC(),n=t.useStore(l_),r=t.useStore(c_),i=t.useStore(d_),o=t.useStore(f_),a=t.useStore(h_),s=t.useStore(u_),u=s>1,l=s>2,c=e.useCallback((function(){t.rotate()}),[t]),d=e.useCallback((function(){t.duplicate()}),[t]),f=e.useCallback((function(){t.toggleLocked()}),[t]),h=e.useCallback((function(){t.toggleAspectRatioLocked()}),[t]),p=e.useCallback((function(){t.group()}),[t]),v=e.useCallback((function(){t.moveToBack()}),[t]),g=e.useCallback((function(){t.moveBackward()}),[t]),m=e.useCallback((function(){t.moveForward()}),[t]),y=e.useCallback((function(){t.moveToFront()}),[t]),b=e.useCallback((function(){t.setShapeProps({rotation:0})}),[t]),w=e.useCallback((function(){t.align("top")}),[t]),k=e.useCallback((function(){t.align("centerVertical")}),[t]),S=e.useCallback((function(){t.align("bottom")}),[t]),C=e.useCallback((function(){t.stretch("vertical")}),[t]),_=e.useCallback((function(){t.distribute("vertical")}),[t]),E=e.useCallback((function(){t.align("left")}),[t]),x=e.useCallback((function(){t.align("centerHorizontal")}),[t]),I=e.useCallback((function(){t.align("right")}),[t]),P=e.useCallback((function(){t.stretch("horizontal")}),[t]),M=e.useCallback((function(){t.distribute("horizontal")}),[t]),T=e.useCallback((function(e){t.setMenuOpen(e)}),[t]);return e.createElement(Tp,{dir:"ltr",onOpenChange:T},e.createElement(Op,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots"},e.createElement(CC,{variant:"circle"},e.createElement(Iv,null))),e.createElement(t_,{sideOffset:16},e.createElement(e.Fragment,null,e.createElement(v_,null,e.createElement(CC,{variant:"icon",disabled:!o,onClick:d},e.createElement(wC,{label:"Duplicate",kbd:"#D",id:"TD-Tools-Copy"},e.createElement(kv,null))),e.createElement(CC,{disabled:!o,onClick:c},e.createElement(wC,{label:"Rotate",id:"TD-Tools-Rotate"},e.createElement(Jv,null))),e.createElement(CC,{disabled:!o,onClick:f},e.createElement(wC,{label:"Toggle Locked",kbd:"#L",id:"TD-Tools-Lock"},n?e.createElement(jv,null):e.createElement(Fv,null))),e.createElement(CC,{disabled:!o,onClick:h},e.createElement(wC,{label:"Toggle Aspect Ratio Lock",id:"TD-Tools-AspectRatio"},r?e.createElement(lv,null):e.createElement(dv,null))),e.createElement(CC,{disabled:!o||!i&&!a,onClick:p},e.createElement(wC,{label:"Group",kbd:"#G",id:"TD-Tools-Group"},e.createElement(Dv,null)))),e.createElement(v_,null,e.createElement(CC,{disabled:!o,onClick:v},e.createElement(wC,{label:"Move to Back",kbd:"#\u21e7[",id:"TD-Tools-PinBottom"},e.createElement(Yv,null))),e.createElement(CC,{disabled:!o,onClick:g},e.createElement(wC,{label:"Move Backward",kbd:"#[",id:"TD-Tools-ArrowDown"},e.createElement(rv,null))),e.createElement(CC,{disabled:!o,onClick:m},e.createElement(wC,{label:"Move Forward",kbd:"#]",id:"TD-Tools-ArrowUp"},e.createElement(sv,null))),e.createElement(CC,{disabled:!o,onClick:y},e.createElement(wC,{label:"Move to Front",kbd:"#\u21e7]",id:"TD-Tools-PinTop"},e.createElement($v,null))),e.createElement(CC,{disabled:!o,onClick:b},e.createElement(wC,{label:"Reset Angle",id:"TD-Tools-ResetAngle"},e.createElement(tv,null)))),e.createElement(s_,null),e.createElement(v_,null,e.createElement(CC,{disabled:!u,onClick:E,id:"TD-Tools-AlignLeft"},e.createElement($p,null)),e.createElement(CC,{disabled:!u,onClick:x,id:"TD-Tools-AlignCenterHorizontal"},e.createElement(Zp,null)),e.createElement(CC,{disabled:!u,onClick:I,id:"TD-Tools-AlignRight"},e.createElement(qp,null)),e.createElement(CC,{disabled:!u,onClick:P,id:"TD-Tools-StretchHorizontal"},e.createElement(sg,null)),e.createElement(CC,{disabled:!l,onClick:M,id:"TD-Tools-SpaceEvenlyHorizontal"},e.createElement(tg,null))),e.createElement(v_,null,e.createElement(CC,{disabled:!u,onClick:w,id:"TD-Tools-AlignTop"},e.createElement(Jp,null)),e.createElement(CC,{disabled:!u,onClick:k,id:"TD-Tools-AlignCenterVertical"},e.createElement(Yp,null)),e.createElement(CC,{disabled:!u,onClick:S,id:"TD-Tools-AlignBottom"},e.createElement(Vp,null)),e.createElement(CC,{disabled:!u,onClick:C,id:"TD-Tools-tretchVertical"},e.createElement(lg,null)),e.createElement(CC,{disabled:!l,onClick:_,id:"TD-Tools-SpaceEvenlyVertical"},e.createElement(rg,null))))))}var v_=ib("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0});function g_(){var t=eC(),n=e.useCallback((function(){t.delete()}),[t]),r=t.useStore((function(e){return"idle"===e.appState.status&&e.document.pageStates[e.appState.currentPageId].selectedIds.length>0}));return e.createElement(wC,{label:"Delete",kbd:"\u232b",id:"TD-Delete"},e.createElement(CC,{variant:"circle",disabled:!r,onSelect:n},e.createElement(BC,null)))}var m_=function(e){return e.settings.isDebugMode},y_=e.memo((function(t){var n=t.onBlur,r=eC().useStore(m_);return e.createElement(b_,{onBlur:n},e.createElement(w_,{id:"TD-Tools"},e.createElement(yC,null),e.createElement(S_,null,e.createElement(p_,null),e.createElement(qC,null),e.createElement(g_,null))),r&&e.createElement(k_,null,e.createElement(sC,null)))})),b_=ib("div",{position:"absolute",bottom:0,left:0,right:0,width:"100%",minWidth:0,maxWidth:"100%",display:"grid",gridTemplateColumns:"auto auto auto",gridTemplateRows:"auto auto",justifyContent:"space-between",padding:"0",gap:"$4",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"}}),w_=ib("div",{gridRow:1,gridColumn:2,display:"flex",width:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),k_=ib("div",{gridRow:2,gridColumn:"1 / span 3"}),S_=ib("div",{position:"relative",display:"flex",alignItems:"center",gap:"$2"}),C_=function(e){return e.settings};function __(){var t=eC(),n=t.useStore(C_),r=e.useCallback((function(){t.setSetting("isDebugMode",(function(e){return!e}))}),[t]),i=e.useCallback((function(){t.setSetting("isDarkMode",(function(e){return!e}))}),[t]),o=e.useCallback((function(){t.setSetting("isFocusMode",(function(e){return!e}))}),[t]),a=e.useCallback((function(){t.setSetting("showRotateHandles",(function(e){return!e}))}),[t]),s=e.useCallback((function(){t.setSetting("showGrid",(function(e){return!e}))}),[t]),u=e.useCallback((function(){t.setSetting("showBindingHandles",(function(e){return!e}))}),[t]),l=e.useCallback((function(){t.setSetting("isSnapping",(function(e){return!e}))}),[t]),c=e.useCallback((function(){t.setSetting("showCloneHandles",(function(e){return!e}))}),[t]),d=e.useCallback((function(){t.setSetting("isCadSelectMode",(function(e){return!e}))}),[t]);return e.createElement(o_,{label:"Preferences",id:"TD-MenuItem-Preferences"},e.createElement(e_,{checked:n.isDarkMode,onCheckedChange:i,kbd:"#\u21e7D",id:"TD-MenuItem-Preferences-Dark_Mode"},"Dark Mode"),e.createElement(e_,{checked:n.isFocusMode,onCheckedChange:o,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode"},"Focus Mode"),e.createElement(e_,{checked:n.isDebugMode,onCheckedChange:r,id:"TD-MenuItem-Preferences-Debug_Mode"},"Debug Mode"),e.createElement(r_,null),e.createElement(e_,{checked:n.showGrid,onCheckedChange:s,kbd:"#\u21e7G",id:"TD-MenuItem-Preferences-Grid"},"Show Grid"),e.createElement(e_,{checked:n.isCadSelectMode,onCheckedChange:d,id:"TD-MenuItem-Preferences-Cad_Selection"},"Use CAD Selection"),e.createElement(e_,{checked:n.isSnapping,onCheckedChange:l,id:"TD-MenuItem-Preferences-Always_Show_Snaps"},"Always Show Snaps"),e.createElement(e_,{checked:n.showRotateHandles,onCheckedChange:a,id:"TD-MenuItem-Preferences-Rotate_Handles"},"Rotate Handles"),e.createElement(e_,{checked:n.showBindingHandles,onCheckedChange:u,id:"TD-MenuItem-Preferences-Binding_Handles"},"Binding Handles"),e.createElement(e_,{checked:n.showCloneHandles,onCheckedChange:c,id:"TD-MenuItem-Preferences-Clone_Handles"},"Clone Handles"))}function E_(){return e.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:2,d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}var x_=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},I_=function(e){return e.appState.disableAssets},P_=e.memo((function(t){var n=this,r=t.showSponsorLink,i=t.readOnly,o=eC(),a=o.useStore(x_),s=o.useStore(I_),u=b(e.useState(0),2),l=(u[0],u[1]);e.useEffect((function(){return l(1)}),[]);var c=rC(),d=c.onNewProject,f=c.onOpenProject,h=c.onSaveProject,p=c.onSaveProjectAs,v=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.exportAllShapesAs("png");case 2:case"end":return e.stop()}}),e)})))}),[o]),g=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.exportAllShapesAs("jpeg");case 2:case"end":return e.stop()}}),e)})))}),[o]),y=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.exportAllShapesAs("webp");case 2:case"end":return e.stop()}}),e)})))}),[o]),w=(e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.exportAllShapesAs("pdf");case 2:case"end":return e.stop()}}),e)})))}),[o]),e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.exportAllShapesAs("svg");case 2:case"end":return e.stop()}}),e)})))}),[o])),k=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.exportAllShapesAs("json");case 2:case"end":return e.stop()}}),e)})))}),[o]),S=e.useCallback((function(){var e,t;null==(t=(e=o.callbacks).onSignIn)||t.call(e,o)}),[o]),C=e.useCallback((function(){var e,t;null==(t=(e=o.callbacks).onSignOut)||t.call(e,o)}),[o]),_=e.useCallback((function(){o.cut()}),[o]),E=e.useCallback((function(){o.copy()}),[o]),x=e.useCallback((function(){o.paste()}),[o]),I=e.useCallback((function(){o.copySvg()}),[o]),P=e.useCallback((function(){o.copyJson()}),[o]),M=e.useCallback((function(){o.selectAll()}),[o]),T=e.useCallback((function(){o.selectNone()}),[o]),O=e.useCallback((function(){o.openAsset()}),[o]),R=e.useCallback((function(){o.zoomTo(1)}),[o]),D=o.callbacks.onNewProject||o.callbacks.onOpenProject||o.callbacks.onSaveProject||o.callbacks.onSaveProjectAs||o.callbacks.onExport,A=o.callbacks.onSignIn||o.callbacks.onSignOut||r,L=a>0;return e.createElement(Tp,{dir:"ltr"},e.createElement(a_,{isSponsor:r,id:"TD-MenuIcon"},e.createElement(Lv,null)),e.createElement(t_,{variant:"menu",id:"TD-Menu"},D&&e.createElement(o_,{label:"File...",id:"TD-MenuItem-File"},o.callbacks.onNewProject&&e.createElement(QC,{onClick:d,kbd:"#N",id:"TD-MenuItem-File-New_Project"},"New Project"),o.callbacks.onOpenProject&&e.createElement(QC,{onClick:f,kbd:"#O",id:"TD-MenuItem-File-Open"},"Open..."),o.callbacks.onSaveProject&&e.createElement(QC,{onClick:h,kbd:"#S",id:"TD-MenuItem-File-Save"},"Save"),o.callbacks.onSaveProjectAs&&e.createElement(QC,{onClick:p,kbd:"#\u21e7S",id:"TD-MenuItem-File-Save_As"},"Save As..."),o.callbacks.onExport&&e.createElement(e.Fragment,null,e.createElement(s_,null),e.createElement(o_,{label:"Export",size:"small",id:"TD-MenuItem-File-Export"},e.createElement(QC,{onClick:v,id:"TD-MenuItem-File-Export-PNG"},"PNG"),e.createElement(QC,{onClick:g,id:"TD-MenuItem-File-Export-JPG"},"JPG"),e.createElement(QC,{onClick:y,id:"TD-MenuItem-File-Export-WEBP"},"WEBP"),e.createElement(QC,{onClick:w,id:"TD-MenuItem-File-Export-SVG"},"SVG"),e.createElement(QC,{onClick:k,id:"TD-MenuItem-File-Export-JSON"},"JSON"))),!s&&e.createElement(e.Fragment,null,e.createElement(s_,null),e.createElement(QC,{onClick:O,kbd:"#U",id:"TD-MenuItem-File-Upload_Media"},"Upload Media"))),!i&&e.createElement(e.Fragment,null,e.createElement(o_,{label:"Edit...",id:"TD-MenuItem-Edit"},e.createElement(QC,{onSelect:JC,onClick:o.undo,kbd:"#Z",id:"TD-MenuItem-Edit-Undo"},"Undo"),e.createElement(QC,{onSelect:JC,onClick:o.redo,kbd:"#\u21e7Z",id:"TD-MenuItem-Edit-Redo"},"Redo"),e.createElement(r_,{dir:"ltr"}),e.createElement(QC,{onSelect:JC,disabled:!L,onClick:_,kbd:"#X",id:"TD-MenuItem-Edit-Cut"},"Cut"),e.createElement(QC,{onSelect:JC,disabled:!L,onClick:E,kbd:"#C",id:"TD-MenuItem-Edit-Copy"},"Copy"),e.createElement(QC,{onSelect:JC,onClick:x,kbd:"#V",id:"TD-MenuItem-Edit-Paste"},"Paste"),e.createElement(r_,{dir:"ltr"}),e.createElement(QC,{onSelect:JC,disabled:!L,onClick:I,kbd:"#\u21e7C",id:"TD-MenuItem-Edit-Copy_as_SVG"},"Copy as SVG"),e.createElement(QC,{onSelect:JC,disabled:!L,onClick:P,id:"TD-MenuItem-Edit-Copy_as_JSON"},"Copy as JSON"),e.createElement(r_,{dir:"ltr"}),e.createElement(QC,{onSelect:JC,onClick:M,kbd:"#A",id:"TD-MenuItem-Select_All"},"Select All"),e.createElement(QC,{onSelect:JC,onClick:T,id:"TD-MenuItem-Select_None"},"Select None"))),e.createElement(o_,{label:"View",id:"TD-MenuItem-Edit"},e.createElement(QC,{onSelect:JC,onClick:o.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn"},"Zoom In"),e.createElement(QC,{onSelect:JC,onClick:o.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut"},"Zoom Out"),e.createElement(QC,{onSelect:JC,onClick:R,kbd:"\u21e7+0",id:"TD-MenuItem-View-ZoomTo100"},"Zoom to 100%"),e.createElement(QC,{onSelect:JC,onClick:o.zoomToFit,kbd:"\u21e7+1",id:"TD-MenuItem-View-ZoomToFit"},"Zoom to Fit"),e.createElement(QC,{onSelect:JC,onClick:o.zoomToSelection,kbd:"\u21e7+2",id:"TD-MenuItem-View-ZoomToSelection"},"Zoom to Selection")),e.createElement(r_,{dir:"ltr"}),e.createElement(__,null),e.createElement(r_,{dir:"ltr"}),e.createElement("a",{href:"https://github.com/Tldraw/Tldraw",target:"_blank",rel:"nofollow"},e.createElement(QC,{id:"TD-MenuItem-Github"},"GitHub",e.createElement(fC,null,e.createElement(Ov,null)))),e.createElement("a",{href:"https://twitter.com/Tldraw",target:"_blank",rel:"nofollow"},e.createElement(QC,{id:"TD-MenuItem-Twitter"},"Twitter",e.createElement(fC,null,e.createElement(kg,null)))),e.createElement("a",{href:"https://discord.gg/SBBEVCA4PG",target:"_blank",rel:"nofollow"},e.createElement(QC,{id:"TD-MenuItem-Discord"},"Discord",e.createElement(fC,null,e.createElement(VC,null)))),r&&e.createElement("a",{href:"https://github.com/sponsors/steveruizok",target:"_blank",rel:"nofollow"},e.createElement(QC,{isSponsor:!0,id:"TD-MenuItem-Become_a_Sponsor"},"Become a Sponsor"," ",e.createElement(fC,null,e.createElement(E_,null)))),A&&e.createElement(e.Fragment,null,e.createElement(r_,{dir:"ltr"})," ",o.callbacks.onSignIn&&e.createElement(QC,{onSelect:S,id:"TD-MenuItem-Sign_in"},"Sign In"),o.callbacks.onSignOut&&e.createElement(QC,{onSelect:C,id:"TD-MenuItem-Sign_out"},"Sign Out",e.createElement(fC,null,e.createElement(Mv,null))))))})),M_=ib("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}}),T_=function(t){var n=t.value,r=t.onChange,i=t.placeholder,o=void 0===i?"":i,a=t.icon;return e.createElement(O_,null,e.createElement(R_,{value:n,onChange:r,placeholder:o}),a?e.createElement(D_,null,a):null)},O_=ib("div",{position:"relative",width:"100%",height:"min-content"}),R_=ib("input",{color:"$text",border:"none",textAlign:"left",width:"100%",paddingLeft:"$3",paddingRight:"$6",height:"32px",outline:"none",fontFamily:"$ui",fontSize:"$1","&:focus":{backgroundColor:"$hover"},borderRadius:"$2"}),D_=ib(fC,{top:0,right:0,position:"absolute",paddingLeft:"$3",paddingRight:"$3",pointerEvents:"none"}),A_=function(e){return Object.keys(e.document.pages).length>1};function L_(t){var n=t.page,r=t.onOpen,i=t.onClose,o=eC(),a=b(e.useState(!1),2),s=a[0],u=a[1],l=b(e.useState(n.name||"Page"),2),c=l[0],d=l[1],f=o.useStore(A_),h=e.useRef(null),p=e.useCallback((function(){o.duplicatePage(n.id),null==i||i()}),[o]),v=e.useCallback((function(){window.confirm("Are you sure you want to delete this page?")&&(o.deletePage(n.id),null==i||i())}),[o]),g=e.useCallback((function(e){u(e),e&&(null==r||r())}),[o]),m=e.useCallback((function(){return u(!1)}),[]);function y(e){e.stopPropagation()}return e.useEffect((function(){s&&requestAnimationFrame((function(){var e=h.current;e&&(e.focus(),e.select())}))}),[s]),e.createElement(zm,{open:s,onOpenChange:g},e.createElement(Hm,{asChild:!0,"data-shy":"true"},e.createElement(M_,{bp:iC},e.createElement(fC,null,e.createElement(Hv,null)))),e.createElement(Um,null,e.createElement(j_,{onPointerDown:m}),e.createElement(B_,{dir:"ltr",onKeyDown:y,onKeyUp:y},e.createElement(T_,{placeholder:"Page name",value:c,onChange:function(e){d(e.target.value),o.renamePage(n.id,e.target.value||n.name||"Page")},icon:e.createElement(Vv,null)}),e.createElement(s_,null),e.createElement(N_,{onSelect:p},"Duplicate"),e.createElement(N_,{disabled:!f,onSelect:v},"Delete"),e.createElement(s_,null),e.createElement(Wm,{asChild:!0},e.createElement(hC,null,"Cancel")))))}var B_=ib(Km,{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$0",borderRadius:"$2",font:"$ui","&:focus":{outline:"none"}}),j_=ib(Vm,{backgroundColor:"rgba(0, 0, 0, .15)",position:"fixed",pointerEvents:"all",inset:0});function N_(t){var n=t,r=n.onSelect,i=eb(n,["onSelect"]);return e.createElement(Zm,{asChild:!0,onClick:r,onSelect:r},e.createElement(hC,Qy({},i)))}var F_=function(e){return Object.values(e.document.pages).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)}))},z_=function(e){return e.document.pages[e.appState.currentPageId].name},H_=function(e){return e.document.pages[e.appState.currentPageId].id};function U_(){var t=eC(),n=e.useRef(!1),r=b(e.useState(!1),2),i=r[0],o=r[1];e.useEffect((function(){n.current!==i&&(n.current=i)}),[i]);var a=e.useCallback((function(){o(!1)}),[o]),s=e.useCallback((function(e){n.current!==e&&o(e)}),[o]),u=t.useStore(z_);return e.createElement(Tp,{dir:"ltr",open:i,onOpenChange:s},e.createElement(Op,{dir:"ltr",asChild:!0,id:"TD-Page"},e.createElement(CC,{variant:"text"},u||"Page")),e.createElement(t_,{variant:"menu",align:"start"},i&&e.createElement(V_,{onClose:a})))}function V_(t){var n=t.onClose,r=eC(),i=r.useStore(F_),o=r.useStore(H_),a=e.useCallback((function(){r.createPage()}),[r]),s=e.useCallback((function(e){n(),r.changePage(e)}),[r]);return e.createElement(e.Fragment,null,e.createElement(Bp,{dir:"ltr",value:o,onValueChange:s},i.map((function(t){return e.createElement(K_,{key:t.id},e.createElement(jp,{title:t.name||"Page",value:t.id,key:t.id,asChild:!0},e.createElement(Z_,null,e.createElement("span",null,t.name||"Page"),e.createElement(Np,null,e.createElement(fC,null,e.createElement(hv,null))))),e.createElement(L_,{page:t,onClose:n}))}))),e.createElement(r_,null),e.createElement(Dp,{onSelect:a,asChild:!0},e.createElement(hC,null,e.createElement("span",null,"Create Page"),e.createElement(fC,null,e.createElement(qv,null)))))}var K_=ib("div",{display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1}}),Z_=ib(hC,{minWidth:128}),W_=function(e){return e.document.pageStates[e.appState.currentPageId].camera.zoom},Y_=e.memo((function(){var t=eC(),n=t.useStore(W_);return e.createElement(Tp,{dir:"ltr"},e.createElement(Op,{dir:"ltr",asChild:!0,id:"TD-Zoom"},e.createElement(X_,{onDoubleClick:t.resetZoom,variant:"text"},Math.round(100*n),"%")),e.createElement(t_,{align:"end"},e.createElement(QC,{onSelect:JC,onClick:t.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In"},"Zoom In"),e.createElement(QC,{onSelect:JC,onClick:t.zoomOut,kbd:"#\u2212",id:"TD-Zoom-Zoom_Out"},"Zoom Out"),e.createElement(QC,{onSelect:JC,onClick:t.resetZoom,kbd:"\u21e70",id:"TD-Zoom-Zoom_To_100%"},"To 100%"),e.createElement(QC,{onSelect:JC,onClick:t.zoomToFit,kbd:"\u21e71",id:"TD-Zoom-To_Fit"},"To Fit"),e.createElement(QC,{onSelect:JC,onClick:t.zoomToSelection,kbd:"\u21e72",id:"TD-Zoom-To_Selection"},"To Selection")))})),X_=ib(CC,{minWidth:56}),$_=function(e){return e.appState.currentStyle},G_=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds},q_=Object.keys(nw),Q_=(i(By={},"draw",e.createElement(DC,null)),i(By,"solid",e.createElement(AC,null)),i(By,"dashed",e.createElement(TC,null)),i(By,"dotted",e.createElement(RC,null)),By),J_=(i(jy={},"small",e.createElement(NC,null)),i(jy,"medium",e.createElement(FC,null)),i(jy,"large",e.createElement(zC,null)),jy),eE=(i(Ny={},"start",e.createElement(mg,null)),i(Ny,"middle",e.createElement(hg,null)),i(Ny,"end",e.createElement(bg,null)),i(Ny,"justify",e.createElement(vg,null)),Ny),tE=function(e){return e.settings.isDarkMode?"dark":"light"},nE=function(e){var t=e.appState,n=t.activeTool,r=t.currentPageId;switch(n){case"select":var i,o=e.document.pages[r],a=!1,s=!1,u=C(e.document.pageStates[r].selectedIds);try{for(u.s();!(i=u.n()).done;){var l=i.value;"text"in o.shapes[l]&&(a=!0),"label"in o.shapes[l]&&(s=!0)}}catch(dR){u.e(dR)}finally{u.f()}return a?"text":s?"label":"";case"text":return"text";case"rectangle":case"ellipse":case"triangle":case"arrow":case"line":return"label"}return!1},rE=e.memo((function(){var t=eC(),n=t.useStore(tE),r=t.useStore(nE),i=t.useStore($_),o=t.useStore(G_),a=b(e.useState(i),2),s=a[0],u=a[1],l=e.useRef(i);e.useEffect((function(){var e=t.appState.currentStyle,n=t.page,r=t.selectedIds,i={};if(r.length<=0)i=e;else{var o=new Set([]);t.selectedIds.map((function(e){return n.shapes[e]})).forEach((function(e){q_.forEach((function(t){if(!o.has(t))if(void 0===i[t])i[t]=e.style[t];else{if(i[t]===e.style[t])return;i[t]=e.style[t],o.add(t)}}))}))}JSON.stringify(i)!==JSON.stringify(l.current)&&(l.current=i,u(i))}),[i,o]);var c=e.useCallback((function(e){t.style({isFilled:e})}),[]),d=e.useCallback((function(e){t.style({dash:e})}),[]),f=e.useCallback((function(e){t.style({size:e})}),[]),h=e.useCallback((function(e){t.style({font:e})}),[]),p=e.useCallback((function(e){t.style({textAlign:e})}),[]),v=e.useCallback((function(e){t.setMenuOpen(e)}),[t]);return e.createElement(Tp,{dir:"ltr",onOpenChange:v},e.createElement(Op,{asChild:!0,id:"TD-Styles"},e.createElement(CC,{variant:"text"},"Styles",e.createElement(sE,{style:{color:Hb[n][s.color]}},s.isFilled&&e.createElement(MC,{size:16,stroke:"none",fill:Ub[n][s.color]}),Q_[s.dash]))),e.createElement(t_,null,e.createElement(oE,{variant:"tall",id:"TD-Styles-Color-Container"},e.createElement("span",null,"Color"),e.createElement(iE,null,Object.keys(Hb.light).map((function(n){return e.createElement(Dp,{key:n,onSelect:JC,asChild:!0,id:"TD-Styles-Color-Swatch-".concat(n)},e.createElement(CC,{variant:"icon",isActive:s.color===n,onClick:function(){return t.style({color:n})}},e.createElement(MC,{size:18,strokeWidth:2.5,fill:s.isFilled?Ub.light[n]:"transparent",stroke:Hb.light[n]})))})))),e.createElement(e_,{variant:"styleMenu",checked:!!s.isFilled,onCheckedChange:c,id:"TD-Styles-Fill"},"Fill"),e.createElement(oE,{id:"TD-Styles-Dash-Container"},"Dash",e.createElement(aE,{dir:"ltr",value:s.dash,onValueChange:d},Object.values(ub).map((function(t){return e.createElement(i_,{key:t,isActive:t===s.dash,value:t,onSelect:JC,bp:iC,id:"TD-Styles-Dash-".concat(t)},Q_[t])})))),e.createElement(oE,{id:"TD-Styles-Size-Container"},"Size",e.createElement(aE,{dir:"ltr",value:s.size,onValueChange:f},Object.values(sb).map((function(t){return e.createElement(i_,{key:t,isActive:t===s.size,value:t,onSelect:JC,bp:iC,id:"TD-Styles-Dash-".concat(t)},J_[t])})))),("text"===r||"label"===r)&&e.createElement(e.Fragment,null,e.createElement(s_,null),e.createElement(oE,{id:"TD-Styles-Font-Container"},"Font",e.createElement(aE,{dir:"ltr",value:s.font,onValueChange:h},Object.values(cb).map((function(t){return e.createElement(i_,{key:t,isActive:t===s.font,value:t,onSelect:JC,bp:iC,id:"TD-Styles-Font-".concat(t)},e.createElement(uE,{fontStyle:t},"Aa"))})))),"text"===r&&e.createElement(oE,{id:"TD-Styles-Align-Container"},"Align",e.createElement(aE,{dir:"ltr",value:s.textAlign,onValueChange:p},Object.values(lb).map((function(t){return e.createElement(i_,{key:t,isActive:t===s.textAlign,value:t,onSelect:JC,bp:iC,id:"TD-Styles-Align-".concat(t)},eE[t])})))))))})),iE=ib("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),oE=ib("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),aE=ib(Ep,{display:"flex",flexDirection:"row",gap:"$1"}),sE=ib("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),uE=ib("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:(Fy={},i(Fy,"script",{fontFamily:"Caveat Brush"}),i(Fy,"sans",{fontFamily:"Recursive"}),i(Fy,"erif",{fontFamily:"Georgia"}),i(Fy,"mono",{fontFamily:"Recursive Mono"}),Fy)}}),lE=function(e){return e.room},cE=e.memo((function(){var t=this,n=eC(),r=n.useStore(lE),i=b(e.useState(!1),2),o=i[0],a=i[1],s=e.useCallback((function(){a(!0),qk.copyStringToClipboard(window.location.href),setTimeout((function(){return a(!1)}),1200)}),[]),u=e.useCallback((function(){return nb(t,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isDirty){e.next=12;break}if(!n.fileSystemHandle){e.next=7;break}if(!window.confirm("Do you want to save changes to your current project?")){e.next=5;break}return e.next=5,n.saveProject();case 5:e.next=10;break;case 7:if(!window.confirm("Do you want to save your current project?")){e.next=10;break}return e.next=10,n.saveProject();case 10:e.next=16;break;case 12:if(n.fileSystemHandle){e.next=16;break}if(!window.confirm("Do you want to save your current project?")){e.next=16;break}return e.next=16,n.saveProject();case 16:case"end":return e.stop()}}),e)})))}),[]);e.useCallback((function(){return nb(t,null,(0,m.Z)().mark((function e(){var t,r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers({"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}),e.next=3,fetch("http://tldraw.com/api/create-multiplayer-room",{headers:t,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(n.document)}).then((function(e){return e.json()}));case 3:r=e.sent,window.location.href="http://tldraw.com/r/".concat(r.roomId);case 5:case"end":return e.stop()}}),e)})))}),[]);return e.createElement(Tp,{dir:"ltr"},e.createElement(a_,{id:"TD-MultiplayerMenuIcon"},r?e.createElement(UC,null):e.createElement(Cv,null)),e.createElement(t_,{variant:"menu",align:"start",id:"TD-MultiplayerMenu"},e.createElement(QC,{id:"TD-Multiplayer-CopyInviteLink",onClick:s,disabled:!r},"Copy Invite Link",e.createElement(fC,null,o?e.createElement(hv,null):e.createElement(bv,null))),e.createElement(r_,{id:"TD-Multiplayer-CopyInviteLinkDivider"}),e.createElement(QC,{id:"TD-Multiplayer-CreateMultiplayerRoom",onClick:u},e.createElement("a",{href:"https://tldraw.com/r"},"Create a Multiplayer Project"))))}));function dE(t){var n=t.readOnly,r=t.showPages,i=t.showMenu,o=t.showStyles,a=t.showZoom,s=t.showSponsorLink,u=t.showMultiplayerMenu,l=eC();return e.createElement(fE,null,(i||r)&&e.createElement(PC,{side:"left",id:"TD-MenuPanel"},i&&e.createElement(P_,{showSponsorLink:s,readOnly:n}),u&&e.createElement(cE,null),r&&e.createElement(U_,null)),e.createElement(hE,null),(o||a)&&e.createElement(PC,{side:"right"},o&&!n&&e.createElement(rE,null),e.createElement(CC,null,e.createElement(jC,{onClick:l.undo})),e.createElement(CC,null,e.createElement(LC,{onClick:l.redo})),a&&e.createElement(Y_,null)))}var fE=ib("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),hE=ib("div",{flexGrow:2,pointerEvents:"none"}),pE=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.length},vE=function(e){return e.settings.isDebugMode},gE=function(e){return e.document.pageStates[e.appState.currentPageId].selectedIds.some((function(t){return void 0!==e.document.pages[e.appState.currentPageId].shapes[t].children}))},mE=function(e){return e.stopPropagation()},yE=function(t){var n=t.onBlur,r=t.children;return e.createElement(zy,{dir:"ltr"},e.createElement(Hy,{dir:"ltr"},r),e.createElement(bE,{onBlur:n}))},bE=e.memo((function(t){var n=this,r=t.onBlur,i=eC(),o=i.useStore(pE),a=i.useStore(vE),s=i.useStore(gE),u=e.useRef(null),l=e.useCallback((function(){i.flipHorizontal()}),[i]),c=e.useCallback((function(){i.flipVertical()}),[i]),d=e.useCallback((function(){i.duplicate()}),[i]),f=e.useCallback((function(){i.toggleLocked()}),[i]),h=e.useCallback((function(){i.group()}),[i]),p=e.useCallback((function(){i.moveToBack()}),[i]),v=e.useCallback((function(){i.moveBackward()}),[i]),g=e.useCallback((function(){i.moveForward()}),[i]),y=e.useCallback((function(){i.moveToFront()}),[i]),b=e.useCallback((function(){i.delete()}),[i]),w=e.useCallback((function(){i.copyJson()}),[i]),k=e.useCallback((function(){i.cut()}),[i]),S=e.useCallback((function(){i.copy()}),[i]),C=e.useCallback((function(){i.paste()}),[i]),_=e.useCallback((function(){i.copySvg()}),[i]),E=e.useCallback((function(){i.undo()}),[i]),x=e.useCallback((function(){i.redo()}),[i]),I=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportSelectedShapesAs("png");case 2:case"end":return e.stop()}}),e)})))}),[i]),P=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportSelectedShapesAs("jpeg");case 2:case"end":return e.stop()}}),e)})))}),[i]),M=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportSelectedShapesAs("webp");case 2:case"end":return e.stop()}}),e)})))}),[i]),T=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportSelectedShapesAs("svg");case 2:case"end":return e.stop()}}),e)})))}),[i]),O=e.useCallback((function(){return nb(n,null,(0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.exportSelectedShapesAs("json");case 2:case"end":return e.stop()}}),e)})))}),[i]),R=o>0,D=o>1,A=o>2;return e.createElement(Uy,{dir:"ltr",ref:u,onEscapeKeyDown:mE,asChild:!0,tabIndex:-1,onBlur:r},e.createElement(gC,{id:"TD-ContextMenu"},R?e.createElement(e.Fragment,null,e.createElement(PE,{onClick:d,kbd:"#D",id:"TD-ContextMenu-Duplicate"},"Duplicate"),e.createElement(PE,{onClick:l,kbd:"\u21e7H",id:"TD-ContextMenu-Flip_Horizontal"},"Flip Horizontal"),e.createElement(PE,{onClick:c,kbd:"\u21e7V",id:"TD-ContextMenu-Flip_Vertical"},"Flip Vertical"),e.createElement(PE,{onClick:f,kbd:"#\u21e7L",id:"TD-ContextMenu- Lock_Unlock"},"Lock / Unlock"),(D||s)&&e.createElement(s_,null),D&&e.createElement(PE,{onClick:h,kbd:"#G",id:"TD-ContextMenu-Group"},"Group"),s&&e.createElement(PE,{onClick:h,kbd:"#G",id:"TD-ContextMenu-Ungroup"},"Ungroup"),e.createElement(s_,null),e.createElement(EE,{label:"Move",id:"TD-ContextMenu-Move"},e.createElement(PE,{onClick:y,kbd:"\u21e7]",id:"TD-ContextMenu-Move-To_Front"},"To Front"),e.createElement(PE,{onClick:g,kbd:"]",id:"TD-ContextMenu-Move-Forward"},"Forward"),e.createElement(PE,{onClick:v,kbd:"[",id:"TD-ContextMenu-Move-Backward"},"Backward"),e.createElement(PE,{onClick:p,kbd:"\u21e7[",id:"TD-ContextMenu-Move-To_Back"},"To Back")),e.createElement(_E,null),D&&e.createElement(wE,{hasTwoOrMore:D,hasThreeOrMore:A}),i.callbacks.onExport?e.createElement(e.Fragment,null,e.createElement(s_,null),e.createElement(EE,{label:"Export",size:"small",id:"TD-ContextMenu-Export"},e.createElement(PE,{onClick:I,id:"TD-ContextMenu-Export-PNG"},"PNG"),e.createElement(PE,{onClick:P,id:"TD-ContextMenu-Export-JPG"},"JPG"),e.createElement(PE,{onClick:M,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),e.createElement(PE,{onClick:T,id:"TD-ContextMenu-Export-SVG"},"SVG"),e.createElement(PE,{onClick:O,id:"TD-ContextMenu-Export-JSON"},"JSON"),e.createElement(s_,null),e.createElement(PE,{onClick:_,kbd:"#\u21e7C",id:"TD-ContextMenu-Export-Copy_as_SVG"},"Copy as SVG"),a&&e.createElement(PE,{onClick:w,id:"TD-ContextMenu-Export-Copy_as_JSON"},"Copy as JSON"))):e.createElement(e.Fragment,null,e.createElement(s_,null),e.createElement(PE,{onClick:_,kbd:"#\u21e7C",id:"TD-ContextMenu-Export-Copy_as_SVG"},"Copy as SVG"),a&&e.createElement(PE,{onClick:w,id:"TD-ContextMenu-Export-Copy_as_JSON"},"Copy as JSON")),e.createElement(s_,null),e.createElement(PE,{onClick:k,kbd:"#X",id:"TD-ContextMenu-Cut"},"Cut"),e.createElement(PE,{onClick:S,kbd:"#C",id:"TD-ContextMenu-Copy"},"Copy"),e.createElement(PE,{onClick:C,kbd:"#V",id:"TD-ContextMenu-Paste"},"Paste"),e.createElement(s_,null),e.createElement(PE,{onClick:b,kbd:"\u232b",id:"TD-ContextMenu-Delete"},"Delete")):e.createElement(e.Fragment,null,e.createElement(PE,{onClick:C,kbd:"#V",id:"TD-ContextMenu-Paste"},"Paste"),e.createElement(PE,{onClick:E,kbd:"#Z",id:"TD-ContextMenu-Undo"},"Undo"),e.createElement(PE,{onClick:x,kbd:"#\u21e7Z",id:"TD-ContextMenu-Redo"},"Redo"))))}));function wE(t){var n=t.hasThreeOrMore,r=eC(),i=e.useCallback((function(){r.align("top")}),[r]),o=e.useCallback((function(){r.align("centerVertical")}),[r]),a=e.useCallback((function(){r.align("bottom")}),[r]),s=e.useCallback((function(){r.stretch("vertical")}),[r]),u=e.useCallback((function(){r.distribute("vertical")}),[r]),l=e.useCallback((function(){r.align("left")}),[r]),c=e.useCallback((function(){r.align("centerHorizontal")}),[r]),d=e.useCallback((function(){r.align("right")}),[r]),f=e.useCallback((function(){r.stretch("horizontal")}),[r]),h=e.useCallback((function(){r.distribute("horizontal")}),[r]);return e.createElement("span",{id:"TD-ContextMenu-Align_Duplicate"},e.createElement(zy,{dir:"ltr"},e.createElement(ME,{isSubmenu:!0},"Align / Distribute"),e.createElement(Uy,{asChild:!0,sideOffset:2,alignOffset:-2},e.createElement(kE,{numberOfSelected:n?"threeOrMore":"twoOrMore"},e.createElement(IE,{onClick:l,id:"TD-ContextMenu-Align_Duplicate-AlignLeft"},e.createElement($p,null)),e.createElement(IE,{onClick:c,id:"TD-ContextMenu-Align_Duplicate-AlignCenterHorizontal"},e.createElement(Zp,null)),e.createElement(IE,{onClick:d,id:"TD-ContextMenu-Align_Duplicate-AlignRight"},e.createElement(qp,null)),e.createElement(IE,{onClick:f,id:"TD-ContextMenu-Align_Duplicate-StretchHorizontal"},e.createElement(sg,null)),n&&e.createElement(IE,{onClick:h,id:"TD-ContextMenu-Align_Duplicate-SpaceEvenlyHorizontal"},e.createElement(tg,null)),e.createElement(IE,{onClick:i,id:"TD-ContextMenu-Align_Duplicate-AlignTop"},e.createElement(Jp,null)),e.createElement(IE,{onClick:o,id:"TD-ContextMenu-Align_Duplicate-AlignCenterVertical"},e.createElement(Yp,null)),e.createElement(IE,{onClick:a,id:"TD-ContextMenu-Align_Duplicate-AlignBottom"},e.createElement(Vp,null)),e.createElement(IE,{onClick:s,id:"TD-ContextMenu-Align_Duplicate-StretchVertical"},e.createElement(lg,null)),n&&e.createElement(IE,{onClick:u,id:"TD-ContextMenu-Align_Duplicate-SpaceEvenlyVertical"},e.createElement(rg,null)),e.createElement(xE,{offset:13})))))}var kE=ib(gC,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),SE=function(e){return e.appState.currentPageId},CE=function(e){return e.document.pages};function _E(){var t=eC(),n=t.useStore(SE),r=t.useStore(CE),i=Object.values(r).sort((function(e,t){return(e.childIndex||0)-(t.childIndex||0)})).filter((function(e){return e.id!==n}));return 0===i.length?null:e.createElement(zy,{dir:"ltr"},e.createElement(ME,{isSubmenu:!0},"Move To Page"),e.createElement(Uy,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},e.createElement(gC,null,i.map((function(r,i){var o=r.id,a=r.name;return e.createElement(PE,{key:o,disabled:o===n,onClick:function(){return t.moveToPage(o)}},a||"Page ".concat(i))})),e.createElement(xE,{offset:13}))))}function EE(t){var n=t.children,r=t.label,i=t.size,o=t.id;return e.createElement("span",{id:o},e.createElement(zy,{dir:"ltr"},e.createElement(ME,{isSubmenu:!0},r),e.createElement(Uy,{dir:"ltr",sideOffset:2,alignOffset:-2,asChild:!0},e.createElement(gC,{size:i},n,e.createElement(xE,{offset:13})))))}var xE=ib(hy,{fill:"$panel"});function IE(t){var n=t,r=n.onSelect,i=eb(n,["onSelect"]);return e.createElement(dy,{dir:"ltr",onSelect:r,asChild:!0},e.createElement(CC,Qy({},i)))}var PE=function(t){var n=t,r=n.id,i=eb(n,["id"]);return e.createElement(dy,{asChild:!0,id:r},e.createElement(hC,Qy({},i)))},ME=function(t){var n=t,r=n.isSubmenu,i=eb(n,["isSubmenu"]);return e.createElement(fy,{asChild:!0},e.createElement(hC,Qy({hasArrow:r},i)))};function TE(t){var n=t.onSelect;return e.createElement(OE,null,e.createElement(M_,{onClick:n},e.createElement(Ev,null)))}var OE=ib("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}}),RE=function(e){return e.appState.isLoading};function DE(){var t=eC().useStore(RE);return e.createElement(AE,{hidden:!t},"Loading...")}var AE=ib("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});function LE(t){var n=t.id,r=t.document,i=t.currentPageId,o=t.autofocus,a=void 0===o||o,s=t.showMenu,u=void 0===s||s,l=t.showMultiplayerMenu,c=void 0===l||l,d=t.showPages,f=void 0===d||d,h=t.showTools,p=void 0===h||h,v=t.showZoom,g=void 0===v||v,m=t.showStyles,y=void 0===m||m,w=t.showUI,k=void 0===w||w,S=t.readOnly,C=void 0!==S&&S,_=t.showSponsorLink,E=void 0!==_&&_,x=t.disableAssets,I=void 0!==x&&x,P=t.onMount,M=t.onChange,T=t.onChangePresence,O=t.onNewProject,R=t.onSaveProject,D=t.onSaveProjectAs,A=t.onOpenProject,L=t.onOpenMedia,B=t.onSignOut,j=t.onSignIn,N=t.onUndo,F=t.onRedo,z=t.onPersist,H=t.onPatch,U=t.onCommand,V=t.onChangePage,K=t.onAssetCreate,Z=t.onAssetDelete,W=t.onExport,Y=b(e.useState(n),2),X=Y[0],$=Y[1],G=b(e.useState((function(){return new QS(n,{onMount:P,onChange:M,onChangePresence:T,onNewProject:O,onSaveProject:R,onSaveProjectAs:D,onOpenProject:A,onOpenMedia:L,onSignOut:B,onSignIn:j,onUndo:N,onRedo:F,onPersist:z,onPatch:H,onCommand:U,onChangePage:V,onAssetDelete:Z,onAssetCreate:K})})),2),q=G[0],Q=G[1];return e.useLayoutEffect((function(){if(n!==X){var e=new QS(n,{onMount:P,onChange:M,onChangePresence:T,onNewProject:O,onSaveProject:R,onSaveProjectAs:D,onOpenProject:A,onOpenMedia:L,onSignOut:B,onSignIn:j,onUndo:N,onRedo:F,onPersist:z,onPatch:H,onCommand:U,onChangePage:V,onAssetDelete:Z,onAssetCreate:K,onExport:W});$(n),Q(e)}}),[X,n]),e.useEffect((function(){r&&(r.id===q.document.id?q.updateDocument(r):q.loadDocument(r))}),[r,q]),e.useEffect((function(){q.setDisableAssets(I)}),[q,I]),e.useEffect((function(){i&&q.changePage(i)}),[i,q]),e.useEffect((function(){q.readOnly=C}),[q,C]),e.useEffect((function(){q.callbacks={onMount:P,onChange:M,onChangePresence:T,onNewProject:O,onSaveProject:R,onSaveProjectAs:D,onOpenProject:A,onOpenMedia:L,onSignOut:B,onSignIn:j,onUndo:N,onRedo:F,onPersist:z,onPatch:H,onCommand:U,onChangePage:V,onAssetDelete:Z,onAssetCreate:K,onExport:W}}),[P,M,T,O,R,D,A,L,B,j,N,F,z,H,U,V,Z,K,W]),e.useLayoutEffect((function(){var e;if("undefined"!==typeof window&&(null==(e=window.document)?void 0:e.fonts))return window.document.fonts.addEventListener("loadingdone",t),function(){window.document.fonts.removeEventListener("loadingdone",t)};function t(){q.refreshBoundingBoxes()}}),[q]),e.createElement(JS.Provider,{value:q},e.createElement(BE,{key:X||"Tldraw",id:X,autofocus:a,showPages:f,showMenu:u,showMultiplayerMenu:c,showStyles:y,showZoom:g,showTools:p,showUI:k,showSponsorLink:E,readOnly:C}))}var BE=e.memo((function(t){var n,r,i=t.id,o=t.autofocus,a=t.showPages,s=t.showMenu,u=t.showMultiplayerMenu,l=t.showZoom,c=t.showStyles,d=t.showTools,f=t.showSponsorLink,h=t.readOnly,p=t.showUI,v=eC(),g=e.useRef(null),m=v.useStore(),y=m.document,b=m.settings,w=m.appState,k=m.room,S="select"===m.appState.activeTool,C=y.pages[w.currentPageId],_=y.pageStates[C.id],E=y.assets,x=_.selectedIds,I=1===x.length&&C.shapes[x[0]]&&qk.getShapeUtil(C.shapes[x[0]].type).hideBounds,P=1===x.length&&C.shapes[x[0]]&&qk.getShapeUtil(C.shapes[x[0]].type).hideResizeHandles,M=e.useMemo((function(){return{isDarkMode:b.isDarkMode}}),[b.isDarkMode]),T=b.isCadSelectMode?!w.selectByContain:w.selectByContain,O=e.useMemo((function(){var e=w.selectByContain,t=b.isDarkMode,n=b.isCadSelectMode;if(t){var r=n?e?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:"rgba(".concat(r,", ").concat(n?.08:.05,")"),brushStroke:"rgba(".concat(r,", ").concat(n?.5:.25,")"),brushDashStroke:"rgba(".concat(r,", .6)"),selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}var i=n?e?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:"rgba(".concat(i,", ").concat(n?.08:.05,")"),brushStroke:"rgba(".concat(i,", ").concat(n?.4:.25,")"),brushDashStroke:"rgba(".concat(i,", .6)")}}),[b.isDarkMode,b.isCadSelectMode,w.selectByContain]),R=void 0!==v.session,D=R&&"BrushSession"!==(null==(n=v.session)?void 0:n.constructor.name)||!S||I||!!_.editingId,A=R||!S,L=R&&"brushing"!==m.appState.status||!S,B=R||!S||!b.showCloneHandles||_.camera.zoom<.2;return e.createElement(NE,{ref:g,tabIndex:-0,className:b.isDarkMode?ob:""},e.createElement(DE,null),e.createElement(jE,{focusableRef:g,autofocus:o}),e.createElement(yE,null,e.createElement(Zs,{id:i,containerRef:g,shapeUtils:Xk,page:C,pageState:_,assets:E,snapLines:w.snapLines,grid:8,users:null==k?void 0:k.users,userId:null==k?void 0:k.userId,theme:O,meta:M,hideBounds:D,hideHandles:A,hideResizeHandles:P,hideIndicators:L,hideBindingHandles:!b.showBindingHandles,hideCloneHandles:B,hideRotateHandles:!b.showRotateHandles,hideGrid:!b.showGrid,showDashedBrush:T,performanceMode:null==(r=v.session)?void 0:r.performanceMode,onPinchStart:v.onPinchStart,onPinchEnd:v.onPinchEnd,onPinch:v.onPinch,onPan:v.onPan,onZoom:v.onZoom,onPointerDown:v.onPointerDown,onPointerMove:v.onPointerMove,onPointerUp:v.onPointerUp,onPointCanvas:v.onPointCanvas,onDoubleClickCanvas:v.onDoubleClickCanvas,onRightPointCanvas:v.onRightPointCanvas,onDragCanvas:v.onDragCanvas,onReleaseCanvas:v.onReleaseCanvas,onPointShape:v.onPointShape,onDoubleClickShape:v.onDoubleClickShape,onRightPointShape:v.onRightPointShape,onDragShape:v.onDragShape,onHoverShape:v.onHoverShape,onUnhoverShape:v.onUnhoverShape,onReleaseShape:v.onReleaseShape,onPointBounds:v.onPointBounds,onDoubleClickBounds:v.onDoubleClickBounds,onRightPointBounds:v.onRightPointBounds,onDragBounds:v.onDragBounds,onHoverBounds:v.onHoverBounds,onUnhoverBounds:v.onUnhoverBounds,onReleaseBounds:v.onReleaseBounds,onPointBoundsHandle:v.onPointBoundsHandle,onDoubleClickBoundsHandle:v.onDoubleClickBoundsHandle,onRightPointBoundsHandle:v.onRightPointBoundsHandle,onDragBoundsHandle:v.onDragBoundsHandle,onHoverBoundsHandle:v.onHoverBoundsHandle,onUnhoverBoundsHandle:v.onUnhoverBoundsHandle,onReleaseBoundsHandle:v.onReleaseBoundsHandle,onPointHandle:v.onPointHandle,onDoubleClickHandle:v.onDoubleClickHandle,onRightPointHandle:v.onRightPointHandle,onDragHandle:v.onDragHandle,onHoverHandle:v.onHoverHandle,onUnhoverHandle:v.onUnhoverHandle,onReleaseHandle:v.onReleaseHandle,onError:v.onError,onRenderCountChange:v.onRenderCountChange,onShapeChange:v.onShapeChange,onShapeBlur:v.onShapeBlur,onShapeClone:v.onShapeClone,onBoundsChange:v.updateBounds,onKeyDown:v.onKeyDown,onKeyUp:v.onKeyUp,onDragOver:v.onDragOver,onDrop:v.onDrop})),p&&e.createElement(FE,null,b.isFocusMode?e.createElement(TE,{onSelect:v.toggleFocusMode}):e.createElement(e.Fragment,null,e.createElement(dE,{readOnly:h,showPages:a,showMenu:s,showMultiplayerMenu:u,showStyles:c,showZoom:l,showSponsorLink:f}),e.createElement(zE,null),d&&!h&&e.createElement(y_,null))))})),jE=e.memo((function(t){var n=t.focusableRef,r=t.autofocus;return function(t){var n=eC(),r=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.current;return!(!e||!n.isMenuOpen)||r&&(document.activeElement===r||r.contains(document.activeElement))}),[t]);ql("v,1",(function(){r(!0)&&n.selectTool("select")}),[n,t.current]),ql("d,p,2",(function(){r(!0)&&n.selectTool("draw")}),void 0,[n]),ql("e,3",(function(){r(!0)&&n.selectTool("erase")}),void 0,[n]),ql("r,4",(function(){r(!0)&&n.selectTool("rectangle")}),void 0,[n]),ql("o,5",(function(){r(!0)&&n.selectTool("ellipse")}),void 0,[n]),ql("g,6",(function(){r()&&n.selectTool("triangle")}),void 0,[n]),ql("l,7",(function(){r(!0)&&n.selectTool("line")}),void 0,[n]),ql("a,8",(function(){r(!0)&&n.selectTool("arrow")}),void 0,[n]),ql("t,9",(function(){r(!0)&&n.selectTool("text")}),void 0,[n]),ql("s,0",(function(){r(!0)&&n.selectTool("sticky")}),void 0,[n]),ql("ctrl+shift+d,\u2318+shift+d",(function(e){r(!0)&&(n.toggleDarkMode(),e.preventDefault())}),void 0,[n]),ql("ctrl+.,\u2318+.",(function(){r(!0)&&n.toggleFocusMode()}),void 0,[n]),ql("ctrl+shift+g,\u2318+shift+g",(function(){r(!0)&&n.toggleGrid()}),void 0,[n]);var i=rC(),o=i.onNewProject,a=i.onOpenProject,s=i.onSaveProject,u=i.onSaveProjectAs,l=i.onOpenMedia;ql("ctrl+n,\u2318+n",(function(e){r()&&o(e)}),void 0,[n]),ql("ctrl+s,\u2318+s",(function(e){r()&&s(e)}),void 0,[n]),ql("ctrl+shift+s,\u2318+shift+s",(function(e){r()&&u(e)}),void 0,[n]),ql("ctrl+o,\u2318+o",(function(e){r()&&a(e)}),void 0,[n]),ql("ctrl+u,\u2318+u",(function(e){r()&&l(e)}),void 0,[n]),ql("\u2318+z,ctrl+z",(function(){r(!0)&&(n.session?n.cancelSession():n.undo())}),void 0,[n]),ql("ctrl+shift+z,\u2318+shift+z",(function(){r(!0)&&(n.session?n.cancelSession():n.redo())}),void 0,[n]),ql("\u2318+u,ctrl+u",(function(){r()&&n.undoSelect()}),void 0,[n]),ql("ctrl+shift-u,\u2318+shift+u",(function(){r()&&n.redoSelect()}),void 0,[n]),ql("ctrl+=,\u2318+=,ctrl+num_subtract,\u2318+num_subtract",(function(e){r(!0)&&(n.zoomIn(),e.preventDefault())}),void 0,[n]),ql("ctrl+-,\u2318+-,ctrl+num_add,\u2318+num_add",(function(e){r(!0)&&(n.zoomOut(),e.preventDefault())}),void 0,[n]),ql("shift+0,ctrl+numpad_0,\u2318+numpad_0",(function(){r(!0)&&n.resetZoom()}),void 0,[n]),ql("shift+1",(function(){r(!0)&&n.zoomToFit()}),void 0,[n]),ql("shift+2",(function(){r(!0)&&n.zoomToSelection()}),void 0,[n]),ql("ctrl+d,\u2318+d",(function(e){r()&&(n.duplicate(),e.preventDefault())}),void 0,[n]),ql("shift+h",(function(){r(!0)&&n.flipHorizontal()}),void 0,[n]),ql("shift+v",(function(){r(!0)&&n.flipVertical()}),void 0,[n]),ql("escape",(function(){r(!0)&&n.cancel()}),void 0,[n]),ql("backspace,del",(function(){r()&&n.delete()}),void 0,[n]),ql("\u2318+a,ctrl+a",(function(){r(!0)&&n.selectAll()}),void 0,[n]),ql("up",(function(){r()&&n.nudge([0,-1],!1)}),void 0,[n]),ql("right",(function(){r()&&n.nudge([1,0],!1)}),void 0,[n]),ql("down",(function(){r()&&n.nudge([0,1],!1)}),void 0,[n]),ql("left",(function(){r()&&n.nudge([-1,0],!1)}),void 0,[n]),ql("shift+up",(function(){r()&&n.nudge([0,-1],!0)}),void 0,[n]),ql("shift+right",(function(){r()&&n.nudge([1,0],!0)}),void 0,[n]),ql("shift+down",(function(){r()&&n.nudge([0,1],!0)}),void 0,[n]),ql("shift+left",(function(){r()&&n.nudge([-1,0],!0)}),void 0,[n]),ql("\u2318+shift+l,ctrl+shift+l",(function(){r()&&n.toggleLocked()}),void 0,[n]),ql("\u2318+c,ctrl+c",(function(){r()&&n.copy()}),void 0,[n]),ql("\u2318+shift+c,ctrl+shift+c",(function(e){r()&&(n.copySvg(),e.preventDefault())}),void 0,[n]),ql("\u2318+x,ctrl+x",(function(){r()&&n.cut()}),void 0,[n]),ql("\u2318+v,ctrl+v",(function(){r()&&n.paste()}),void 0,[n]),ql("\u2318+g,ctrl+g",(function(e){r()&&(n.group(),e.preventDefault())}),void 0,[n]),ql("\u2318+shift+g,ctrl+shift+g",(function(e){r()&&(n.ungroup(),e.preventDefault())}),void 0,[n]),ql("[",(function(){r(!0)&&n.moveBackward()}),void 0,[n]),ql("]",(function(){r(!0)&&n.moveForward()}),void 0,[n]),ql("shift+[",(function(){r(!0)&&n.moveToBack()}),void 0,[n]),ql("shift+]",(function(){r(!0)&&n.moveToFront()}),void 0,[n]),ql("ctrl+shift+backspace,\u2318+shift+backspace",(function(e){r()&&(n.settings.isDebugMode&&n.resetDocument(),e.preventDefault())}),void 0,[n]),ql("alt+command+l,alt+ctrl+l",(function(e){r(!0)&&(n.style({textAlign:"start"}),e.preventDefault())}),void 0,[n]),ql("alt+command+t,alt+ctrl+t",(function(e){r(!0)&&(n.style({textAlign:"middle"}),e.preventDefault())}),void 0,[n]),ql("alt+command+r,alt+ctrl+r",(function(e){r(!0)&&(n.style({textAlign:"end"}),e.preventDefault())}),void 0,[n])}(n),e.useLayoutEffect((function(){if(!tC.get(nC)){var e=document.createElement("style");return e.innerHTML="@import url('".concat("https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block","');"),e.setAttribute("id",nC),document.head.appendChild(e),tC.set(nC,e),function(){e&&document.head.contains(e)&&(document.head.removeChild(e),tC.delete(nC))}}}),[nC,"\n@import url('');\n"]),e.useEffect((function(){var e;r&&(null==(e=n.current)||e.focus())}),[r]),null})),NE=ib("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),FE=ib("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),zE=ib("div",{flexGrow:2}),HE=n(861),UE=function(){function e(t){var n=this;S(this,e),this.listeners={others:[],users:[],self:[]},this.awareness=t,this.awareness.setLocalState({id:this.awareness.clientID}),this.awareness.on("change",(function(){var e=n.getOthers();n.listeners.others.forEach((function(t){t(e)}));var t=n.getUsers();n.listeners.users.forEach((function(e){e(t)}))}))}return k(e,[{key:"subscribe",value:function(e,t){var n=this;switch(e){case"users":case"others":case"self":return this.listeners[e].push(t),function(){return n.unsubscribe(e,t)};default:return console.warn("event not recognized"),{}}}},{key:"unsubscribe",value:function(e,t){for(var n=0;n<this.listeners[e].length;n++)t===this.listeners[e][n]&&this.listeners[e].splice(n,1)}},{key:"setPresence",value:function(e){var t={id:this.awareness.clientID,presence:e};this.awareness.setLocalState(t),this.listeners.self.forEach((function(e){e(t)}))}},{key:"getSelf",value:function(){return this.awareness.getLocalState()}},{key:"getOthers",value:function(){var e=this;return Array.from(this.awareness.getStates().values()).filter((function(t){return t.id!==e.awareness.clientID}))}},{key:"getUsers",value:function(){return Array.from(this.awareness.getStates().values())}},{key:"destroy",value:function(){this.awareness.setLocalState(null)}}]),e}(),VE=function(){return new Map},KE=function(e){var t=VE();return e.forEach((function(e,n){t.set(n,e)})),t},ZE=function(e,t,n){var r=e.get(t);return void 0===r&&e.set(t,r=n()),r},WE=function(){return new Set},YE=function(e){return e[e.length-1]},XE=function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])},$E=Array.from,GE=(Array.isArray,function(){function e(){S(this,e),this._observers=VE()}return k(e,[{key:"on",value:function(e,t){ZE(this._observers,e,WE).add(t)}},{key:"once",value:function(e,t){var n=this;this.on(e,(function r(){n.off(e,r),t.apply(void 0,arguments)}))}},{key:"off",value:function(e,t){var n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}},{key:"emit",value:function(e,t){return $E((this._observers.get(e)||VE()).values()).forEach((function(e){return e.apply(void 0,(0,c.Z)(t))}))}},{key:"destroy",value:function(){this._observers=VE()}}]),e}()),qE=Math.floor,QE=(Math.ceil,Math.abs),JE=(Math.imul,Math.round,Math.log10),ex=(Math.log2,Math.log,Math.sqrt,function(e,t){return e<t?e:t}),tx=function(e,t){return e>t?e:t},nx=(Number.isNaN,Math.pow,Math.sign,function(e){return 0!==e?e<0:1/e<0}),rx=String.fromCharCode,ix=(String.fromCodePoint,/^\s*/g),ox=/([A-Z])/g,ax=function(e,t){return function(e){return e.replace(ix,"")}(e.replace(ox,(function(e){return"".concat(t).concat(function(e){return e.toLowerCase()}(e))})))},sx="undefined"!==typeof TextEncoder?new TextEncoder:null,ux=sx?function(e){return sx.encode(e)}:function(e){for(var t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.codePointAt(i);return r},lx="undefined"===typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});lx&&1===lx.decode(new Uint8Array).length&&(lx=null);var cx=function(e){return void 0===e?null:e},dx=new(function(){function e(){S(this,e),this.map=new Map}return k(e,[{key:"setItem",value:function(e,t){this.map.set(e,t)}},{key:"getItem",value:function(e){return this.map.get(e)}}]),e}()),fx=!0;try{"undefined"!==typeof localStorage&&(dx=localStorage,fx=!1)}catch(fR){}var hx,px,vx,gx,mx=dx,yx="undefined"!==typeof process&&process.release&&/node|io\.js/.test(process.release.name),bx="undefined"!==typeof window&&!yx,wx=("undefined"!==typeof navigator&&/Mac/.test(navigator.platform),[]),kx=function(){if(void 0===hx)if(yx){hx=VE();for(var e=process.argv,t=null,n=0;n<e.length;n++){var r=e[n];"-"===r[0]?(null!==t&&hx.set(t,""),t=r):null!==t?(hx.set(t,r),t=null):wx.push(r)}null!==t&&hx.set(t,"")}else"object"===typeof location?(hx=VE(),(location.search||"?").slice(1).split("&").forEach((function(e){if(0!==e.length){var t=b(e.split("="),2),n=t[0],r=t[1];hx.set("--".concat(ax(n,"-")),r),hx.set("-".concat(ax(n,"-")),r)}}))):hx=VE();return hx},Sx=function(e){return cx(yx?{NODE_ENV:"production",PUBLIC_URL:"/TA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e.toUpperCase()]:mx.getItem(e))},Cx=(px="production",function(e){return kx().has(e)}("--"+px)||Sx(px),function(e){return new Uint8Array(e)}),_x=function(e,t,n){return new Uint8Array(e,t,n)},Ex=bx?function(e){for(var t="",n=0;n<e.byteLength;n++)t+=rx(e[n]);return btoa(t)}:function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")},xx=bx?function(e){for(var t=atob(e),n=Cx(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}:function(e){var t=Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},Ix=64,Px=128,Mx=127,Tx=2147483647,Ox=Number.MAX_SAFE_INTEGER,Rx=(Number.MIN_SAFE_INTEGER,Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&qE(e)===e}),Dx=(Number.isNaN,Number.parseInt,k((function e(){S(this,e),this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}))),Ax=function(){return new Dx},Lx=function(e){for(var t=new Uint8Array(function(e){for(var t=e.cpos,n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t}(e)),n=0,r=0;r<e.bufs.length;r++){var i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(_x(e.cbuf.buffer,0,e.cpos),n),t},Bx=function(e,t){var n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},jx=Bx,Nx=function(e,t){for(;t>Mx;)Bx(e,Px|Mx&t),t=qE(t/128);Bx(e,Mx&t)},Fx=function(e,t){var n=nx(t);for(n&&(t=-t),Bx(e,(t>63?Px:0)|(n?Ix:0)|63&t),t=qE(t/64);t>0;)Bx(e,(t>Mx?Px:0)|Mx&t),t=qE(t/128)},zx=new Uint8Array(3e4),Hx=zx.length/3,Ux=sx?function(e,t){if(t.length<Hx){var n=sx.encodeInto(t,zx).written||0;Nx(e,n);for(var r=0;r<n;r++)Bx(e,zx[r])}else Kx(e,ux(t))}:function(e,t){var n=unescape(encodeURIComponent(t)),r=n.length;Nx(e,r);for(var i=0;i<r;i++)Bx(e,n.codePointAt(i))},Vx=function(e,t){var n=e.cbuf.length,r=e.cpos,i=ex(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(tx(2*n,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},Kx=function(e,t){Nx(e,t.byteLength),Vx(e,t)},Zx=function(e,t){!function(e,t){var n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(_x(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*tx(n,t)),e.cpos=0)}(e,t);var n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},Wx=new DataView(new ArrayBuffer(4)),Yx=function e(t,n){switch(typeof n){case"string":Bx(t,119),Ux(t,n);break;case"number":Rx(n)&&QE(n)<=Tx?(Bx(t,125),Fx(t,n)):(s=n,Wx.setFloat32(0,s),Wx.getFloat32(0)===s?(Bx(t,124),function(e,t){Zx(e,4).setFloat32(0,t,!1)}(t,n)):(Bx(t,123),function(e,t){Zx(e,8).setFloat64(0,t,!1)}(t,n)));break;case"bigint":Bx(t,122),function(e,t){Zx(e,8).setBigInt64(0,t,!1)}(t,n);break;case"object":if(null===n)Bx(t,126);else if(n instanceof Array){Bx(t,117),Nx(t,n.length);for(var r=0;r<n.length;r++)e(t,n[r])}else if(n instanceof Uint8Array)Bx(t,116),Kx(t,n);else{Bx(t,118);var i=Object.keys(n);Nx(t,i.length);for(var o=0;o<i.length;o++){var a=i[o];Ux(t,a),e(t,n[a])}}break;case"boolean":Bx(t,n?120:121);break;default:Bx(t,127)}var s},Xx=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this)).w=e,r.s=null,r.count=0,r}return k(n,[{key:"write",value:function(e){this.s===e?this.count++:(this.count>0&&Nx(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}]),n}(Dx),$x=function(e){e.count>0&&(Fx(e.encoder,1===e.count?e.s:-e.s),e.count>1&&Nx(e.encoder,e.count-2))},Gx=function(){function e(){S(this,e),this.encoder=new Dx,this.s=0,this.count=0}return k(e,[{key:"write",value:function(e){this.s===e?this.count++:($x(this),this.count=1,this.s=e)}},{key:"toUint8Array",value:function(){return $x(this),Lx(this.encoder)}}]),e}(),qx=function(e){if(e.count>0){var t=2*e.diff+(1===e.count?0:1);Fx(e.encoder,t),e.count>1&&Nx(e.encoder,e.count-2)}},Qx=function(){function e(){S(this,e),this.encoder=new Dx,this.s=0,this.count=0,this.diff=0}return k(e,[{key:"write",value:function(e){this.diff===e-this.s?(this.s=e,this.count++):(qx(this),this.count=1,this.diff=e-this.s,this.s=e)}},{key:"toUint8Array",value:function(){return qx(this),Lx(this.encoder)}}]),e}(),Jx=function(){function e(){S(this,e),this.sarr=[],this.s="",this.lensE=new Gx}return k(e,[{key:"write",value:function(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}},{key:"toUint8Array",value:function(){var e=new Dx;return this.sarr.push(this.s),this.s="",Ux(e,this.sarr.join("")),Vx(e,this.lensE.toUint8Array()),Lx(e)}}]),e}(),eI=k((function e(t){S(this,e),this.arr=t,this.pos=0})),tI=function(e){return new eI(e)},nI=function(e){return e.pos!==e.arr.length},rI=function(e,t){var n=_x(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},iI=function(e){return rI(e,aI(e))},oI=function(e){return e.arr[e.pos++]},aI=function(e){for(var t=0,n=1;;){var r=e.arr[e.pos++];if(t+=(r&Mx)*n,n*=128,r<Px)return t;if(t>Ox)throw new Error("Integer out of range!")}},sI=function(e){var t=e.arr[e.pos++],n=63&t,r=64,i=(t&Ix)>0?-1:1;if(0===(t&Px))return i*n;for(;;){if(n+=((t=e.arr[e.pos++])&Mx)*r,r*=128,t<Px)return i*n;if(n>Ox)throw new Error("Integer out of range!")}},uI=lx?function(e){return lx.decode(iI(e))}:function(e){var t=aI(e);if(0===t)return"";var n=String.fromCodePoint(oI(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(oI(e));else for(;t>0;){var r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))},lI=function(e,t){var n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},cI=[function(e){},function(e){return null},sI,function(e){return lI(e,4).getFloat32(0,!1)},function(e){return lI(e,8).getFloat64(0,!1)},function(e){return lI(e,8).getBigInt64(0,!1)},function(e){return!1},function(e){return!0},uI,function(e){for(var t=aI(e),n={},r=0;r<t;r++){n[uI(e)]=dI(e)}return n},function(e){for(var t=aI(e),n=[],r=0;r<t;r++)n.push(dI(e));return n},iI],dI=function(e){return cI[127-oI(e)](e)},fI=function(e){f(n,e);var t=g(n);function n(e,r){var i;return S(this,n),(i=t.call(this,e)).reader=r,i.s=null,i.count=0,i}return k(n,[{key:"read",value:function(){return 0===this.count&&(this.s=this.reader(this),nI(this)?this.count=aI(this)+1:this.count=-1),this.count--,this.s}}]),n}(eI),hI=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).s=0,r.count=0,r}return k(n,[{key:"read",value:function(){if(0===this.count){this.s=sI(this);var e=nx(this.s);this.count=1,e&&(this.s=-this.s,this.count=aI(this)+2)}return this.count--,this.s}}]),n}(eI),pI=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).s=0,r.count=0,r.diff=0,r}return k(n,[{key:"read",value:function(){if(0===this.count){var e=sI(this),t=1&e;this.diff=qE(e/2),this.count=1,t&&(this.count=aI(this)+2)}return this.s+=this.diff,this.count--,this.s}}]),n}(eI),vI=function(){function e(t){S(this,e),this.decoder=new hI(t),this.str=uI(this.decoder),this.spos=0}return k(e,[{key:"read",value:function(){var e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}]),e}(),gI=("undefined"===typeof window||"undefined"!==typeof window.performance&&window.performance,"undefined"===typeof crypto?null:crypto),mI=null!==gI?function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t);return gI.getRandomValues(n),t}:function(e){for(var t=new ArrayBuffer(e),n=new Uint8Array(t),r=0;r<e;r++)n[r]=Math.ceil(4294967295*Math.random()>>>0);return t},yI=Math.random,bI=function(){return new Uint32Array(mI(4))[0]},wI=[1e7]+-1e3+-4e3+-8e3+-1e11,kI=function(){return wI.replace(/[018]/g,(function(e){return(e^bI()&15>>e/4).toString(16)}))},SI=function(e){return new Error(e)},CI=function(){throw SI("Method unimplemented")},_I=function(){throw SI("Unexpected case")},EI=(Object.assign,Object.keys),xI=function(e){return EI(e).length},II=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},PI=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{for(;r<t.length;r++)t[r].apply(t,(0,c.Z)(n))}finally{r<t.length&&e(t,n,r+1)}},MI=function(){},TI=function e(t,n){if(null==t||null==n)return function(e,t){return e===t}(t,n);if(t.constructor!==n.constructor)return!1;if(t===n)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),n=new Uint8Array(n);case Uint8Array:if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;break;case Set:if(t.size!==n.size)return!1;var i,o=C(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!n.has(a))return!1}}catch(dR){o.e(dR)}finally{o.f()}break;case Map:if(t.size!==n.size)return!1;var s,u=C(t.keys());try{for(u.s();!(s=u.n()).done;){var l=s.value;if(!n.has(l)||!e(t.get(l),n.get(l)))return!1}}catch(dR){u.e(dR)}finally{u.f()}break;case Object:if(xI(t)!==xI(n))return!1;for(var c in t)if(!II(t,c)||!e(t[c],n[c]))return!1;break;case Array:if(t.length!==n.length)return!1;for(var d=0;d<t.length;d++)if(!e(t[d],n[d]))return!1;break;default:return!1}return!0},OI=Symbol,RI=k((function e(t,n){S(this,e),this.left=t,this.right=n})),DI=function(e,t){return new RI(e,t)},AI="undefined"!==typeof document?document:{},LI=("undefined"!==typeof DOMParser&&new DOMParser,function(e){return function(e,t){var n,r=[],i=C(e);try{for(i.s();!(n=i.n()).done;){var o=b(n.value,2),a=o[0],s=o[1];r.push(t(s,a))}}catch(dR){i.e(dR)}finally{i.f()}return r}(e,(function(e,t){return"".concat(t,":").concat(e,";")})).join("")}),BI=(AI.ELEMENT_NODE,AI.TEXT_NODE,AI.CDATA_SECTION_NODE,AI.COMMENT_NODE,AI.DOCUMENT_NODE,AI.DOCUMENT_TYPE_NODE,AI.DOCUMENT_FRAGMENT_NODE,Date.now),jI=OI(),NI=OI(),FI=OI(),zI=OI(),HI=OI(),UI=OI(),VI=OI(),KI=OI(),ZI=OI(),WI=(i(vx={},jI,DI("font-weight","bold")),i(vx,NI,DI("font-weight","normal")),i(vx,FI,DI("color","blue")),i(vx,HI,DI("color","green")),i(vx,zI,DI("color","grey")),i(vx,UI,DI("color","red")),i(vx,VI,DI("color","purple")),i(vx,KI,DI("color","orange")),i(vx,ZI,DI("color","black")),vx),YI=(i(gx={},jI,"\x1b[1m"),i(gx,NI,"\x1b[2m"),i(gx,FI,"\x1b[34m"),i(gx,HI,"\x1b[32m"),i(gx,zI,"\x1b[37m"),i(gx,UI,"\x1b[31m"),i(gx,VI,"\x1b[35m"),i(gx,KI,"\x1b[38;5;208m"),i(gx,ZI,"\x1b[0m"),gx),XI=yx?function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r],o=YI[i];if(void 0!==o)t.push(o);else{if(i.constructor!==String&&i.constructor!==Number)break;t.push(i)}}for(r>0&&(t.push("\x1b[0m"),n.push(t.join("")));r<e.length;r++){var a=e[r];a instanceof Symbol||n.push(a)}return n}:function(e){for(var t=[],n=[],r=VE(),i=[],o=0;o<e.length;o++){var a=e[o],s=WI[a];if(void 0!==s)r.set(s.left,s.right);else{if(a.constructor!==String&&a.constructor!==Number)break;var u=LI(r);o>0||u.length>0?(t.push("%c"+a),n.push(u)):t.push(a)}}for(o>0&&(i=n).unshift(t.join(""));o<e.length;o++){var l=e[o];l instanceof Symbol||i.push(l)}return i},$I=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,(0,c.Z)(XI(n))),GI.forEach((function(e){return e.print(n)}))},GI=new Set,qI=[HI,VI,KI,FI],QI=0,JI=BI(),eP=function(e){var t;return i(t={},Symbol.iterator,(function(){return this})),i(t,"next",e),t},tP=function(e,t){return eP((function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:t(i)}}))},nP=(0,m.Z)().mark(bM),rP=k((function e(t,n){S(this,e),this.clock=t,this.len=n})),iP=k((function e(){S(this,e),this.clients=new Map})),oP=function(e,t,n){return t.clients.forEach((function(t,r){for(var i=e.doc.store.clients.get(r),o=0;o<t.length;o++){var a=t[o];sM(e,i,a.clock,a.len,n)}}))},aP=function(e,t){var n=e.clients.get(t.client);return void 0!==n&&null!==function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=qE((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null}(n,t.clock)},sP=function(e){e.clients.forEach((function(e){var t,n;for(e.sort((function(e,t){return e.clock-t.clock})),t=1,n=1;t<e.length;t++){var r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=tx(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},uP=function(e){for(var t=new iP,n=function(n){e[n].clients.forEach((function(r,i){if(!t.clients.has(i)){for(var o=r.slice(),a=n+1;a<e.length;a++)XE(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}}))},r=0;r<e.length;r++)n(r);return sP(t),t},lP=function(e,t,n,r){ZE(e.clients,t,(function(){return[]})).push(new rP(n,r))},cP=function(){return new iP},dP=function(e){var t=cP();return e.clients.forEach((function(e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o.deleted){var a=o.id.clock,s=o.length;if(i+1<e.length)for(var u=e[i+1];i+1<e.length&&u.deleted;u=e[1+ ++i])s+=u.length;r.push(new rP(a,s))}}r.length>0&&t.clients.set(n,r)})),t},fP=function(e,t){Nx(e.restEncoder,t.clients.size),t.clients.forEach((function(t,n){e.resetDsCurVal(),Nx(e.restEncoder,n);var r=t.length;Nx(e.restEncoder,r);for(var i=0;i<r;i++){var o=t[i];e.writeDsClock(o.clock),e.writeDsLen(o.len)}}))},hP=function(e){for(var t=new iP,n=aI(e.restDecoder),r=0;r<n;r++){e.resetDsCurVal();var i=aI(e.restDecoder),o=aI(e.restDecoder);if(o>0)for(var a=ZE(t.clients,i,(function(){return[]})),s=0;s<o;s++)a.push(new rP(e.readDsClock(),e.readDsLen()))}return t},pP=function(e,t,n){for(var r=new iP,i=aI(e.restDecoder),o=0;o<i;o++){e.resetDsCurVal();for(var a=aI(e.restDecoder),s=aI(e.restDecoder),u=n.clients.get(a)||[],l=eM(n,a),c=0;c<s;c++){var d=e.readDsClock(),f=d+e.readDsLen();if(d<l){l<f&&lP(r,a,l,f-l);var h=nM(u,d),p=u[h];for(!p.deleted&&p.id.clock<d&&(u.splice(h+1,0,ZT(t,p,d-p.id.clock)),h++);h<u.length&&(p=u[h++]).id.clock<f;)p.deleted||(f<p.id.clock+p.length&&u.splice(h,0,ZT(t,p,f-p.id.clock)),p.delete(t))}else lP(r,a,d,f-d)}}if(r.clients.size>0){var v=new _P;return Nx(v.restEncoder,0),fP(v,r),v.toUint8Array()}return null},vP=bI,gP=function(e){f(n,e);var t=g(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.guid,o=void 0===i?kI():i,a=r.collectionid,s=void 0===a?null:a,u=r.gc,l=void 0===u||u,c=r.gcFilter,d=void 0===c?function(){return!0}:c,f=r.meta,h=void 0===f?null:f,p=r.autoLoad,v=void 0!==p&&p;return S(this,n),(e=t.call(this)).gc=l,e.gcFilter=d,e.clientID=vP(),e.guid=o,e.collectionid=s,e.share=new Map,e.store=new QP,e._transaction=null,e._transactionCleanups=[],e.subdocs=new Set,e._item=null,e.shouldLoad=v,e.autoLoad=v,e.meta=h,e}return k(n,[{key:"load",value:function(){var e=this,t=this._item;null===t||this.shouldLoad||vM(t.parent.doc,(function(t){t.subdocsLoaded.add(e)}),null,!0),this.shouldLoad=!0}},{key:"getSubdocs",value:function(){return this.subdocs}},{key:"getSubdocGuids",value:function(){return new Set(Array.from(this.subdocs).map((function(e){return e.guid})))}},{key:"transact",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;vM(this,e,t)}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NM,r=ZE(this.share,e,(function(){var e=new n;return e._integrate(t,null),e})),i=r.constructor;if(n!==NM&&i!==n){if(i===NM){var o=new n;o._map=r._map,r._map.forEach((function(e){for(;null!==e;e=e.left)e.parent=o})),o._start=r._start;for(var a=o._start;null!==a;a=a.right)a.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}throw new Error("Type with the name ".concat(e," has already been defined with a different constructor"))}return r}},{key:"getArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,tT)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,mT)}},{key:"getMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,rT)}},{key:"getXmlFragment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,bT)}},{key:"toJSON",value:function(){var e={};return this.share.forEach((function(t,n){e[n]=t.toJSON()})),e}},{key:"destroy",value:function(){var e=this;$E(this.subdocs).forEach((function(e){return e.destroy()}));var t=this._item;if(null!==t){this._item=null;var r=t.content;t.deleted?r.doc=null:(r.doc=new n(a({guid:this.guid},r.opts)),r.doc._item=t),vM(t.parent.doc,(function(n){t.deleted||n.subdocsAdded.add(r.doc),n.subdocsRemoved.add(e)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),Wr(h(n.prototype),"destroy",this).call(this)}},{key:"on",value:function(e,t){Wr(h(n.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){Wr(h(n.prototype),"off",this).call(this,e,t)}}]),n}(GE),mP=function(){function e(t){S(this,e),this.restDecoder=t}return k(e,[{key:"resetDsCurVal",value:function(){}},{key:"readDsClock",value:function(){return aI(this.restDecoder)}},{key:"readDsLen",value:function(){return aI(this.restDecoder)}}]),e}(),yP=function(e){f(n,e);var t=g(n);function n(){return S(this,n),t.apply(this,arguments)}return k(n,[{key:"readLeftID",value:function(){return ZP(aI(this.restDecoder),aI(this.restDecoder))}},{key:"readRightID",value:function(){return ZP(aI(this.restDecoder),aI(this.restDecoder))}},{key:"readClient",value:function(){return aI(this.restDecoder)}},{key:"readInfo",value:function(){return oI(this.restDecoder)}},{key:"readString",value:function(){return uI(this.restDecoder)}},{key:"readParentInfo",value:function(){return 1===aI(this.restDecoder)}},{key:"readTypeRef",value:function(){return aI(this.restDecoder)}},{key:"readLen",value:function(){return aI(this.restDecoder)}},{key:"readAny",value:function(){return dI(this.restDecoder)}},{key:"readBuf",value:function(){return function(e){var t=Cx(e.byteLength);return t.set(e),t}(iI(this.restDecoder))}},{key:"readJSON",value:function(){return JSON.parse(uI(this.restDecoder))}},{key:"readKey",value:function(){return uI(this.restDecoder)}}]),n}(mP),bP=function(){function e(t){S(this,e),this.dsCurrVal=0,this.restDecoder=t}return k(e,[{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"readDsClock",value:function(){return this.dsCurrVal+=aI(this.restDecoder),this.dsCurrVal}},{key:"readDsLen",value:function(){var e=aI(this.restDecoder)+1;return this.dsCurrVal+=e,e}}]),e}(),wP=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).keys=[],aI(e),r.keyClockDecoder=new pI(iI(e)),r.clientDecoder=new hI(iI(e)),r.leftClockDecoder=new pI(iI(e)),r.rightClockDecoder=new pI(iI(e)),r.infoDecoder=new fI(iI(e),oI),r.stringDecoder=new vI(iI(e)),r.parentInfoDecoder=new fI(iI(e),oI),r.typeRefDecoder=new hI(iI(e)),r.lenDecoder=new hI(iI(e)),r}return k(n,[{key:"readLeftID",value:function(){return new VP(this.clientDecoder.read(),this.leftClockDecoder.read())}},{key:"readRightID",value:function(){return new VP(this.clientDecoder.read(),this.rightClockDecoder.read())}},{key:"readClient",value:function(){return this.clientDecoder.read()}},{key:"readInfo",value:function(){return this.infoDecoder.read()}},{key:"readString",value:function(){return this.stringDecoder.read()}},{key:"readParentInfo",value:function(){return 1===this.parentInfoDecoder.read()}},{key:"readTypeRef",value:function(){return this.typeRefDecoder.read()}},{key:"readLen",value:function(){return this.lenDecoder.read()}},{key:"readAny",value:function(){return dI(this.restDecoder)}},{key:"readBuf",value:function(){return iI(this.restDecoder)}},{key:"readJSON",value:function(){return dI(this.restDecoder)}},{key:"readKey",value:function(){var e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];var t=this.stringDecoder.read();return this.keys.push(t),t}}]),n}(bP),kP=function(){function e(){S(this,e),this.restEncoder=Ax()}return k(e,[{key:"toUint8Array",value:function(){return Lx(this.restEncoder)}},{key:"resetDsCurVal",value:function(){}},{key:"writeDsClock",value:function(e){Nx(this.restEncoder,e)}},{key:"writeDsLen",value:function(e){Nx(this.restEncoder,e)}}]),e}(),SP=function(e){f(n,e);var t=g(n);function n(){return S(this,n),t.apply(this,arguments)}return k(n,[{key:"writeLeftID",value:function(e){Nx(this.restEncoder,e.client),Nx(this.restEncoder,e.clock)}},{key:"writeRightID",value:function(e){Nx(this.restEncoder,e.client),Nx(this.restEncoder,e.clock)}},{key:"writeClient",value:function(e){Nx(this.restEncoder,e)}},{key:"writeInfo",value:function(e){jx(this.restEncoder,e)}},{key:"writeString",value:function(e){Ux(this.restEncoder,e)}},{key:"writeParentInfo",value:function(e){Nx(this.restEncoder,e?1:0)}},{key:"writeTypeRef",value:function(e){Nx(this.restEncoder,e)}},{key:"writeLen",value:function(e){Nx(this.restEncoder,e)}},{key:"writeAny",value:function(e){Yx(this.restEncoder,e)}},{key:"writeBuf",value:function(e){Kx(this.restEncoder,e)}},{key:"writeJSON",value:function(e){Ux(this.restEncoder,JSON.stringify(e))}},{key:"writeKey",value:function(e){Ux(this.restEncoder,e)}}]),n}(kP),CP=function(){function e(){S(this,e),this.restEncoder=Ax(),this.dsCurrVal=0}return k(e,[{key:"toUint8Array",value:function(){return Lx(this.restEncoder)}},{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"writeDsClock",value:function(e){var t=e-this.dsCurrVal;this.dsCurrVal=e,Nx(this.restEncoder,t)}},{key:"writeDsLen",value:function(e){0===e&&_I(),Nx(this.restEncoder,e-1),this.dsCurrVal+=e}}]),e}(),_P=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),(e=t.call(this)).keyMap=new Map,e.keyClock=0,e.keyClockEncoder=new Qx,e.clientEncoder=new Gx,e.leftClockEncoder=new Qx,e.rightClockEncoder=new Qx,e.infoEncoder=new Xx(jx),e.stringEncoder=new Jx,e.parentInfoEncoder=new Xx(jx),e.typeRefEncoder=new Gx,e.lenEncoder=new Gx,e}return k(n,[{key:"toUint8Array",value:function(){var e=Ax();return Nx(e,0),Kx(e,this.keyClockEncoder.toUint8Array()),Kx(e,this.clientEncoder.toUint8Array()),Kx(e,this.leftClockEncoder.toUint8Array()),Kx(e,this.rightClockEncoder.toUint8Array()),Kx(e,Lx(this.infoEncoder)),Kx(e,this.stringEncoder.toUint8Array()),Kx(e,Lx(this.parentInfoEncoder)),Kx(e,this.typeRefEncoder.toUint8Array()),Kx(e,this.lenEncoder.toUint8Array()),Vx(e,Lx(this.restEncoder)),Lx(e)}},{key:"writeLeftID",value:function(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}},{key:"writeRightID",value:function(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}},{key:"writeClient",value:function(e){this.clientEncoder.write(e)}},{key:"writeInfo",value:function(e){this.infoEncoder.write(e)}},{key:"writeString",value:function(e){this.stringEncoder.write(e)}},{key:"writeParentInfo",value:function(e){this.parentInfoEncoder.write(e?1:0)}},{key:"writeTypeRef",value:function(e){this.typeRefEncoder.write(e)}},{key:"writeLen",value:function(e){this.lenEncoder.write(e)}},{key:"writeAny",value:function(e){Yx(this.restEncoder,e)}},{key:"writeBuf",value:function(e){Kx(this.restEncoder,e)}},{key:"writeJSON",value:function(e){Yx(this.restEncoder,e)}},{key:"writeKey",value:function(e){void 0===this.keyMap.get(e)?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}]),n}(CP),EP=function(e,t,n){var r=new Map;n.forEach((function(e,n){eM(t,n)>e&&r.set(n,e)})),JP(t).forEach((function(e,t){n.has(t)||r.set(t,0)})),Nx(e.restEncoder,r.size),Array.from(r.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(n){var r=b(n,2),i=r[0],o=r[1];!function(e,t,n,r){r=tx(r,t[0].id.clock);var i=nM(t,r);Nx(e.restEncoder,t.length-i),e.writeClient(n),Nx(e.restEncoder,r);var o=t[i];o.write(e,r-o.id.clock);for(var a=i+1;a<t.length;a++)t[a].write(e,0)}(e,t.clients.get(i),i,o)}))},xP=function(e,t){for(var n=VE(),r=aI(e.restDecoder),i=0;i<r;i++){var o=aI(e.restDecoder),a=new Array(o),s=e.readClient(),u=aI(e.restDecoder);n.set(s,{i:0,refs:a});for(var l=0;l<o;l++){var c=e.readInfo();switch(31&c){case 0:var d=e.readLen();a[l]=new ET(ZP(s,u),d),u+=d;break;case 10:var f=aI(e.restDecoder);a[l]=new GT(ZP(s,u),f),u+=f;break;default:var h=0===(192&c),p=new YT(ZP(s,u),null,(c&Px)===Px?e.readLeftID():null,null,(c&Ix)===Ix?e.readRightID():null,h?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,h&&32===(32&c)?e.readString():null,XT(e,c));a[l]=p,u+=p.length}}}return n},IP=function(e,t,n){var r=[],i=Array.from(n.keys()).sort((function(e,t){return e-t}));if(0===i.length)return null;var o=function(){if(0===i.length)return null;for(var e=n.get(i[i.length-1]);e.refs.length===e.i;){if(i.pop(),!(i.length>0))return null;e=n.get(i[i.length-1])}return e},a=o();if(null===a&&0===r.length)return null;for(var s=new QP,u=new Map,l=function(e,t){var n=u.get(e);(null==n||n>t)&&u.set(e,t)},c=a.refs[a.i++],d=new Map,f=function(){var e,t=C(r);try{var o=function(){var t=e.value,r=t.id.client,o=n.get(r);o?(o.i--,s.clients.set(r,o.refs.slice(o.i)),n.delete(r),o.i=0,o.refs=[]):s.clients.set(r,[t]),i=i.filter((function(e){return e!==r}))};for(t.s();!(e=t.n()).done;)o()}catch(dR){t.e(dR)}finally{t.f()}r.length=0};;){if(c.constructor!==GT){var h=ZE(d,c.id.client,(function(){return eM(t,c.id.client)}))-c.id.clock;if(h<0)r.push(c),l(c.id.client,c.id.clock-1),f();else{var p=c.getMissing(e,t);if(null!==p){r.push(c);var v=n.get(p)||{refs:[],i:0};if(v.refs.length!==v.i){c=v.refs[v.i++];continue}l(p,eM(t,p)),f()}else(0===h||h<c.length)&&(c.integrate(e,h),d.set(c.id.client,c.id.clock+c.length))}}if(r.length>0)c=r.pop();else if(null!==a&&a.i<a.refs.length)c=a.refs[a.i++];else{if(null===(a=o()))break;c=a.refs[a.i++]}}if(s.clients.size>0){var g=new _P;return EP(g,s,new Map),Nx(g.restEncoder,0),{missing:u,update:g.toUint8Array()}}return null},PP=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new wP(e);return vM(t,(function(e){e.local=!1;var t=!1,n=e.doc,i=n.store,o=xP(r,n),a=IP(e,i,o),s=i.pendingStructs;if(s){var u,l=C(s.missing);try{for(l.s();!(u=l.n()).done;){var c=b(u.value,2),d=c[0];if(c[1]<eM(i,d)){t=!0;break}}}catch(dR){l.e(dR)}finally{l.f()}if(a){var f,h=C(a.missing);try{for(h.s();!(f=h.n()).done;){var p=b(f.value,2),v=p[0],g=p[1],m=s.missing.get(v);(null==m||m>g)&&s.missing.set(v,g)}}catch(dR){h.e(dR)}finally{h.f()}s.update=_M([s.update,a.update])}}else i.pendingStructs=a;var y=pP(r,e,i);if(i.pendingDs){var w=new wP(tI(i.pendingDs));aI(w.restDecoder);var k=pP(w,e,i);i.pendingDs=y&&k?_M([y,k]):y||k}else i.pendingDs=y;if(t){var S=i.pendingStructs.update;i.pendingStructs=null,MP(e.doc,S)}}),n,!1)},MP=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wP,i=tI(t);PP(i,e,n,new r(i))},TP=function(e,t,n){return MP(e,t,n,yP)},OP=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;EP(e,t.store,n),fP(e,dP(t.store))},RP=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array([0]),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new _P,r=AP(t);OP(n,e,r);var i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(EM(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===SP)return SM(i.map((function(e,t){return 0===t?e:MM(e)})));if(n.constructor===_P)return _M(i)}return i[0]}(e,t,new SP)},DP=function(e){for(var t=new Map,n=aI(e.restDecoder),r=0;r<n;r++){var i=aI(e.restDecoder),o=aI(e.restDecoder);t.set(i,o)}return t},AP=function(e){return DP(new mP(tI(e)))},LP=function(e,t){return Nx(e.restEncoder,t.size),Array.from(t.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(t){var n=b(t,2),r=n[0],i=n[1];Nx(e.restEncoder,r),Nx(e.restEncoder,i)})),e},BP=function(e,t){return LP(e,JP(t.store))},jP=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new CP;return e instanceof Map?LP(t,e):BP(t,e),t.toUint8Array()}(e,new kP)},NP=k((function e(){S(this,e),this.l=[]})),FP=function(){return new NP},zP=function(e,t){return e.l.push(t)},HP=function(e,t){var n=e.l,r=n.length;e.l=n.filter((function(e){return t!==e})),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},UP=function(e,t,n){return PI(e.l,[t,n])},VP=k((function e(t,n){S(this,e),this.client=t,this.clock=n})),KP=function(e,t){return e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock},ZP=function(e,t){return new VP(e,t)},WP=function(e){var t,n=C(e.doc.share.entries());try{for(n.s();!(t=n.n()).done;){var r=b(t.value,2),i=r[0];if(r[1]===e)return i}}catch(dR){n.e(dR)}finally{n.f()}throw _I()},YP=function(e,t){for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1},XP=k((function e(t,n){S(this,e),this.ds=t,this.sv=n})),$P=function(e,t){return new XP(e,t)},GP=($P(cP(),new Map),function(e,t){return void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!aP(t.ds,e.id)}),qP=function e(t,n){var r=ZE(t.meta,e,WE),i=t.doc.store;r.has(n)||(n.sv.forEach((function(e,n){e<eM(i,n)&&oM(t,ZP(n,e))})),oP(t,n.ds,(function(e){})),r.add(n))},QP=k((function e(){S(this,e),this.clients=new Map,this.pendingStructs=null,this.pendingDs=null})),JP=function(e){var t=new Map;return e.clients.forEach((function(e,n){var r=e[e.length-1];t.set(n,r.id.clock+r.length)})),t},eM=function(e,t){var n=e.clients.get(t);if(void 0===n)return 0;var r=n[n.length-1];return r.id.clock+r.length},tM=function(e,t){var n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{var r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw _I()}n.push(t)},nM=function(e,t){var n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;for(var a=qE(t/(o+i.length-1)*r);n<=r;){if((o=(i=e[a]).id.clock)<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=qE((n+r)/2)}throw _I()},rM=function(e,t){var n=e.clients.get(t.client);return n[nM(n,t.clock)]},iM=function(e,t,n){var r=nM(t,n),i=t[r];return i.id.clock<n&&i instanceof YT?(t.splice(r+1,0,ZT(e,i,n-i.id.clock)),r+1):r},oM=function(e,t){var n=e.doc.store.clients.get(t.client);return n[iM(e,n,t.clock)]},aM=function(e,t,n){var r=t.clients.get(n.client),i=nM(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==ET&&r.splice(i+1,0,ZT(e,o,n.clock-o.id.clock+1)),o},sM=function(e,t,n,r,i){if(0!==r){var o,a=n+r,s=iM(e,t,n);do{a<(o=t[s++]).id.clock+o.length&&iM(e,t,a),i(o)}while(s<t.length&&t[s].id.clock<a)}},uM=k((function e(t,n,r){S(this,e),this.doc=t,this.deleteSet=new iP,this.beforeState=JP(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set})),lM=function(e,t){return!(0===t.deleteSet.clients.size&&!function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=b(n.value,2),o=i[0];if(t(i[1],o))return!0}}catch(dR){r.e(dR)}finally{r.f()}return!1}(t.afterState,(function(e,n){return t.beforeState.get(n)!==e})))&&(sP(t.deleteSet),function(e,t){EP(e,t.doc.store,t.beforeState)}(e,t),fP(e,t.deleteSet),!0)},cM=function(e,t,n){var r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&ZE(e.changed,t,WE).add(n)},dM=function(e,t){var n=e[t-1],r=e[t];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(e.splice(t,1),r instanceof YT&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},fM=function(e,t,n){var r,i=C(e.clients.entries());try{for(i.s();!(r=i.n()).done;)for(var o=b(r.value,2),a=o[0],s=o[1],u=t.clients.get(a),l=s.length-1;l>=0;l--)for(var c=s[l],d=c.clock+c.len,f=nM(u,c.clock),h=u[f];f<u.length&&h.id.clock<d;h=u[++f]){var p=u[f];if(c.clock+c.len<=p.id.clock)break;p instanceof YT&&p.deleted&&!p.keep&&n(p)&&p.gc(t,!1)}}catch(dR){i.e(dR)}finally{i.f()}},hM=function(e,t){e.clients.forEach((function(e,n){for(var r=t.clients.get(n),i=e.length-1;i>=0;i--)for(var o=e[i],a=ex(r.length-1,1+nM(r,o.clock+o.len-1)),s=r[a];a>0&&s.id.clock>=o.clock;s=r[--a])dM(r,a)}))},pM=function e(t,n){if(n<t.length){var r=t[n],i=r.doc,o=i.store,a=r.deleteSet,s=r._mergeStructs;try{sP(a),r.afterState=JP(r.doc.store),i._transaction=null,i.emit("beforeObserverCalls",[r,i]);var u=[];r.changed.forEach((function(e,t){return u.push((function(){null!==t._item&&t._item.deleted||t._callObserver(r,e)}))})),u.push((function(){r.changedParentTypes.forEach((function(e,t){return u.push((function(){null!==t._item&&t._item.deleted||((e=e.filter((function(e){return null===e.target._item||!e.target._item.deleted}))).forEach((function(e){e.currentTarget=t})),e.sort((function(e,t){return e.path.length-t.path.length})),UP(t._dEH,e,r))}))})),u.push((function(){return i.emit("afterTransaction",[r,i])}))})),PI(u,[])}finally{i.gc&&fM(a,o,i.gcFilter),hM(a,o),r.afterState.forEach((function(e,t){var n=r.beforeState.get(t)||0;if(n!==e)for(var i=o.clients.get(t),a=tx(nM(i,n),1),s=i.length-1;s>=a;s--)dM(i,s)}));for(var l=0;l<s.length;l++){var c=s[l].id,d=c.client,f=c.clock,h=o.clients.get(d),p=nM(h,f);p+1<h.length&&dM(h,p+1),p>0&&dM(h,p)}if(r.local||r.afterState.get(i.clientID)===r.beforeState.get(i.clientID)||(i.clientID=vP(),$I(KI,jI,"[yjs] ",NI,UI,"Changed the client-id because another client seems to be using it.")),i.emit("afterTransactionCleanup",[r,i]),i._observers.has("update")){var v=new SP;lM(v,r)&&i.emit("update",[v.toUint8Array(),r.origin,i,r])}if(i._observers.has("updateV2")){var g=new _P;lM(g,r)&&i.emit("updateV2",[g.toUint8Array(),r.origin,i,r])}var m=r.subdocsAdded,y=r.subdocsLoaded,b=r.subdocsRemoved;(m.size>0||b.size>0||y.size>0)&&(m.forEach((function(e){e.clientID=i.clientID,null==e.collectionid&&(e.collectionid=i.collectionid),i.subdocs.add(e)})),b.forEach((function(e){return i.subdocs.delete(e)})),i.emit("subdocs",[{loaded:y,added:m,removed:b},i,r]),b.forEach((function(e){return e.destroy()}))),t.length<=n+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,t])):e(t,n+1)}}},vM=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e._transactionCleanups,o=!1;null===e._transaction&&(o=!0,e._transaction=new uM(e,n,r),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{o&&i[0]===e._transaction&&pM(i,0)}},gM=k((function e(t,n){S(this,e),this.insertions=n,this.deletions=t,this.meta=new Map})),mM=function(e,t,n){var r=null,i=null,o=e.doc,a=e.scope;if(vM(o,(function(n){for(var s=function(){var i=o.store,s=t.pop(),u=new Set,l=[],c=!1;oP(n,s.insertions,(function(e){if(e instanceof YT){if(null!==e.redone){var t=VT(i,e.id),r=t.item,o=t.diff;o>0&&(r=oM(n,ZP(r.id.client,r.id.clock+o))),e=r}!e.deleted&&a.some((function(t){return YP(t,e)}))&&l.push(e)}})),oP(n,s.deletions,(function(e){e instanceof YT&&a.some((function(t){return YP(t,e)}))&&!aP(s.insertions,e.id)&&u.add(e)})),u.forEach((function(e){c=null!==WT(n,e,u,l)||c}));for(var d=l.length-1;d>=0;d--){var f=l[d];e.deleteFilter(f)&&(f.delete(n),c=!0)}r=c?s:null};t.length>0&&null===r;)s();n.changed.forEach((function(e,t){e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)})),i=n}),e),null!=r){var s=i.changedParentTypes;e.emit("stack-item-popped",[{stackItem:r,type:n,changedParentTypes:s},e])}return r},yM=function(e){f(n,e);var t=g(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.captureTimeout,a=void 0===o?500:o,s=i.deleteFilter,u=void 0===s?function(){return!0}:s,l=i.trackedOrigins,c=void 0===l?new Set([null]):l;return S(this,n),(r=t.call(this)).scope=e instanceof Array?e:[e],r.deleteFilter=u,c.add(d(r)),r.trackedOrigins=c,r.undoStack=[],r.redoStack=[],r.undoing=!1,r.redoing=!1,r.doc=r.scope[0].doc,r.lastChange=0,r.doc.on("afterTransaction",(function(e){if(r.scope.some((function(t){return e.changedParentTypes.has(t)}))&&(r.trackedOrigins.has(e.origin)||e.origin&&r.trackedOrigins.has(e.origin.constructor))){var t=r.undoing,n=r.redoing,i=t?r.redoStack:r.undoStack;t?r.stopCapturing():n||(r.redoStack=[]);var o=new iP;e.afterState.forEach((function(t,n){var r=e.beforeState.get(n)||0,i=t-r;i>0&&lP(o,n,r,i)}));var s=BI();if(s-r.lastChange<a&&i.length>0&&!t&&!n){var u=i[i.length-1];u.deletions=uP([u.deletions,e.deleteSet]),u.insertions=uP([u.insertions,o])}else i.push(new gM(e.deleteSet,o));t||n||(r.lastChange=s),oP(e,e.deleteSet,(function(e){e instanceof YT&&r.scope.some((function(t){return YP(t,e)}))&&KT(e,!0)})),r.emit("stack-item-added",[{stackItem:i[i.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},d(r)])}})),r}return k(n,[{key:"clear",value:function(){var e=this;this.doc.transact((function(t){var n=function(n){oP(t,n.deletions,(function(t){t instanceof YT&&e.scope.some((function(e){return YP(e,t)}))&&KT(t,!1)}))};e.undoStack.forEach(n),e.redoStack.forEach(n)})),this.undoStack=[],this.redoStack=[]}},{key:"stopCapturing",value:function(){this.lastChange=0}},{key:"undo",value:function(){var e;this.undoing=!0;try{e=mM(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}},{key:"redo",value:function(){var e;this.redoing=!0;try{e=mM(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}}]),n}(GE);function bM(e){var t,n,r,i,o,a,s,u,l,c,d;return(0,m.Z)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:t=aI(e.restDecoder),n=0;case 2:if(!(n<t)){f.next=34;break}r=aI(e.restDecoder),i=e.readClient(),o=aI(e.restDecoder),a=0;case 7:if(!(a<r)){f.next=31;break}if(10!==(s=e.readInfo())){f.next=16;break}return u=aI(e.restDecoder),f.next=13,new GT(ZP(i,o),u);case 13:o+=u,f.next=28;break;case 16:if(0===(31&s)){f.next=24;break}return l=0===(192&s),c=new YT(ZP(i,o),null,(s&Px)===Px?e.readLeftID():null,null,(s&Ix)===Ix?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&32===(32&s)?e.readString():null,XT(e,s)),f.next=21,c;case 21:o+=c.length,f.next=28;break;case 24:return d=e.readLen(),f.next=27,new ET(ZP(i,o),d);case 27:o+=d;case 28:a++,f.next=7;break;case 31:n++,f.next=2;break;case 34:case"end":return f.stop()}}),nP)}var wM=function(){function e(t,n){S(this,e),this.gen=bM(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}return k(e,[{key:"next",value:function(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===GT);return this.curr}}]),e}(),kM=k((function e(t){S(this,e),this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]})),SM=function(e){return _M(e,yP,SP)},CM=function(e,t){if(e.constructor===ET){var n=e.id,r=n.client,i=n.clock;return new ET(ZP(r,i+t),e.length-t)}if(e.constructor===GT){var o=e.id,a=o.client,s=o.clock;return new GT(ZP(a,s+t),e.length-t)}var u=e,l=u.id,c=l.client,d=l.clock;return new YT(ZP(c,d+t),null,ZP(c,d+t-1),null,u.rightOrigin,u.parent,u.parentSub,u.content.splice(t))},_M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_P;if(1===e.length)return e[0];for(var r=e.map((function(e){return new t(tI(e))})),i=r.map((function(e){return new wM(e,!0)})),o=null,a=new n,s=new kM(a);(i=i.filter((function(e){return null!==e.curr}))).sort((function(e,t){if(e.curr.id.client===t.curr.id.client){var n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===GT?1:-1:n}return t.curr.id.client-e.curr.id.client})),0!==i.length;){var u=i[0],l=u.curr.id.client;if(null!==o){for(var c=u.curr,d=!1;null!==c&&c.id.clock+c.length<=o.struct.id.clock+o.struct.length&&c.id.client>=o.struct.id.client;)c=u.next(),d=!0;if(null===c||c.id.client!==l||d&&c.id.clock>o.struct.id.clock+o.struct.length)continue;if(l!==o.struct.id.client)IM(s,o.struct,o.offset),o={struct:c,offset:0},u.next();else if(o.struct.id.clock+o.struct.length<c.id.clock)if(o.struct.constructor===GT)o.struct.length=c.id.clock+c.length-o.struct.id.clock;else{IM(s,o.struct,o.offset);var f=c.id.clock-o.struct.id.clock-o.struct.length,h=new GT(ZP(l,o.struct.id.clock+o.struct.length),f);o={struct:h,offset:0}}else{var p=o.struct.id.clock+o.struct.length-c.id.clock;p>0&&(o.struct.constructor===GT?o.struct.length-=p:c=CM(c,p)),o.struct.mergeWith(c)||(IM(s,o.struct,o.offset),o={struct:c,offset:0},u.next())}}else o={struct:u.curr,offset:0},u.next();for(var v=u.curr;null!==v&&v.id.client===l&&v.id.clock===o.struct.id.clock+o.struct.length&&v.constructor!==GT;v=u.next())IM(s,o.struct,o.offset),o={struct:v,offset:0}}null!==o&&(IM(s,o.struct,o.offset),o=null),PM(s);var g=r.map((function(e){return hP(e)})),m=uP(g);return fP(a,m),a.toUint8Array()},EM=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wP,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_P,i=AP(t),o=new r,a=new kM(o),s=new n(tI(e)),u=new wM(s,!1);u.curr;){var l=u.curr,c=l.id.client,d=i.get(c)||0;if(u.curr.constructor!==GT)if(l.id.clock+l.length>d)for(IM(a,l,tx(d-l.id.clock,0)),u.next();u.curr&&u.curr.id.client===c;)IM(a,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===c&&u.curr.id.clock+u.curr.length<=d;)u.next();else u.next()}PM(a);var f=hP(s);return fP(o,f),o.toUint8Array()},xM=function(e){e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:Lx(e.encoder.restEncoder)}),e.encoder.restEncoder=Ax(),e.written=0)},IM=function(e,t,n){e.written>0&&e.currClient!==t.id.client&&xM(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),Nx(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},PM=function(e){xM(e);var t=e.encoder.restEncoder;Nx(t,e.clientStructs.length);for(var n=0;n<e.clientStructs.length;n++){var r=e.clientStructs[n];Nx(t,r.written),Vx(t,r.restEncoder)}},MM=function(e){return function(e,t,n){for(var r=new t(tI(e)),i=new wM(r,!1),o=new n,a=new kM(o),s=i.curr;null!==s;s=i.next())IM(a,s,0);PM(a);var u=hP(r);return fP(o,u),o.toUint8Array()}(e,wP,SP)},TM=function(){function e(t,n){S(this,e),this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null}return k(e,[{key:"path",get:function(){return OM(this.currentTarget,this.target)}},{key:"deletes",value:function(e){return aP(this.transaction.deleteSet,e.id)}},{key:"keys",get:function(){var e=this;if(null===this._keys){var t=new Map,n=this.target;this.transaction.changed.get(n).forEach((function(r){if(null!==r){var i,o,a=n._map.get(r);if(e.adds(a)){for(var s=a.left;null!==s&&e.adds(s);)s=s.left;if(e.deletes(a)){if(null===s||!e.deletes(s))return;i="delete",o=YE(s.content.getContent())}else null!==s&&e.deletes(s)?(i="update",o=YE(s.content.getContent())):(i="add",o=void 0)}else{if(!e.deletes(a))return;i="delete",o=YE(a.content.getContent())}t.set(r,{action:i,oldValue:o})}})),this._keys=t}return this._keys}},{key:"delta",get:function(){return this.changes.delta}},{key:"adds",value:function(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}},{key:"changes",get:function(){var e=this._changes;if(null===e){var t=this.target,n=WE(),r=WE(),i=[];if(e={added:n,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){for(var o=null,a=function(){o&&i.push(o)},s=t._start;null!==s;s=s.right)s.deleted?this.deletes(s)&&!this.adds(s)&&(null!==o&&void 0!==o.delete||(a(),o={delete:0}),o.delete+=s.length,r.add(s)):this.adds(s)?(null!==o&&void 0!==o.insert||(a(),o={insert:[]}),o.insert=o.insert.concat(s.content.getContent()),n.add(s)):(null!==o&&void 0!==o.retain||(a(),o={retain:0}),o.retain+=s.length);null!==o&&void 0===o.retain&&a()}this._changes=e}return e}}]),e}(),OM=function(e,t){for(var n=[];null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{for(var r=0,i=t._item.parent._start;i!==t._item&&null!==i;)i.deleted||r++,i=i.right;n.unshift(r)}t=t._item.parent}return n},RM=0,DM=k((function e(t,n){S(this,e),t.marker=!0,this.p=t,this.index=n,this.timestamp=RM++})),AM=function(e,t,n){e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=RM++},LM=function(e,t){if(null===e._start||0===t||null===e._searchMarker)return null;var n=0===e._searchMarker.length?null:e._searchMarker.reduce((function(e,n){return QE(t-e.index)<QE(t-n.index)?e:n})),r=e._start,i=0;for(null!==n&&(r=n.p,i=n.index,function(e){e.timestamp=RM++}(n));null!==r.right&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;null!==r.left&&i>t;)!(r=r.left).deleted&&r.countable&&(i-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)!(r=r.left).deleted&&r.countable&&(i-=r.length);return null!==n&&QE(n.index-i)<r.parent.length/80?(AM(n,r,i),n):function(e,t,n){if(e.length>=80){var r=e.reduce((function(e,t){return e.timestamp<t.timestamp?e:t}));return AM(r,t,n),r}var i=new DM(t,n);return e.push(i),i}(e._searchMarker,r,i)},BM=function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(n>0){var o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)(o=o.left)&&!o.deleted&&o.countable&&(i.index-=o.length);if(null===o||!0===o.marker){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=tx(t,i.index+n))}},jM=function(e,t,n){for(var r=e,i=t.changedParentTypes;ZE(i,e,(function(){return[]})).push(n),null!==e._item;)e=e._item.parent;UP(r._eH,n,t)},NM=function(){function e(){S(this,e),this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=FP(),this._dEH=FP(),this._searchMarker=null}return k(e,[{key:"parent",get:function(){return this._item?this._item.parent:null}},{key:"_integrate",value:function(e,t){this.doc=e,this._item=t}},{key:"_copy",value:function(){throw CI()}},{key:"clone",value:function(){throw CI()}},{key:"_write",value:function(e){}},{key:"_first",get:function(){for(var e=this._start;null!==e&&e.deleted;)e=e.right;return e}},{key:"_callObserver",value:function(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}},{key:"observe",value:function(e){zP(this._eH,e)}},{key:"observeDeep",value:function(e){zP(this._dEH,e)}},{key:"unobserve",value:function(e){HP(this._eH,e)}},{key:"unobserveDeep",value:function(e){HP(this._dEH,e)}},{key:"toJSON",value:function(){}}]),e}(),FM=function(e,t,n){t<0&&(t=e._length+t),n<0&&(n=e._length+n);for(var r=n-t,i=[],o=e._start;null!==o&&r>0;){if(o.countable&&!o.deleted){var a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(var s=t;s<a.length&&r>0;s++)i.push(a[s]),r--;t=0}}o=o.right}return i},zM=function(e){for(var t=[],n=e._start;null!==n;){if(n.countable&&!n.deleted)for(var r=n.content.getContent(),i=0;i<r.length;i++)t.push(r[i]);n=n.right}return t},HM=function(e,t){for(var n=0,r=e._start;null!==r;){if(r.countable&&!r.deleted)for(var i=r.content.getContent(),o=0;o<i.length;o++)t(i[o],n++,e);r=r.right}},UM=function(e,t){var n=[];return HM(e,(function(r,i){n.push(t(r,i,e))})),n},VM=function(e,t){var n=LM(e,t),r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},KM=function(e,t,n,r){var i=n,o=e.doc,a=o.clientID,s=o.store,u=null===n?t._start:n.right,l=[],c=function(){l.length>0&&((i=new YT(ZP(a,eM(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new RT(l))).integrate(e,0),l=[])};r.forEach((function(n){if(null===n)l.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(n);break;default:switch(c(),n.constructor){case Uint8Array:case ArrayBuffer:(i=new YT(ZP(a,eM(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new xT(new Uint8Array(n)))).integrate(e,0);break;case gP:(i=new YT(ZP(a,eM(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new PT(n))).integrate(e,0);break;default:if(!(n instanceof NM))throw new Error("Unexpected content type in insert operation");(i=new YT(ZP(a,eM(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new UT(n))).integrate(e,0)}}})),c()},ZM=SI("Length exceeded!"),WM=function(e,t,n,r){if(n>t._length)throw ZM;if(0===n)return t._searchMarker&&BM(t._searchMarker,n,r.length),KM(e,t,null,r);var i=n,o=LM(t,n),a=t._start;for(null!==o&&(a=o.p,0===(n-=o.index)&&(n+=(a=a.prev)&&a.countable&&!a.deleted?a.length:0));null!==a;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&oM(e,ZP(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&BM(t._searchMarker,i,r.length),KM(e,t,a,r)},YM=function(e,t,n,r){if(0!==r){var i=n,o=r,a=LM(t,n),s=t._start;for(null!==a&&(s=a.p,n-=a.index);null!==s&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&oM(e,ZP(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&null!==s;)s.deleted||(r<s.length&&oM(e,ZP(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw ZM;t._searchMarker&&BM(t._searchMarker,i,-o+r)}},XM=function(e,t,n){var r=t._map.get(n);void 0!==r&&r.delete(e)},$M=function(e,t,n,r){var i,o=t._map.get(n)||null,a=e.doc,s=a.clientID;if(null==r)i=new RT([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:i=new RT([r]);break;case Uint8Array:i=new xT(r);break;case gP:i=new PT(r);break;default:if(!(r instanceof NM))throw new Error("Unexpected content type");i=new UT(r)}new YT(ZP(s,eM(a.store,s)),o,o&&o.lastId,null,null,t,n,i).integrate(e,0)},GM=function(e,t){var n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},qM=function(e){var t={};return e._map.forEach((function(e,n){e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},QM=function(e,t){var n=e._map.get(t);return void 0!==n&&!n.deleted},JM=function(e){return function(e,t){return eP((function(){var n;do{n=e.next()}while(!n.done&&!t(n.value));return n}))}(e.entries(),(function(e){return!e[1].deleted}))},eT=function(e){f(n,e);var t=g(n);function n(e,r){var i;return S(this,n),(i=t.call(this,e,r))._transaction=r,i}return k(n)}(TM),tT=function(e,t){f(r,e);var n=g(r);function r(){var e;return S(this,r),(e=n.call(this))._prelimContent=[],e._searchMarker=[],e}return k(r,[{key:"_integrate",value:function(e,t){Wr(h(r.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.insert(0,this.toArray().map((function(e){return e instanceof NM?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"_callObserver",value:function(e,t){Wr(h(r.prototype),"_callObserver",this).call(this,e,t),jM(this,e,new eT(this,e))}},{key:"insert",value:function(e,t){var n,r=this;null!==this.doc?vM(this.doc,(function(n){WM(n,r,e,t)})):(n=this._prelimContent).splice.apply(n,[e,0].concat((0,c.Z)(t)))}},{key:"push",value:function(e){this.insert(this.length,e)}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?vM(this.doc,(function(r){YM(r,t,e,n)})):this._prelimContent.splice(e,n)}},{key:"get",value:function(e){return VM(this,e)}},{key:"toArray",value:function(){return zM(this)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return FM(this,e,t)}},{key:"toJSON",value:function(){return this.map((function(e){return e instanceof NM?e.toJSON():e}))}},{key:"map",value:function(e){return UM(this,e)}},{key:"forEach",value:function(e){HM(this,e)}},{key:t,value:function(){return function(e){var t,n=e._start,r=null,o=0;return i(t={},Symbol.iterator,(function(){return this})),i(t,"next",(function(){if(null===r){for(;null!==n&&n.deleted;)n=n.right;if(null===n)return{done:!0,value:void 0};r=n.content.getContent(),o=0,n=n.right}var e=r[o++];return r.length<=o&&(r=null),{done:!1,value:e}})),t}(this)}},{key:"_write",value:function(e){e.writeTypeRef(LT)}}],[{key:"from",value:function(e){var t=new r;return t.push(e),t}}]),r}(NM,Symbol.iterator),nT=function(e){f(n,e);var t=g(n);function n(e,r,i){var o;return S(this,n),(o=t.call(this,e,r)).keysChanged=i,o}return k(n)}(TM),rT=function(e,t){f(r,e);var n=g(r);function r(e){var t;return S(this,r),(t=n.call(this))._prelimContent=null,t._prelimContent=void 0===e?new Map:new Map(e),t}return k(r,[{key:"_integrate",value:function(e,t){var n=this;Wr(h(r.prototype),"_integrate",this).call(this,e,t),this._prelimContent.forEach((function(e,t){n.set(t,e)})),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return this.forEach((function(t,n){e.set(n,t instanceof NM?t.clone():t)})),e}},{key:"_callObserver",value:function(e,t){jM(this,e,new nT(this,e,t))}},{key:"toJSON",value:function(){var e={};return this._map.forEach((function(t,n){if(!t.deleted){var r=t.content.getContent()[t.length-1];e[n]=r instanceof NM?r.toJSON():r}})),e}},{key:"size",get:function(){return(0,c.Z)(JM(this._map)).length}},{key:"keys",value:function(){return tP(JM(this._map),(function(e){return e[0]}))}},{key:"values",value:function(){return tP(JM(this._map),(function(e){return e[1].content.getContent()[e[1].length-1]}))}},{key:"entries",value:function(){return tP(JM(this._map),(function(e){return[e[0],e[1].content.getContent()[e[1].length-1]]}))}},{key:"forEach",value:function(e){var t=this;return this._map.forEach((function(n,r){n.deleted||e(n.content.getContent()[n.length-1],r,t)})),{}}},{key:t,value:function(){return this.entries()}},{key:"delete",value:function(e){var t=this;null!==this.doc?vM(this.doc,(function(n){XM(n,t,e)})):this._prelimContent.delete(e)}},{key:"set",value:function(e,t){var n=this;return null!==this.doc?vM(this.doc,(function(r){$M(r,n,e,t)})):this._prelimContent.set(e,t),t}},{key:"get",value:function(e){return GM(this,e)}},{key:"has",value:function(e){return QM(this,e)}},{key:"clear",value:function(){var e=this;null!==this.doc?vM(this.doc,(function(t){e.forEach((function(e,n,r){XM(t,r,n)}))})):this._prelimContent.clear()}},{key:"_write",value:function(e){e.writeTypeRef(BT)}}]),r}(NM,Symbol.iterator),iT=function(e,t){return e===t||"object"===typeof e&&"object"===typeof t&&e&&t&&function(e,t){return e===t||xI(e)===xI(t)&&function(e,t){for(var n in e)if(!t(e[n],n))return!1;return!0}(e,(function(e,n){return(void 0!==e||II(t,n))&&t[n]===e}))}(e,t)},oT=function(){function e(t,n,r,i){S(this,e),this.left=t,this.right=n,this.index=r,this.currentAttributes=i}return k(e,[{key:"forward",value:function(){if(null===this.right&&_I(),this.right.content.constructor===TT)this.right.deleted||lT(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}]),e}(),aT=function(e,t,n){for(;null!==t.right&&n>0;){if(t.right.content.constructor===TT)t.right.deleted||lT(t.currentAttributes,t.right.content);else t.right.deleted||(n<t.right.length&&oM(e,ZP(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);t.left=t.right,t.right=t.right.right}return t},sT=function(e,t,n){var r=new Map,i=LM(t,n);if(i){var o=new oT(i.p.left,i.p,i.index,r);return aT(e,o,n-i.index)}var a=new oT(null,t._start,0,r);return aT(e,a,n)},uT=function(e,t,n,r){for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===TT&&iT(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();var i=e.doc,o=i.clientID;r.forEach((function(r,a){var s=n.left,u=n.right,l=new YT(ZP(o,eM(i.store,o)),s,s&&s.lastId,u,u&&u.id,t,null,new TT(a,r));l.integrate(e,0),n.right=l,n.forward()}))},lT=function(e,t){var n=t.key,r=t.value;null===r?e.delete(n):e.set(n,r)},cT=function(e,t){for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===TT&&iT(t[e.right.content.key]||null,e.right.content.value));)e.forward()},dT=function(e,t,n,r){var i=e.doc,o=i.clientID,a=new Map;for(var s in r){var u=r[s],l=n.currentAttributes.get(s)||null;if(!iT(l,u)){a.set(s,l);var c=n.left,d=n.right;n.right=new YT(ZP(o,eM(i.store,o)),c,c&&c.lastId,d,d&&d.id,t,null,new TT(s,u)),n.right.integrate(e,0),n.forward()}}return a},fT=function(e,t,n,r,i){n.currentAttributes.forEach((function(e,t){void 0===i[t]&&(i[t]=null)}));var o=e.doc,a=o.clientID;cT(n,i);var s=dT(e,t,n,i),u=r.constructor===String?new DT(r):r instanceof NM?new UT(r):new MT(r),l=n.left,c=n.right,d=n.index;t._searchMarker&&BM(t._searchMarker,n.index,u.getLength()),(c=new YT(ZP(a,eM(o.store,a)),l,l&&l.lastId,c,c&&c.id,t,null,u)).integrate(e,0),n.right=c,n.index=d,n.forward(),uT(e,t,n,s)},hT=function(e,t,n,r,i){var o=e.doc,a=o.clientID;cT(n,i);for(var s=dT(e,t,n,i);r>0&&null!==n.right;){if(!n.right.deleted)if(n.right.content.constructor===TT){var u=n.right.content,l=u.key,c=u.value,d=i[l];void 0!==d&&(iT(d,c)?s.delete(l):s.set(l,c),n.right.delete(e))}else r<n.right.length&&oM(e,ZP(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;n.forward()}if(r>0){for(var f="";r>0;r--)f+="\n";n.right=new YT(ZP(a,eM(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new DT(f)),n.right.integrate(e,0),n.forward()}uT(e,t,n,s)},pT=function(e,t,n,r,i){for(;n&&(!n.countable||n.deleted);)n.deleted||n.content.constructor!==TT||lT(i,n.content),n=n.right;for(var o=0;t!==n;){if(!t.deleted){var a=t.content;if(a.constructor===TT){var s=a.key,u=a.value;(i.get(s)||null)===u&&(r.get(s)||null)!==u||(t.delete(e),o++)}}t=t.right}return o},vT=function(e,t,n){for(var r=n,i=KE(t.currentAttributes),o=t.right;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case UT:case MT:case DT:n<t.right.length&&oM(e,ZP(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}o&&pT(e,o,t.right,i,KE(t.currentAttributes));var a=(t.left||t.right).parent;return a._searchMarker&&BM(a._searchMarker,t.index,-r+n),t},gT=function(e){f(n,e);var t=g(n);function n(e,r,i){var o;return S(this,n),(o=t.call(this,e,r)).childListChanged=!1,o.keysChanged=new Set,i.forEach((function(e){null===e?o.childListChanged=!0:o.keysChanged.add(e)})),o}return k(n,[{key:"changes",get:function(){if(null===this._changes){var e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}},{key:"delta",get:function(){var e=this;if(null===this._delta){var t=this.target.doc,n=[];vM(t,(function(t){for(var r=new Map,i=new Map,o=e.target._start,a=null,s={},u="",l=0,c=0,d=function(){if(null!==a){var e;switch(a){case"delete":e={delete:c},c=0;break;case"insert":e={insert:u},r.size>0&&(e.attributes={},r.forEach((function(t,n){null!==t&&(e.attributes[n]=t)}))),u="";break;case"retain":if(e={retain:l},Object.keys(s).length>0)for(var t in e.attributes={},s)e.attributes[t]=s[t];l=0}n.push(e),a=null}};null!==o;){switch(o.content.constructor){case UT:case MT:e.adds(o)?e.deletes(o)||(d(),a="insert",u=o.content.getContent()[0],d()):e.deletes(o)?("delete"!==a&&(d(),a="delete"),c+=1):o.deleted||("retain"!==a&&(d(),a="retain"),l+=1);break;case DT:e.adds(o)?e.deletes(o)||("insert"!==a&&(d(),a="insert"),u+=o.content.str):e.deletes(o)?("delete"!==a&&(d(),a="delete"),c+=o.length):o.deleted||("retain"!==a&&(d(),a="retain"),l+=o.length);break;case TT:var f=o.content,h=f.key,p=f.value;if(e.adds(o)){if(!e.deletes(o)){var v=r.get(h)||null;iT(v,p)?o.delete(t):("retain"===a&&d(),iT(p,i.get(h)||null)?delete s[h]:s[h]=p)}}else if(e.deletes(o)){i.set(h,p);var g=r.get(h)||null;iT(g,p)||("retain"===a&&d(),s[h]=g)}else if(!o.deleted){i.set(h,p);var m=s[h];void 0!==m&&(iT(m,p)?o.delete(t):("retain"===a&&d(),null===p?delete s[h]:s[h]=p))}o.deleted||("insert"===a&&d(),lT(r,o.content))}o=o.right}for(d();n.length>0;){var y=n[n.length-1];if(void 0===y.retain||void 0!==y.attributes)break;n.pop()}})),this._delta=n}return this._delta}}]),n}(TM),mT=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this))._pending=void 0!==e?[function(){return r.insert(0,e)}]:[],r._searchMarker=[],r}return k(n,[{key:"length",get:function(){return this._length}},{key:"_integrate",value:function(e,t){Wr(h(n.prototype),"_integrate",this).call(this,e,t);try{this._pending.forEach((function(e){return e()}))}catch(fR){console.error(fR)}this._pending=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"_callObserver",value:function(e,t){var r=this;Wr(h(n.prototype),"_callObserver",this).call(this,e,t);var i=new gT(this,e,t),o=e.doc;if(jM(this,e,i),!e.local){var a,s=!1,u=C(e.afterState.entries());try{for(u.s();!(a=u.n()).done;){var l=b(a.value,2),c=l[0],d=l[1],f=e.beforeState.get(c)||0;if(d!==f&&(sM(e,o.store.clients.get(c),f,d,(function(e){e.deleted||e.content.constructor!==TT||(s=!0)})),s))break}}catch(dR){u.e(dR)}finally{u.f()}s||oP(e,e.deleteSet,(function(e){e instanceof ET||s||e.parent===r&&e.content.constructor===TT&&(s=!0)})),vM(o,(function(e){s?function(e){var t=0;vM(e.doc,(function(n){for(var r=e._start,i=e._start,o=VE(),a=KE(o);i;)!1===i.deleted&&(i.content.constructor===TT?lT(a,i.content):(t+=pT(n,r,i,o,a),o=KE(a),r=i)),i=i.right}))}(r):oP(e,e.deleteSet,(function(t){t instanceof ET||t.parent===r&&function(e,t){for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;for(var n=new Set;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===TT){var r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}}(e,t)}))}))}}},{key:"toString",value:function(){for(var e="",t=this._start;null!==t;)!t.deleted&&t.countable&&t.content.constructor===DT&&(e+=t.content.str),t=t.right;return e}},{key:"toJSON",value:function(){return this.toString()}},{key:"applyDelta",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.sanitize,i=void 0===r||r;null!==this.doc?vM(this.doc,(function(n){for(var r=new oT(null,t._start,0,new Map),o=0;o<e.length;o++){var a=e[o];if(void 0!==a.insert){var s=i||"string"!==typeof a.insert||o!==e.length-1||null!==r.right||"\n"!==a.insert.slice(-1)?a.insert:a.insert.slice(0,-1);("string"!==typeof s||s.length>0)&&fT(n,t,r,s,a.attributes||{})}else void 0!==a.retain?hT(n,t,r,a.retain,a.attributes||{}):void 0!==a.delete&&vT(n,r,a.delete)}})):this._pending.push((function(){return t.applyDelta(e)}))}},{key:"toDelta",value:function(e,t,n){var r=[],i=new Map,o=this.doc,a="",s=this._start;function u(){if(a.length>0){var e={},t=!1;i.forEach((function(n,r){t=!0,e[r]=n}));var n={insert:a};t&&(n.attributes=e),r.push(n),a=""}}return vM(o,(function(o){for(e&&qP(o,e),t&&qP(o,t);null!==s;){if(GP(s,e)||void 0!==t&&GP(s,t))switch(s.content.constructor){case DT:var l=i.get("ychange");void 0===e||GP(s,e)?void 0===t||GP(s,t)?void 0!==l&&(u(),i.delete("ychange")):void 0!==l&&l.user===s.id.client&&"added"===l.state||(u(),i.set("ychange",n?n("added",s.id):{type:"added"})):void 0!==l&&l.user===s.id.client&&"removed"===l.state||(u(),i.set("ychange",n?n("removed",s.id):{type:"removed"})),a+=s.content.str;break;case UT:case MT:u();var c={insert:s.content.getContent()[0]};i.size>0&&function(){var e={};c.attributes=e,i.forEach((function(t,n){e[n]=t}))}(),r.push(c);break;case TT:GP(s,e)&&(u(),lT(i,s.content))}s=s.right}u()}),qP),r}},{key:"insert",value:function(e,t,n){var r=this;if(!(t.length<=0)){var i=this.doc;null!==i?vM(i,(function(i){var o=sT(i,r,e);n||(n={},o.currentAttributes.forEach((function(e,t){n[t]=e}))),fT(i,r,o,t,n)})):this._pending.push((function(){return r.insert(e,t,n)}))}}},{key:"insertEmbed",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.doc;null!==i?vM(i,(function(i){var o=sT(i,n,e);fT(i,n,o,t,r)})):this._pending.push((function(){return n.insertEmbed(e,t,r)}))}},{key:"delete",value:function(e,t){var n=this;if(0!==t){var r=this.doc;null!==r?vM(r,(function(r){vT(r,sT(r,n,e),t)})):this._pending.push((function(){return n.delete(e,t)}))}}},{key:"format",value:function(e,t,n){var r=this;if(0!==t){var i=this.doc;null!==i?vM(i,(function(i){var o=sT(i,r,e);null!==o.right&&hT(i,r,o,t,n)})):this._pending.push((function(){return r.format(e,t,n)}))}}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?vM(this.doc,(function(n){XM(n,t,e)})):this._pending.push((function(){return t.removeAttribute(e)}))}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?vM(this.doc,(function(r){$M(r,n,e,t)})):this._pending.push((function(){return n.setAttribute(e,t)}))}},{key:"getAttribute",value:function(e){return GM(this,e)}},{key:"getAttributes",value:function(e){return qM(this)}},{key:"_write",value:function(e){e.writeTypeRef(jT)}}]),n}(NM),yT=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};S(this,t),this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}return k(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==wT&&t.constructor!==bT||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}]),t}(),bT=function(e){f(n,e);var t=g(n);function n(){var e;return S(this,n),(e=t.call(this))._prelimContent=[],e}return k(n,[{key:"firstChild",get:function(){var e=this._first;return e?e.content.getContent()[0]:null}},{key:"_integrate",value:function(e,t){Wr(h(n.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.insert(0,this.toArray().map((function(e){return e instanceof NM?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"createTreeWalker",value:function(e){return new yT(this,e)}},{key:"querySelector",value:function(e){e=e.toUpperCase();var t=new yT(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})).next();return t.done?null:t.value}},{key:"querySelectorAll",value:function(e){return e=e.toUpperCase(),Array.from(new yT(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})))}},{key:"_callObserver",value:function(e,t){jM(this,e,new kT(this,t,e))}},{key:"toString",value:function(){return UM(this,(function(e){return e.toString()})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),HM(this,(function(i){r.insertBefore(i.toDOM(e,t,n),null)})),r}},{key:"insert",value:function(e,t){var n,r=this;null!==this.doc?vM(this.doc,(function(n){WM(n,r,e,t)})):(n=this._prelimContent).splice.apply(n,[e,0].concat((0,c.Z)(t)))}},{key:"insertAfter",value:function(e,t){var n=this;if(null!==this.doc)vM(this.doc,(function(r){var i=e&&e instanceof NM?e._item:e;KM(r,n,i,t)}));else{var r=this._prelimContent,i=null===e?0:r.findIndex((function(t){return t===e}))+1;if(0===i&&null!==e)throw SI("Reference item not found");r.splice.apply(r,[i,0].concat((0,c.Z)(t)))}}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?vM(this.doc,(function(r){YM(r,t,e,n)})):this._prelimContent.splice(e,n)}},{key:"toArray",value:function(){return zM(this)}},{key:"push",value:function(e){this.insert(this.length,e)}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"get",value:function(e){return VM(this,e)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return FM(this,e,t)}},{key:"_write",value:function(e){e.writeTypeRef(FT)}}]),n}(NM),wT=function(e){f(n,e);var t=g(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNDEFINED";return S(this,n),(e=t.call(this)).nodeName=r,e._prelimAttrs=new Map,e}return k(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_integrate",value:function(e,t){var r=this;Wr(h(n.prototype),"_integrate",this).call(this,e,t),this._prelimAttrs.forEach((function(e,t){r.setAttribute(t,e)})),this._prelimAttrs=null}},{key:"_copy",value:function(){return new n(this.nodeName)}},{key:"clone",value:function(){var e=new n(this.nodeName),t=this.getAttributes();for(var r in t)e.setAttribute(r,t[r]);return e.insert(0,this.toArray().map((function(e){return e instanceof NM?e.clone():e}))),e}},{key:"toString",value:function(){var e=this.getAttributes(),t=[],r=[];for(var i in e)r.push(i);r.sort();for(var o=r.length,a=0;a<o;a++){var s=r[a];t.push(s+'="'+e[s]+'"')}var u=this.nodeName.toLocaleLowerCase(),l=t.length>0?" "+t.join(" "):"";return"<".concat(u).concat(l,">").concat(Wr(h(n.prototype),"toString",this).call(this),"</").concat(u,">")}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?vM(this.doc,(function(n){XM(n,t,e)})):this._prelimAttrs.delete(e)}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?vM(this.doc,(function(r){$M(r,n,e,t)})):this._prelimAttrs.set(e,t)}},{key:"getAttribute",value:function(e){return GM(this,e)}},{key:"hasAttribute",value:function(e){return QM(this,e)}},{key:"getAttributes",value:function(e){return qM(this)}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createElement(this.nodeName),i=this.getAttributes();for(var o in i)r.setAttribute(o,i[o]);return HM(this,(function(i){r.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(r,this),r}},{key:"_write",value:function(e){e.writeTypeRef(NT),e.writeKey(this.nodeName)}}]),n}(bT),kT=function(e){f(n,e);var t=g(n);function n(e,r,i){var o;return S(this,n),(o=t.call(this,e,i)).childListChanged=!1,o.attributesChanged=new Set,r.forEach((function(e){null===e?o.childListChanged=!0:o.attributesChanged.add(e)})),o}return k(n)}(TM),ST=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this)).hookName=e,r}return k(n,[{key:"_copy",value:function(){return new n(this.hookName)}},{key:"clone",value:function(){var e=new n(this.hookName);return this.forEach((function(t,n){e.set(n,t)})),e}},{key:"toDOM",value:function(){arguments.length>0&&void 0!==arguments[0]||document;var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t[this.hookName];return(e=void 0!==r?r.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(e,this),e}},{key:"_write",value:function(e){e.writeTypeRef(zT),e.writeKey(this.hookName)}}]),n}(rT),CT=function(e){f(n,e);var t=g(n);function n(){return S(this,n),t.apply(this,arguments)}return k(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>2?arguments[2]:void 0,n=e.createTextNode(this.toString());return void 0!==t&&t._createAssociation(n,this),n}},{key:"toString",value:function(){return this.toDelta().map((function(e){var t=[];for(var n in e.attributes){var r=[];for(var i in e.attributes[n])r.push({key:i,value:e.attributes[n][i]});r.sort((function(e,t){return e.key<t.key?-1:1})),t.push({nodeName:n,attrs:r})}t.sort((function(e,t){return e.nodeName<t.nodeName?-1:1}));for(var o="",a=0;a<t.length;a++){var s=t[a];o+="<".concat(s.nodeName);for(var u=0;u<s.attrs.length;u++){var l=s.attrs[u];o+=" ".concat(l.key,'="').concat(l.value,'"')}o+=">"}o+=e.insert;for(var c=t.length-1;c>=0;c--)o+="</".concat(t[c].nodeName,">");return o})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"_write",value:function(e){e.writeTypeRef(HT)}}]),n}(mT),_T=function(){function e(t,n){S(this,e),this.id=t,this.length=n}return k(e,[{key:"deleted",get:function(){throw CI()}},{key:"mergeWith",value:function(e){return!1}},{key:"write",value:function(e,t,n){throw CI()}},{key:"integrate",value:function(e,t){throw CI()}}]),e}(),ET=function(e){f(n,e);var t=g(n);function n(){return S(this,n),t.apply(this,arguments)}return k(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){t>0&&(this.id.clock+=t,this.length-=t),tM(e.doc.store,this)}},{key:"write",value:function(e,t){e.writeInfo(0),e.writeLen(this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(_T),xT=function(){function e(t){S(this,e),this.content=t}return k(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.content]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.content)}},{key:"splice",value:function(e){throw CI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeBuf(this.content)}},{key:"getRef",value:function(){return 3}}]),e}(),IT=function(){function e(t){S(this,e),this.len=t}return k(e,[{key:"getLength",value:function(){return this.len}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.len)}},{key:"splice",value:function(t){var n=new e(this.len-t);return this.len=t,n}},{key:"mergeWith",value:function(e){return this.len+=e.len,!0}},{key:"integrate",value:function(e,t){lP(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeLen(this.len-t)}},{key:"getRef",value:function(){return 1}}]),e}(),PT=function(){function e(t){S(this,e),t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;var n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),null!==t.meta&&(n.meta=t.meta)}return k(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.doc]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.doc)}},{key:"splice",value:function(e){throw CI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}},{key:"delete",value:function(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}},{key:"getRef",value:function(){return 9}}]),e}(),MT=function(){function e(t){S(this,e),this.embed=t}return k(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.embed]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.embed)}},{key:"splice",value:function(e){throw CI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeJSON(this.embed)}},{key:"getRef",value:function(){return 5}}]),e}(),TT=function(){function e(t,n){S(this,e),this.key=t,this.value=n}return k(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.key,this.value)}},{key:"splice",value:function(e){throw CI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){t.parent._searchMarker=null}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeKey(this.key),e.writeJSON(this.value)}},{key:"getRef",value:function(){return 6}}]),e}(),OT=function(){function e(t){S(this,e),this.arr=t}return k(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeString(void 0===i?"undefined":JSON.stringify(i))}}},{key:"getRef",value:function(){return 2}}]),e}(),RT=function(){function e(t){S(this,e),this.arr=t}return k(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeAny(i)}}},{key:"getRef",value:function(){return 8}}]),e}(),DT=function(){function e(t){S(this,e),this.str=t}return k(e,[{key:"getLength",value:function(){return this.str.length}},{key:"getContent",value:function(){return this.str.split("")}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.str)}},{key:"splice",value:function(t){var n=new e(this.str.slice(t));this.str=this.str.slice(0,t);var r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\ufffd",n.str="\ufffd"+n.str.slice(1)),n}},{key:"mergeWith",value:function(e){return this.str+=e.str,!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(0===t?this.str:this.str.slice(t))}},{key:"getRef",value:function(){return 4}}]),e}(),AT=[function(e){return new tT},function(e){return new rT},function(e){return new mT},function(e){return new wT(e.readKey())},function(e){return new bT},function(e){return new ST(e.readKey())},function(e){return new CT}],LT=0,BT=1,jT=2,NT=3,FT=4,zT=5,HT=6,UT=function(){function e(t){S(this,e),this.type=t}return k(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.type]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.type._copy())}},{key:"splice",value:function(e){throw CI()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.type._integrate(e.doc,t)}},{key:"delete",value:function(e){for(var t=this.type._start;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((function(t){t.deleted?e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}},{key:"gc",value:function(e){for(var t=this.type._start;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((function(t){for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}},{key:"write",value:function(e,t){this.type._write(e)}},{key:"getRef",value:function(){return 7}}]),e}(),VT=function(e,t){var n,r=t,i=0;do{i>0&&(r=ZP(r.client,r.clock+i)),n=rM(e,r),i=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof YT);return{item:n,diff:i}},KT=function(e,t){for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},ZT=function(e,t,n){var r=t.id,i=r.client,o=r.clock,a=new YT(ZP(i,o+n),t,ZP(i,o+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&a.markDeleted(),t.keep&&(a.keep=!0),null!==t.redone&&(a.redone=ZP(t.redone.client,t.redone.clock+n)),t.right=a,null!==a.right&&(a.right.left=a),e._mergeStructs.push(a),null!==a.parentSub&&null===a.right&&a.parent._map.set(a.parentSub,a),t.length=n,a},WT=function e(t,n,r,i){var o=t.doc,a=o.store,s=o.clientID,u=n.redone;if(null!==u)return oM(t,u);var l,c,d=n.parent._item;if(null===n.parentSub)l=n.left,c=n;else{for(l=n;null!==l.right;)if((l=l.right).id.client!==s)return null;null!==l.right&&(l=n.parent._map.get(n.parentSub)),c=null}if(null!==d&&!0===d.deleted&&null===d.redone&&(!r.has(d)||null===e(t,d,r,i)))return null;if(null!==d&&null!==d.redone){for(;null!==d.redone;)d=oM(t,d.redone);for(;null!==l;){for(var f=l;null!==f&&f.parent._item!==d;)f=null===f.redone?null:oM(t,f.redone);if(null!==f&&f.parent._item===d){l=f;break}l=l.left}for(;null!==c;){for(var h=c;null!==h&&h.parent._item!==d;)h=null===h.redone?null:oM(t,h.redone);if(null!==h&&h.parent._item===d){c=h;break}c=c.right}for(;null!==l&&null!==l.right&&l.right!==c&&i.findIndex((function(e){return e===l.right}))>=0;)l=l.right}var p=eM(a,s),v=ZP(s,p),g=new YT(v,l,l&&l.lastId,c,c&&c.id,null===d?n.parent:d.content.type,n.parentSub,n.content.copy());return n.redone=v,KT(g,!0),g.integrate(t,0),g},YT=function(e){f(n,e);var t=g(n);function n(e,r,i,o,a,s,u,l){var c;return S(this,n),(c=t.call(this,e,l.getLength())).origin=i,c.left=r,c.right=o,c.rightOrigin=a,c.parent=s,c.parentSub=u,c.redone=null,c.content=l,c.info=c.content.isCountable()?2:0,c}return k(n,[{key:"marker",get:function(){return(8&this.info)>0},set:function(e){(8&this.info)>0!==e&&(this.info^=8)}},{key:"keep",get:function(){return(1&this.info)>0},set:function(e){this.keep!==e&&(this.info^=1)}},{key:"countable",get:function(){return(2&this.info)>0}},{key:"deleted",get:function(){return(4&this.info)>0},set:function(e){this.deleted!==e&&(this.info^=4)}},{key:"markDeleted",value:function(){this.info|=4}},{key:"getMissing",value:function(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=eM(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=eM(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===VP&&this.id.client!==this.parent.client&&this.parent.clock>=eM(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=aM(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=oM(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===ET||this.right&&this.right.constructor===ET)&&(this.parent=null),this.parent){if(this.parent.constructor===VP){var r=rM(t,this.parent);r.constructor===ET?this.parent=null:this.parent=r.content.type}}else this.left&&this.left.constructor===n&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===n&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}},{key:"integrate",value:function(e,t){if(t>0&&(this.id.clock+=t,this.left=aM(e,e.doc.store,ZP(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){var n,r=this.left;if(null!==r)n=r.right;else if(null!==this.parentSub)for(n=this.parent._map.get(this.parentSub)||null;null!==n&&null!==n.left;)n=n.left;else n=this.parent._start;for(var i=new Set,o=new Set;null!==n&&n!==this.right;){if(o.add(n),i.add(n),KP(this.origin,n.origin)){if(n.id.client<this.id.client)r=n,i.clear();else if(KP(this.rightOrigin,n.rightOrigin))break}else{if(null===n.origin||!o.has(rM(e.doc.store,n.origin)))break;i.has(rM(e.doc.store,n.origin))||(r=n,i.clear())}n=n.right}this.left=r}if(null!==this.left){var a=this.left.right;this.right=a,this.left.right=this}else{var s;if(null!==this.parentSub)for(s=this.parent._map.get(this.parentSub)||null;null!==s&&null!==s.left;)s=s.left;else s=this.parent._start,this.parent._start=this;this.right=s}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),tM(e.doc.store,this),this.content.integrate(e,this),cM(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new ET(this.id,this.length).integrate(e,0)}},{key:"next",get:function(){for(var e=this.right;null!==e&&e.deleted;)e=e.right;return e}},{key:"prev",get:function(){for(var e=this.left;null!==e&&e.deleted;)e=e.left;return e}},{key:"lastId",get:function(){return 1===this.length?this.id:ZP(this.id.client,this.id.clock+this.length-1)}},{key:"mergeWith",value:function(e){var t=this;if(this.constructor===e.constructor&&KP(e.origin,this.lastId)&&this.right===e&&KP(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){var n=this.parent._searchMarker;return n&&n.forEach((function(n){n.p===e&&(n.p=t,!t.deleted&&t.countable&&(n.index-=t.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}},{key:"delete",value:function(e){if(!this.deleted){var t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),lP(e.deleteSet,this.id.client,this.id.clock,this.length),cM(e,t,this.parentSub),this.content.delete(e)}}},{key:"gc",value:function(e,t){if(!this.deleted)throw _I();this.content.gc(e),t?function(e,t,n){var r=e.clients.get(t.id.client);r[nM(r,t.id.clock)]=n}(e,this,new ET(this.id,this.length)):this.content=new IT(this.length)}},{key:"write",value:function(e,t){var n=t>0?ZP(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,o=31&this.content.getRef()|(null===n?0:Px)|(null===r?0:Ix)|(null===i?0:32);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){var a=this.parent;if(void 0!==a._item){var s=a._item;if(null===s){var u=WP(a);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(s.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===VP?(e.writeParentInfo(!1),e.writeLeftID(a)):_I();null!==i&&e.writeString(i)}this.content.write(e,t)}}]),n}(_T),XT=function(e,t){return $T[31&t](e)},$T=[function(){_I()},function(e){return new IT(e.readLen())},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++){var i=e.readString();"undefined"===i?n.push(void 0):n.push(JSON.parse(i))}return new OT(n)},function(e){return new xT(e.readBuf())},function(e){return new DT(e.readString())},function(e){return new MT(e.readJSON())},function(e){return new TT(e.readString(),e.readJSON())},function(e){return new UT(AT[e.readTypeRef()](e))},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++)n.push(e.readAny());return new RT(n)},function(e){return new PT(new gP(a({guid:e.readString()},e.readAny())))},function(){_I()}],GT=function(e){f(n,e);var t=g(n);function n(){return S(this,n),t.apply(this,arguments)}return k(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){_I()}},{key:"write",value:function(e,t){e.writeInfo(10),Nx(e.restEncoder,this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(_T),qT="undefined"!==typeof window?window:"undefined"!==typeof global?global:{};!0===qT["__ $YJS$ __"]&&console.warn("Yjs was already imported. Importing different versions of Yjs often leads to issues."),qT["__ $YJS$ __"]=!0;var QT=3e4,JT=function e(t){if(t.shouldConnect&&null===t.ws){var n=new WebSocket(t.url),r=t.binaryType,i=null;r&&(n.binaryType=r),t.ws=n,t.connecting=!0,t.connected=!1,n.onmessage=function(e){t.lastMessageReceived=BI();var n=e.data,r="string"===typeof n?JSON.parse(n):n;r&&"pong"===r.type&&(clearTimeout(i),i=setTimeout(a,15e3)),t.emit("message",[r,t])};var o=function(n){null!==t.ws&&(t.ws=null,t.connecting=!1,t.connected?(t.connected=!1,t.emit("disconnect",[{type:"disconnect",error:n},t])):t.unsuccessfulReconnects++,setTimeout(e,ex(1200*JE(t.unsuccessfulReconnects+1),2500),t)),clearTimeout(i)},a=function(){t.ws===n&&t.send({type:"ping"})};n.onclose=function(){return o(null)},n.onerror=function(e){return o(e)},n.onopen=function(){t.lastMessageReceived=BI(),t.connecting=!1,t.connected=!0,t.unsuccessfulReconnects=0,t.emit("connect",[{type:"connect"},t]),i=setTimeout(a,15e3)}}},eO=function(e){f(n,e);var t=g(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.binaryType;return S(this,n),(r=t.call(this)).url=e,r.ws=null,r.binaryType=o||null,r.connected=!1,r.connecting=!1,r.unsuccessfulReconnects=0,r.lastMessageReceived=0,r.shouldConnect=!0,r._checkInterval=setInterval((function(){r.connected&&QT<BI()-r.lastMessageReceived&&r.ws.close()}),15e3),JT(d(r)),r}return k(n,[{key:"send",value:function(e){this.ws&&this.ws.send(JSON.stringify(e))}},{key:"destroy",value:function(){clearInterval(this._checkInterval),this.disconnect(),Wr(h(n.prototype),"destroy",this).call(this)}},{key:"disconnect",value:function(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}},{key:"connect",value:function(){this.shouldConnect=!0,this.connected||null!==this.ws||JT(this)}}]),n}(GE),tO=function(e){return new Promise(e)},nO=function(e){return Promise.resolve(e)},rO=new Map,iO=function(){function e(t){var n=this;S(this,e),this.room=t,this.onmessage=null,function(e){fx||addEventListener("storage",e)}((function(e){return e.key===t&&null!==n.onmessage&&n.onmessage({data:xx(e.newValue||"")})}))}return k(e,[{key:"postMessage",value:function(e){mx.setItem(this.room,Ex(new Uint8Array(e)))}}]),e}(),oO="undefined"===typeof BroadcastChannel?iO:BroadcastChannel,aO=function(e){return ZE(rO,e,(function(){var t=new Set,n=new oO(e);return n.onmessage=function(e){return t.forEach((function(t){return t(e.data,"broadcastchannel")}))},{bc:n,subs:t}}))},sO=function(){var e=!0;return function(t,n){if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}},uO=n(720),lO=function(e,t){Nx(e,0);var n=jP(t);Kx(e,n)},cO=function(e,t,n){Nx(e,1),Kx(e,RP(t,n))},dO=function(e,t,n){try{TP(t,iI(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},fO=dO,hO=function(e,t,n,r){var i=aI(e);switch(i){case 0:!function(e,t,n){cO(t,n,iI(e))}(e,t,n);break;case 1:dO(e,n,r);break;case 2:fO(e,n,r);break;default:throw new Error("Unknown message type")}return i},pO=3e4,vO=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this)).doc=e,r.clientID=e.clientID,r.states=new Map,r.meta=new Map,r._checkInterval=setInterval((function(){var e=BI();null!==r.getLocalState()&&15e3<=e-r.meta.get(r.clientID).lastUpdated&&r.setLocalState(r.getLocalState());var t=[];r.meta.forEach((function(n,i){i!==r.clientID&&pO<=e-n.lastUpdated&&r.states.has(i)&&t.push(i)})),t.length>0&&gO(d(r),t,"timeout")}),qE(3e3)),e.on("destroy",(function(){r.destroy()})),r.setLocalState({}),r}return k(n,[{key:"destroy",value:function(){this.emit("destroy",[this]),this.setLocalState(null),Wr(h(n.prototype),"destroy",this).call(this),clearInterval(this._checkInterval)}},{key:"getLocalState",value:function(){return this.states.get(this.clientID)||null}},{key:"setLocalState",value:function(e){var t=this.clientID,n=this.meta.get(t),r=void 0===n?0:n.clock+1,i=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:r,lastUpdated:BI()});var o=[],a=[],s=[],u=[];null===e?u.push(t):null==i?null!=e&&o.push(t):(a.push(t),TI(i,e)||s.push(t)),(o.length>0||s.length>0||u.length>0)&&this.emit("change",[{added:o,updated:s,removed:u},"local"]),this.emit("update",[{added:o,updated:a,removed:u},"local"])}},{key:"setLocalStateField",value:function(e,t){var n=this.getLocalState();null!==n&&this.setLocalState(a(a({},n),{},i({},e,t)))}},{key:"getStates",value:function(){return this.states}}]),n}(GE),gO=function(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){var a=e.meta.get(o);e.meta.set(o,{clock:a.clock+1,lastUpdated:BI()})}r.push(o)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},mO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.states,r=t.length,i=Ax();Nx(i,r);for(var o=0;o<r;o++){var a=t[o],s=n.get(a)||null,u=e.meta.get(a).clock;Nx(i,a),Nx(i,u),Ux(i,JSON.stringify(s))}return Lx(i)},yO=function(e,t){var n=ux(e).buffer,r=ux(t).buffer;return crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveKey"]).then((function(e){return crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}))},bO=function(e,t){if(!t)return nO(e);var n=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e).then((function(e){var t=Ax();return Ux(t,"AES-GCM"),Kx(t,n),Kx(t,new Uint8Array(e)),Lx(t)}))},wO=function(e,t){if(!t)return nO(e);var n,r=tI(e);"AES-GCM"!==uI(r)&&(n=SI("Unknown encryption algorithm"),Promise.reject(n));var i=iI(r),o=iI(r);return crypto.subtle.decrypt({name:"AES-GCM",iv:i},t,o).then((function(e){return new Uint8Array(e)}))},kO=function(e){var t=qI[QI],n=Sx("log"),r=null!==n&&("*"===n||"true"===n||new RegExp(n,"gi").test(e));return QI=(QI+1)%qI.length,e+=": ",r?function(){var n=BI(),r=n-JI;JI=n;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];$I.apply(void 0,[t,e,ZI].concat((0,c.Z)(o.map((function(e){return"string"===typeof e||"symbol"===typeof e?e:JSON.stringify(e)}))),[t," +"+r+"ms"]))}:MI}("y-webrtc"),SO=new Map,CO=new Map,_O=function(e){var t=!0;e.webrtcConns.forEach((function(e){e.synced||(t=!1)})),(!t&&e.synced||t&&!e.synced)&&(e.synced=t,e.provider.emit("synced",[{synced:t}]),kO("synced ",jI,e.name,NI," with all peers"))},EO=function(e,t,n){var r=tI(t),i=Ax(),o=aI(r);if(void 0===e)return null;var a=e.awareness,s=e.doc,u=!1;switch(o){case 0:Nx(i,0);var l=hO(r,i,s,e);1!==l||e.synced||n(),0===l&&(u=!0);break;case 3:Nx(i,1),Kx(i,mO(a,Array.from(a.getStates().keys()))),u=!0;break;case 1:!function(e,t,n){for(var r=tI(t),i=BI(),o=[],a=[],s=[],u=[],l=aI(r),c=0;c<l;c++){var d=aI(r),f=aI(r),h=JSON.parse(uI(r)),p=e.meta.get(d),v=e.states.get(d),g=void 0===p?0:p.clock;(g<f||g===f&&null===h&&e.states.has(d))&&(null===h?d===e.clientID&&null!=e.getLocalState()?f++:e.states.delete(d):e.states.set(d,h),e.meta.set(d,{clock:f,lastUpdated:i}),void 0===p&&null!==h?o.push(d):void 0!==p&&null===h?u.push(d):null!==h&&(TI(h,v)||s.push(d),a.push(d)))}(o.length>0||s.length>0||u.length>0)&&e.emit("change",[{added:o,updated:s,removed:u},n]),(o.length>0||a.length>0||u.length>0)&&e.emit("update",[{added:o,updated:a,removed:u},n])}(a,iI(r),e);break;case 4:var c=1===oI(r),d=uI(r);if(d!==e.peerId&&(e.bcConns.has(d)&&!c||!e.bcConns.has(d)&&c)){var f=[],h=[];c?(e.bcConns.add(d),h.push(d)):(e.bcConns.delete(d),f.push(d)),e.provider.emit("peers",[{added:h,removed:f,webrtcPeers:Array.from(e.webrtcConns.keys()),bcPeers:Array.from(e.bcConns)}]),OO(e)}break;default:return console.error("Unable to compute message"),i}return u?i:null},xO=function(e,t){kO("send message to ",jI,e.remotePeerId,NI,zI," (",e.room.name,")",ZI);try{e.peer.send(Lx(t))}catch(fR){}},IO=function(){function e(t,n,r,i){var o=this;S(this,e),kO("establishing connection to ",jI,r),this.room=i,this.remotePeerId=r,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new uO(a({initiator:n},i.provider.peerOpts)),this.peer.on("signal",(function(e){AO(t,i,{to:r,from:i.peerId,type:"signal",signal:e})})),this.peer.on("connect",(function(){kO("connected to ",jI,r),o.connected=!0;var e=i.provider.doc,t=i.awareness,n=Ax();Nx(n,0),lO(n,e),xO(o,n);var a=t.getStates();if(a.size>0){var s=Ax();Nx(s,1),Kx(s,mO(t,Array.from(a.keys()))),xO(o,s)}})),this.peer.on("close",(function(){o.connected=!1,o.closed=!0,i.webrtcConns.has(o.remotePeerId)&&(i.webrtcConns.delete(o.remotePeerId),i.provider.emit("peers",[{removed:[o.remotePeerId],added:[],webrtcPeers:Array.from(i.webrtcConns.keys()),bcPeers:Array.from(i.bcConns)}])),_O(i),o.peer.destroy(),kO("closed connection to ",jI,r),TO(i)})),this.peer.on("error",(function(e){kO("Error in connection to ",jI,r,": ",e),TO(i)})),this.peer.on("data",(function(e){var t=function(e,t){var n=e.room;return kO("received message from ",jI,e.remotePeerId,zI," (",n.name,")",NI,ZI),EO(n,t,(function(){e.synced=!0,kO("synced ",jI,n.name,NI," with ",jI,e.remotePeerId),_O(n)}))}(o,e);null!==t&&xO(o,t)}))}return k(e,[{key:"destroy",value:function(){this.peer.destroy()}}]),e}(),PO=function(e,t){return bO(t,e.key).then((function(t){return e.mux((function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=aO(e);r.bc.postMessage(t),r.subs.forEach((function(e){return e(t,n)}))}(e.name,t)}))}))},MO=function(e,t){e.bcconnected&&PO(e,t),function(e,t){kO("broadcast message in ",jI,e.name,NI),e.webrtcConns.forEach((function(e){try{e.peer.send(t)}catch(fR){}}))}(e,t)},TO=function(e){SO.forEach((function(t){t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&AO(t,e,{type:"announce",from:e.peerId}))}))},OO=function(e){if(e.provider.filterBcConns){var t=Ax();Nx(t,4),jx(t,1),Ux(t,e.peerId),PO(e,Lx(t))}},RO=function(){function e(t,n,r,i){var o=this;S(this,e),this.peerId=kI(),this.doc=t,this.awareness=n.awareness,this.provider=n,this.synced=!1,this.name=r,this.key=i,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=sO(),this.bcconnected=!1,this._bcSubscriber=function(e){return wO(new Uint8Array(e),i).then((function(e){return o.mux((function(){var t=EO(o,e,(function(){}));t&&PO(o,Lx(t))}))}))},this._docUpdateHandler=function(e,t){var n=Ax();Nx(n,0),function(e,t){Nx(e,2),Kx(e,t)}(n,e),MO(o,Lx(n))},this._awarenessUpdateHandler=function(e,t){var n=e.added,r=e.updated,i=e.removed,a=n.concat(r).concat(i),s=Ax();Nx(s,1),Kx(s,mO(o.awareness,a)),MO(o,Lx(s))},this._beforeUnloadHandler=function(){gO(o.awareness,[t.clientID],"window unload"),CO.forEach((function(e){e.disconnect()}))},"undefined"!==typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.on("exit",this._beforeUnloadHandler)}return k(e,[{key:"connect",value:function(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),TO(this),function(e,t){aO(e).subs.add(t)}(this.name,this._bcSubscriber),this.bcconnected=!0,OO(this);var e=Ax();Nx(e,0),lO(e,this.doc),PO(this,Lx(e));var t=Ax();Nx(t,0),cO(t,this.doc),PO(this,Lx(t));var n=Ax();Nx(n,3),PO(this,Lx(n));var r=Ax();Nx(r,1),Kx(r,mO(this.awareness,[this.doc.clientID])),PO(this,Lx(r))}},{key:"disconnect",value:function(){var e=this;SO.forEach((function(t){t.connected&&t.send({type:"unsubscribe",topics:[e.name]})})),gO(this.awareness,[this.doc.clientID],"disconnect");var t=Ax();Nx(t,4),jx(t,0),Ux(t,this.peerId),PO(this,Lx(t)),function(e,t){aO(e).subs.delete(t)}(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach((function(e){return e.destroy()}))}},{key:"destroy",value:function(){this.disconnect(),"undefined"!==typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.off("exit",this._beforeUnloadHandler)}}]),e}(),DO=function(e,t,n,r){if(CO.has(n))throw SI('A Yjs Doc connected to room "'.concat(n,'" already exists!'));var i=new RO(e,t,n,r);return CO.set(n,i),i},AO=function(e,t,n){t.key?function(e,t){var n=Ax();return Yx(n,e),bO(Lx(n),t)}(n,t.key).then((function(n){e.send({type:"publish",topic:t.name,data:Ex(n)})})):e.send({type:"publish",topic:t.name,data:n})},LO=function(e){f(n,e);var t=g(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).providers=new Set,r.on("connect",(function(){kO("connected (".concat(e,")"));var t=Array.from(CO.keys());r.send({type:"subscribe",topics:t}),CO.forEach((function(e){return AO(d(r),e,{type:"announce",from:e.peerId})}))})),r.on("message",(function(e){if("publish"===e.type){var t=e.topic,n=CO.get(t);if(null==n||"string"!==typeof t)return;var i=function(e){var t=n.webrtcConns,i=n.peerId;if(!(null==e||e.from===i||void 0!==e.to&&e.to!==i||n.bcConns.has(e.from))){var o=t.has(e.from)?function(){}:function(){return n.provider.emit("peers",[{removed:[],added:[e.from],webrtcPeers:Array.from(n.webrtcConns.keys()),bcPeers:Array.from(n.bcConns)}])};switch(e.type){case"announce":t.size<n.provider.maxConns&&(ZE(t,e.from,(function(){return new IO(d(r),!0,e.from,n)})),o());break;case"signal":e.to===i&&(ZE(t,e.from,(function(){return new IO(d(r),!1,e.from,n)})).peer.signal(e.signal),o())}}};n.key?"string"===typeof e.data&&(o=xx(e.data),a=n.key,wO(o,a).then((function(e){return dI(tI(new Uint8Array(e)))}))).then(i):i(e.data)}var o,a})),r.on("disconnect",(function(){return kO("disconnect (".concat(e,")"))})),r}return k(n)}(eO),BO=function(e){f(n,e);var t=g(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.signaling,s=void 0===a?["wss://signaling.yjs.dev","wss://y-webrtc-signaling-eu.herokuapp.com","wss://y-webrtc-signaling-us.herokuapp.com"]:a,u=o.password,l=void 0===u?null:u,c=o.awareness,f=void 0===c?new vO(r):c,h=o.maxConns,p=void 0===h?20+qE(15*yI()):h,v=o.filterBcConns,g=void 0===v||v,m=o.peerOpts,y=void 0===m?{}:m;return S(this,n),(i=t.call(this)).roomName=e,i.doc=r,i.filterBcConns=g,i.awareness=f,i.shouldConnect=!1,i.signalingUrls=s,i.signalingConns=[],i.maxConns=p,i.peerOpts=y,i.key=l?yO(l,e):nO(null),i.room=null,i.key.then((function(t){i.room=DO(r,d(i),e,t),i.shouldConnect?i.room.connect():i.room.disconnect()})),i.connect(),i.destroy=i.destroy.bind(d(i)),r.on("destroy",i.destroy),i}return k(n,[{key:"connected",get:function(){return null!==this.room&&this.shouldConnect}},{key:"connect",value:function(){var e=this;this.shouldConnect=!0,this.signalingUrls.forEach((function(t){var n=ZE(SO,t,(function(){return new LO(t)}));e.signalingConns.push(n),n.providers.add(e)})),this.room&&this.room.connect()}},{key:"disconnect",value:function(){var e=this;this.shouldConnect=!1,this.signalingConns.forEach((function(t){t.providers.delete(e),0===t.providers.size&&(t.destroy(),SO.delete(t.url))})),this.room&&this.room.disconnect()}},{key:"destroy",value:function(){var e=this;this.doc.off("destroy",this.destroy),this.key.then((function(){e.room.destroy(),CO.delete(e.roomName)})),Wr(h(n.prototype),"destroy",this).call(this)}}]),n}(GE),jO=function(e){return tO((function(t,n){e.onerror=function(e){return n(new Error(e.target.error))},e.onblocked=function(){return location.reload()},e.onsuccess=function(e){return t(e.target.result)}}))},NO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"readwrite",r=e.transaction(t,n);return t.map((function(e){return WO(r,e)}))},FO=function(e,t){return jO(e.count(t))},zO=function(e,t){return jO(e.delete(t))},HO=function(e,t){return jO(e.add(t))},UO=function(e,t){return jO(e.getAll(t))},VO=function(e,t,n){var r=null;return ZO(e,t,(function(e){return r=e,!1}),n).then((function(){return r}))},KO=function(e,t){return tO((function(n,r){e.onerror=r,e.onsuccess=function(e){var r=e.target.result;if(null===r||!1===t(r))return n();r.continue()}}))},ZO=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"next";return KO(e.openKeyCursor(t,r),(function(e){return n(e.key)}))},WO=function(e,t){return e.objectStore(t)},YO=function(e,t){return IDBKeyRange.upperBound(e,t)},XO="custom",$O="updates",GO=function(e){var t,n,r=b(NO(e.db,[$O]),1)[0];return UO(r,(t=e._dbref,n=!1,IDBKeyRange.lowerBound(t,n))).then((function(t){return e._mux((function(){return vM(e.doc,(function(){t.forEach((function(t){return TP(e.doc,t)}))}),e,!1)}))})).then((function(){return function(e){return VO(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"prev")}(r).then((function(t){e._dbref=t+1}))})).then((function(){return FO(r).then((function(t){e._dbsize=t}))})).then((function(){return r}))},qO=function(e){f(n,e);var t=g(n);function n(e,r){var i;return S(this,n),(i=t.call(this)).doc=r,i.name=e,i._mux=sO(),i._dbref=0,i._dbsize=0,i.db=null,i.synced=!1,i._db=function(e,t){return tO((function(n,r){var i=indexedDB.open(e);i.onupgradeneeded=function(e){return t(e.target.result)},i.onerror=function(e){return r(SI(e.target.error))},i.onblocked=function(){return location.reload()},i.onsuccess=function(e){var t=e.target.result;t.onversionchange=function(){t.close()},"undefined"!==typeof addEventListener&&addEventListener("unload",(function(){return t.close()})),n(t)}}))}(e,(function(e){return function(e,t){return t.forEach((function(t){return e.createObjectStore.apply(e,t)}))}(e,[["updates",{autoIncrement:!0}],["custom"]])})),i.whenSynced=i._db.then((function(e){i.db=e;var t=RP(r);return GO(d(i)).then((function(e){return HO(e,t)})).then((function(){return i.emit("synced",[d(i)]),i.synced=!0,d(i)}))})),i._storeTimeout=1e3,i._storeTimeoutId=null,i._storeUpdate=function(e){return i._mux((function(){if(i.db){var t=b(NO(i.db,[$O]),1)[0];HO(t,e),++i._dbsize>=500&&(null!==i._storeTimeoutId&&clearTimeout(i._storeTimeoutId),i._storeTimeoutId=setTimeout((function(){!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];GO(e).then((function(n){(t||e._dbsize>=500)&&HO(n,RP(e.doc)).then((function(){return zO(n,YO(e._dbref,!0))})).then((function(){return FO(n).then((function(t){e._dbsize=t}))}))}))}(d(i),!1),i._storeTimeoutId=null}),i._storeTimeout))}}))},r.on("update",i._storeUpdate),i.destroy=i.destroy.bind(d(i)),r.on("destroy",i.destroy),i}return k(n,[{key:"destroy",value:function(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._db.then((function(e){e.close()}))}},{key:"clearData",value:function(){var e=this;return this.destroy().then((function(){!function(e){jO(indexedDB.deleteDatabase(e))}(e.name)}))}},{key:"get",value:function(e){return this._db.then((function(t){return function(e,t){return jO(e.get(t))}(b(NO(t,[XO],"readonly"),1)[0],e)}))}},{key:"set",value:function(e,t){return this._db.then((function(n){return function(e,t,n){return jO(e.put(t,n))}(b(NO(n,[XO]),1)[0],t,e)}))}},{key:"del",value:function(e){return this._db.then((function(t){var n=b(NO(t,[XO]),1)[0];return zO(n,e)}))}}]),n}(GE),QO=new gP,JO="y-tldraw-".concat("doandidinding"),eR=new BO(JO,QO),tR=(new qO("y-indexeddb",QO),eR.awareness),nR=QO.getMap("shapes"),rR=QO.getMap("bindings"),iR=new yM([nR,rR]),oR=new UE(tR);var aR=n(184);var sR=function(){var t=function(){var t=this,n=e.useCallback((function(e){return nb(t,null,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDirty){t.next=10;break}if(!e.fileSystemHandle){t.next=7;break}if(!window.confirm("Do you want to save changes to your current project?")){t.next=5;break}return t.next=5,e.saveProject();case 5:t.next=10;break;case 7:if(!window.confirm("Do you want to save your current project?")){t.next=10;break}return t.next=10,e.saveProject();case 10:case"end":return t.stop()}}),t)})))}),[]),r=e.useCallback((function(e){return nb(t,null,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Do you want to create a new project?")){t.next=4;break}return t.next=3,n(e);case 3:e.newProject();case 4:case"end":return t.stop()}}),t)})))}),[n]),i=e.useCallback((function(e){e.saveProject()}),[]),o=e.useCallback((function(e){e.saveProjectAs()}),[]),a=e.useCallback((function(e){return nb(t,null,(0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:e.openProject();case 3:case"end":return t.stop()}}),t)})))}),[n]),s=e.useCallback((function(e){return nb(t,null,(0,m.Z)().mark((function t(){var n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==(n=e.openAsset)||n.call(e);case 1:case"end":return t.stop()}}),t)})))}),[]);return{onNewProject:r,onSaveProject:i,onSaveProjectAs:o,onOpenProject:a,onOpenMedia:s}}(),n=function(t){var n=b((0,e.useState)(),2),r=n[0],i=n[1],o=b((0,e.useState)(!0),2),a=o[0],s=o[1],u=(0,e.useCallback)((function(e){e.loadRoom(t),e.pause(),i(e)}),[t]),l=(0,e.useCallback)((function(e,t,n){iR.stopCapturing(),QO.transact((function(){Object.entries(t).forEach((function(e){var t=b(e,2),n=t[0],r=t[1];r?nR.set(r.id,r):nR.delete(n)})),Object.entries(n).forEach((function(e){var t=b(e,2),n=t[0],r=t[1];r?rR.set(r.id,r):rR.delete(n)}))}))}),[]),c=(0,e.useCallback)((function(){iR.undo()}),[]),d=(0,e.useCallback)((function(){iR.redo()}),[]),f=(0,e.useCallback)((function(e,t){e.room&&oR.setPresence({id:e.room.userId,tdUser:t})}),[]);return(0,e.useEffect)((function(){if(r&&oR){var e=oR.subscribe("others",(function(e){if(r.room){var t=e.filter((function(e){return e.presence})).map((function(e){return e.presence.tdUser.id}));Object.values(r.room.users).forEach((function(e){var n;e&&!t.includes(e.id)&&e.id!==(null===(n=r.room)||void 0===n?void 0:n.userId)&&r.removeUser(e.id)})),r.updateUsers(e.filter((function(e){return e.presence})).map((function(e){return e.presence.tdUser})).filter(Boolean))}}));return function(){e()}}}),[r]),(0,e.useEffect)((function(){if(r)return window.addEventListener("beforeunload",e),function(){n.apply(this,arguments)}(),function(){window.removeEventListener("beforeunload",e),nR.unobserve(t),rR.unobserve(t)};function e(){eR.disconnect()}function t(){null===r||void 0===r||r.replacePageContent(Object.fromEntries(nR.entries()),Object.fromEntries(rR.entries()),{})}function n(){return(n=(0,HE.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nR.observe(t),rR.observe(t),t(),s(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[r]),{onMount:u,onChangePage:l,onUndo:c,onRedo:d,loading:a,onChangePresence:f}}(JO);return(0,aR.jsx)("div",{className:"tldraw",children:(0,aR.jsx)(LE,a(a({autofocus:!0,disableAssets:!0,showPages:!1,showMultiplayerMenu:!1},n),t))})},uR=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function lR(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var cR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,aR.jsx)(e.StrictMode,{children:(0,aR.jsx)(sR,{})})),function(e){if("serviceWorker"in navigator){if(new URL("/TA",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/TA","/service-worker.js");uR?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):lR(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):lR(t,e)}))}}(),cR()}()}();
//# sourceMappingURL=main.de99dd49.js.map